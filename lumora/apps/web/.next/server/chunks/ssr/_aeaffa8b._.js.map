{"version":3,"sources":["turbopack:///[project]/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","turbopack:///[project]/node_modules/use-sync-external-store/shim/index.js","turbopack:///[project]/lumora/apps/web/src/app/page.tsx","turbopack:///[project]/lumora/apps/web/src/contexts/AuthUIContext.tsx","turbopack:///[project]/lumora/apps/web/src/components/Header.tsx","turbopack:///[project]/lumora/apps/web/src/lib/chatStore.ts","turbopack:///[project]/lumora/apps/web/src/components/UserProfileMenu.tsx","turbopack:///[project]/node_modules/swr/dist/_internal/events.mjs","turbopack:///[project]/node_modules/dequal/lite/index.mjs","turbopack:///[project]/node_modules/swr/dist/_internal/config-context-client-BoS53ST9.mjs","turbopack:///[project]/node_modules/swr/dist/_internal/constants.mjs","turbopack:///[project]/lumora/apps/web/src/components/Resources.tsx","turbopack:///[project]/lumora/apps/web/src/components/LandingPage.tsx","turbopack:///[project]/lumora/apps/web/src/lib/auth.ts","turbopack:///[project]/lumora/apps/web/src/components/AuthForm.tsx","turbopack:///[project]/lumora/apps/web/src/components/AuthGate.tsx","turbopack:///[project]/lumora/apps/web/src/AppShell.tsx","turbopack:///[project]/node_modules/swr/dist/index/index.mjs","turbopack:///[project]/node_modules/swr/dist/_internal/index.mjs","turbopack:///[project]/lumora/apps/web/src/components/Dashboard.tsx","turbopack:///[project]/node_modules/shared/src/utils.ts","turbopack:///[project]/node_modules/lucide-react/src/defaultAttributes.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/loader-circle.ts","turbopack:///[project]/lumora/apps/web/src/components/MoodTracker.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/x.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/user.ts","turbopack:///[project]/lumora/apps/web/src/components/Sidebar.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-alert.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/smile.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/mail.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/target.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/trending-up.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/circle-user-round.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/globe.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/calendar.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/external-link.ts","turbopack:///[project]/lumora/apps/web/src/components/CrisisSupport.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/log-out.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/chart-column.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/trash-2.ts","turbopack:///[project]/node_modules/lucide-react/src/Icon.ts","turbopack:///[project]/node_modules/lucide-react/src/createLucideIcon.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/send.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/award.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/shield-alert.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/map-pin.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/shield.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/message-circle.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/message-square.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/book-open.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/pen-line.ts","turbopack:///[project]/lumora/apps/web/src/components/ChatInterface.tsx"],"sourcesContent":["/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","\"use client\";\n\nimport AppShell from '@/AppShell';\n\nexport default function Home() {\n  return <AppShell />;\n}\n","'use client';\n\nimport { createContext, useContext } from 'react';\n\ninterface AuthUIContextValue {\n  requestLogin: () => void;\n}\n\nconst AuthUIContext = createContext<AuthUIContextValue>({\n  requestLogin: () => {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('AuthUIContext not initialised before calling requestLogin');\n    }\n  },\n});\n\nexport function AuthUIProvider({\n  value,\n  children,\n}: {\n  value: AuthUIContextValue;\n  children: React.ReactNode;\n}) {\n  return <AuthUIContext.Provider value={value}>{children}</AuthUIContext.Provider>;\n}\n\nexport function useAuthUI(): AuthUIContextValue {\n  return useContext(AuthUIContext);\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { Menu, LogIn, LogOut } from 'lucide-react';\nimport { ViewType } from '../AppShell';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useAuthUI } from '@/contexts/AuthUIContext';\n\ninterface HeaderProps {\n  onMenuClick: () => void;\n  currentView: ViewType;\n}\n\nconst viewTitles: Record<ViewType, string> = {\n  chat: 'Chat with Lumora',\n  mood: 'Mood Tracking',\n  resources: 'Resources & Tools',\n  dashboard: 'Your Journey',\n  crisis: 'Crisis Support'\n};\n\nexport function Header({ onMenuClick, currentView }: HeaderProps) {\n  const { profile, user, logout, guestMode } = useAuth();\n  const { requestLogin } = useAuthUI();\n  const [signingOut, setSigningOut] = useState(false);\n\n  const displayName = profile?.name || user?.displayName || user?.email || (guestMode ? 'Guest session' : 'Lumora');\n\n  const handleLogout = async () => {\n    try {\n      setSigningOut(true);\n      await logout();\n    } finally {\n      setSigningOut(false);\n    }\n  };\n\n  return (\n    <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 py-4 flex items-center justify-between md:hidden\">\n      <div className=\"flex items-center gap-4\">\n        <button\n          onClick={onMenuClick}\n          className=\"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n        >\n          <Menu className=\"h-5 w-5 text-gray-600\" />\n        </button>\n        \n        {/* <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n            <Heart className=\"h-4 w-4 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Lumora\n            </h1>\n            <p className=\"text-sm text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n        </div> */}\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <h2 className=\"hidden sm:block text-left text-lg font-semibold text-gray-800\">\n          {viewTitles[currentView]}\n        </h2>\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium text-gray-700 max-w-[120px] truncate\">{displayName}</span>\n          {user ? (\n            <button\n              type=\"button\"\n              onClick={handleLogout}\n              disabled={signingOut}\n              className=\"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-100 transition disabled:opacity-60\"\n            >\n              <LogOut className=\"h-3.5 w-3.5\" />\n              {signingOut ? '...' : 'Log out'}\n            </button>\n          ) : (\n            <button\n              type=\"button\"\n              onClick={requestLogin}\n              className=\"inline-flex items-center gap-1 rounded-full border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50 transition\"\n            >\n              <LogIn className=\"h-3.5 w-3.5\" />\n              Sign in\n            </button>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n","'use client';\n\nimport { getFirebaseApp } from '@/lib/firebase';\nimport {\n  collection,\n  deleteDoc,\n  doc,\n  getDoc,\n  getDocs,\n  getFirestore,\n  limit,\n  onSnapshot,\n  orderBy,\n  query,\n  serverTimestamp,\n  setDoc,\n  startAfter,\n  type DocumentData,\n  type DocumentReference,\n  type QueryDocumentSnapshot,\n  type Unsubscribe,\n  updateDoc,\n  writeBatch,\n} from 'firebase/firestore';\n\nexport type ChatMessageRole = 'user' | 'assistant' | 'system';\n\nexport interface SessionRecord {\n  id: string;\n  title: string | null;\n  createdAt?: Date;\n  updatedAt?: Date;\n  model?: string;\n  meta?: Record<string, unknown> | null;\n  lastMessagePreview?: string | null;\n}\n\nexport interface MessageRecord {\n  id: string;\n  role: ChatMessageRole;\n  content: string;\n  createdAt?: Date;\n  tokensIn?: number;\n  tokensOut?: number;\n}\n\nexport interface ListSessionsOptions {\n  limit?: number;\n  startAfter?: QueryDocumentSnapshot<DocumentData>;\n  onError?: (error: unknown) => void;\n}\n\nexport interface SubscribeMessagesOptions {\n  limit?: number;\n  startAfter?: QueryDocumentSnapshot<DocumentData>;\n  onError?: (error: unknown) => void;\n}\n\nfunction getUserSessionsCollection(uid: string) {\n  const db = getFirestore(getFirebaseApp());\n  return collection(db, 'users', uid, 'sessions');\n}\n\nfunction buildSessionRef(uid: string, sessionId: string): DocumentReference<DocumentData> {\n  const db = getFirestore(getFirebaseApp());\n  return doc(db, 'users', uid, 'sessions', sessionId);\n}\n\nfunction sessionDataFromSnapshot(snapshot: QueryDocumentSnapshot<DocumentData>): SessionRecord {\n  const data = snapshot.data();\n  return {\n    id: snapshot.id,\n    title: (data.title ?? null) as string | null,\n    createdAt: data.createdAt?.toDate?.() ?? undefined,\n    updatedAt: data.updatedAt?.toDate?.() ?? undefined,\n    model: data.model ?? undefined,\n    meta: data.meta ?? null,\n    lastMessagePreview: data.lastMessagePreview ?? null,\n  };\n}\n\nfunction messageDataFromSnapshot(snapshot: QueryDocumentSnapshot<DocumentData>): MessageRecord {\n  const data = snapshot.data();\n  return {\n    id: snapshot.id,\n    role: data.role as ChatMessageRole,\n    content: data.content ?? '',\n    createdAt: data.createdAt?.toDate?.() ?? undefined,\n    tokensIn: data.tokensIn ?? undefined,\n    tokensOut: data.tokensOut ?? undefined,\n  };\n}\n\nfunction generateTitleFromContent(content: string): string {\n  const cleaned = content.replace(/\\s+/g, ' ').trim();\n  if (!cleaned) return 'New conversation';\n  return cleaned.length > 60 ? `${cleaned.slice(0, 57)}…` : cleaned;\n}\n\nfunction previewFromContent(content: string): string {\n  const cleaned = content.replace(/\\s+/g, ' ').trim();\n  if (!cleaned) {\n    return '';\n  }\n  return cleaned.length > 160 ? `${cleaned.slice(0, 157)}…` : cleaned;\n}\n\nexport async function createSession(\n  uid: string,\n  options: { title?: string; model?: string; meta?: Record<string, unknown> } = {}\n): Promise<string> {\n  const sessionsCollection = getUserSessionsCollection(uid);\n  const sessionRef = doc(sessionsCollection);\n  const payload: Record<string, unknown> = {\n    createdAt: serverTimestamp(),\n    updatedAt: serverTimestamp(),\n  };\n\n  if (options.title) {\n    payload.title = options.title;\n  }\n  if (options.model) {\n    payload.model = options.model;\n  }\n  if (options.meta) {\n    payload.meta = options.meta;\n  }\n\n  await setDoc(sessionRef, payload);\n  return sessionRef.id;\n}\n\nexport interface AddMessageOptions {\n  tokensIn?: number;\n  tokensOut?: number;\n  model?: string;\n}\n\nexport async function addMessage(\n  uid: string,\n  sessionId: string,\n  role: ChatMessageRole,\n  content: string,\n  options: AddMessageOptions = {}\n): Promise<string> {\n  if (!content.trim()) {\n    throw new Error('Message content is required');\n  }\n\n  const db = getFirestore(getFirebaseApp());\n  const sessionRef = doc(db, 'users', uid, 'sessions', sessionId);\n\n  const messageRef = doc(collection(sessionRef, 'messages'));\n  await setDoc(messageRef, {\n    role,\n    content,\n    createdAt: serverTimestamp(),\n    ...(options.tokensIn !== undefined ? { tokensIn: options.tokensIn } : {}),\n    ...(options.tokensOut !== undefined ? { tokensOut: options.tokensOut } : {}),\n  });\n\n  const updates: Record<string, unknown> = {\n    updatedAt: serverTimestamp(),\n    lastMessagePreview: previewFromContent(content),\n  };\n\n  if (options.model) {\n    updates.model = options.model;\n  }\n\n  if (role === 'user') {\n    const snapshot = await getDoc(sessionRef);\n    const existingTitle = snapshot.exists() ? snapshot.data()?.title : undefined;\n    if (!existingTitle) {\n      updates.title = generateTitleFromContent(content);\n    }\n  }\n\n  await updateDoc(sessionRef, updates);\n  return messageRef.id;\n}\n\nexport function listSessions(\n  uid: string,\n  options: ListSessionsOptions = {},\n  onNext: (sessions: SessionRecord[], snapshot: QueryDocumentSnapshot<DocumentData>[]) => void\n): Unsubscribe {\n  const { limit: pageSize = 20, startAfter: startAfterDoc, onError } = options;\n  const sessionsCollection = getUserSessionsCollection(uid);\n  let sessionsQuery = query(sessionsCollection, orderBy('updatedAt', 'desc'), limit(pageSize));\n\n  if (startAfterDoc) {\n    sessionsQuery = query(sessionsQuery, startAfter(startAfterDoc));\n  }\n\n  return onSnapshot(\n    sessionsQuery,\n    (snapshot) => {\n      const docs = snapshot.docs as QueryDocumentSnapshot<DocumentData>[];\n      onNext(\n        docs.map((docSnapshot) => sessionDataFromSnapshot(docSnapshot)),\n        docs\n      );\n    },\n    (error) => {\n      console.error('Failed to list sessions:', error);\n      onError?.(error);\n    }\n  );\n}\n\nexport function subscribeMessages(\n  uid: string,\n  sessionId: string,\n  options: SubscribeMessagesOptions = {},\n  onNext: (messages: MessageRecord[], docs: QueryDocumentSnapshot<DocumentData>[]) => void\n): Unsubscribe {\n  const { limit: pageSize = 50, startAfter: startAfterDoc, onError } = options;\n  const db = getFirestore(getFirebaseApp());\n  const messagesCollection = collection(db, 'users', uid, 'sessions', sessionId, 'messages');\n\n  let messagesQuery = query(messagesCollection, orderBy('createdAt', 'asc'), limit(pageSize));\n  if (startAfterDoc) {\n    messagesQuery = query(messagesQuery, startAfter(startAfterDoc));\n  }\n\n  return onSnapshot(\n    messagesQuery,\n    (snapshot) => {\n      const docs = snapshot.docs as QueryDocumentSnapshot<DocumentData>[];\n      onNext(\n        docs.map((docSnapshot) => messageDataFromSnapshot(docSnapshot)),\n        docs\n      );\n    },\n    (error) => {\n      console.error('Failed to subscribe to messages:', error);\n      onError?.(error);\n    }\n  );\n}\n\nexport async function renameSession(uid: string, sessionId: string, title: string): Promise<void> {\n  const sessionRef = buildSessionRef(uid, sessionId);\n  await updateDoc(sessionRef, {\n    title,\n    updatedAt: serverTimestamp(),\n  });\n}\n\nexport async function deleteSession(uid: string, sessionId: string): Promise<void> {\n  const db = getFirestore(getFirebaseApp());\n  const sessionRef = doc(db, 'users', uid, 'sessions', sessionId);\n  const messagesCollection = collection(sessionRef, 'messages');\n\n  const batchDelete = async () => {\n    const snapshot = await getDocs(query(messagesCollection, limit(500)));\n    if (snapshot.empty) {\n      return false;\n    }\n\n    const batch = writeBatch(db);\n    snapshot.docs.forEach((messageDoc) => {\n      batch.delete(messageDoc.ref);\n    });\n    await batch.commit();\n    return snapshot.size === 500;\n  };\n\n  let shouldContinue = true;\n  while (shouldContinue) {\n    shouldContinue = await batchDelete();\n  }\n\n  await deleteDoc(sessionRef);\n}\n\nexport async function getOrCreateActiveSession(uid: string): Promise<string> {\n  const sessionsCollection = getUserSessionsCollection(uid);\n  const recentSessions = await getDocs(query(sessionsCollection, orderBy('updatedAt', 'desc'), limit(1)));\n  if (!recentSessions.empty) {\n    return recentSessions.docs[0].id;\n  }\n  return createSession(uid);\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { LogOut, LogIn, ShieldAlert, UserCircle2 } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useAuthUI } from '@/contexts/AuthUIContext';\n\nfunction getInitials(name?: string, fallback?: string) {\n  if (name) {\n    const parts = name.trim().split(/\\s+/).slice(0, 2);\n    if (parts.length > 0) {\n      return parts.map((part) => part[0]?.toUpperCase() ?? '').join('') || fallback?.[0]?.toUpperCase() || 'U';\n    }\n  }\n  return fallback?.[0]?.toUpperCase() ?? 'U';\n}\n\nexport function UserProfileMenu() {\n  const { user, profile, logout, guestMode } = useAuth();\n  const { requestLogin } = useAuthUI();\n  const [signingOut, setSigningOut] = useState(false);\n\n  if (!user) {\n    return (\n      <div className=\"rounded-xl border border-indigo-100 bg-white/70 p-4 shadow-sm\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100 text-indigo-700\">\n            <ShieldAlert className=\"h-6 w-6\" />\n          </div>\n          <div className=\"space-y-1\">\n            <p className=\"text-sm font-semibold text-indigo-900\">\n              {guestMode ? \"You're exploring in guest mode\" : 'Welcome to Lumora'}\n            </p>\n            <p className=\"text-xs text-indigo-700/80\">\n              Sign in to save conversations and track your progress across visits. You can keep exploring without an\n              account, too.\n            </p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          onClick={requestLogin}\n          className=\"mt-4 inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700\"\n        >\n          <LogIn className=\"h-4 w-4\" />\n          Sign in\n        </button>\n      </div>\n    );\n  }\n\n  const displayName = profile?.name || user?.displayName || user?.email || 'Welcome';\n  const email = user?.email ?? profile?.email ?? '';\n  const accountType = profile?.accountType ?? 'user';\n\n  const initials = getInitials(profile?.name, user?.email ?? undefined);\n\n  const handleLogout = async () => {\n    try {\n      setSigningOut(true);\n      await logout();\n    } finally {\n      setSigningOut(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gradient-to-br from-indigo-50 via-white to-purple-50 border border-indigo-100 rounded-xl p-4 shadow-sm\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"h-12 w-12 rounded-full bg-indigo-600 text-white flex items-center justify-center text-lg font-semibold shadow-md\">\n          {user?.photoURL ? (\n            // eslint-disable-next-line @next/next/no-img-element\n            <img\n              src={user.photoURL}\n              alt={displayName}\n              className=\"h-full w-full rounded-full object-cover\"\n              referrerPolicy=\"no-referrer\"\n            />\n          ) : (\n            initials\n          )}\n        </div>\n        <div className=\"min-w-0\">\n          <p className=\"text-sm font-medium text-indigo-900 truncate\">{displayName}</p>\n          {email && (\n            <p className=\"text-xs text-indigo-700/70 truncate\" title={email}>\n              {email}\n            </p>\n          )}\n          <div className=\"mt-1 inline-flex items-center gap-1 rounded-full bg-white/70 border border-indigo-100 px-2 py-0.5\">\n            <UserCircle2 className=\"h-3.5 w-3.5 text-indigo-500\" />\n            <span className=\"text-xs font-medium capitalize text-indigo-700\">{accountType}</span>\n          </div>\n        </div>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={handleLogout}\n        disabled={signingOut}\n        className=\"mt-4 w-full inline-flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 rounded-lg transition disabled:opacity-70 disabled:cursor-not-allowed\"\n      >\n        <LogOut className=\"h-4 w-4\" />\n        {signingOut ? 'Signing out…' : 'Log out'}\n      </button>\n    </div>\n  );\n}\n","const FOCUS_EVENT = 0;\nconst RECONNECT_EVENT = 1;\nconst MUTATE_EVENT = 2;\nconst ERROR_REVALIDATE_EVENT = 3;\n\nexport { ERROR_REVALIDATE_EVENT, FOCUS_EVENT, MUTATE_EVENT, RECONNECT_EVENT };\n","var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","'use client';\nimport React, { useEffect, useLayoutEffect, createContext, useContext, useMemo, useRef, createElement } from 'react';\nimport * as revalidateEvents from './events.mjs';\nimport { dequal } from 'dequal/lite';\n\n// Global state used to deduplicate requests and store listeners\nconst SWRGlobalState = new WeakMap();\n\n// Shared state between server components and client components\nconst noop = ()=>{};\n// Using noop() as the undefined value as undefined can be replaced\n// by something else. Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nconst UNDEFINED = /*#__NOINLINE__*/ noop();\nconst OBJECT = Object;\nconst isUndefined = (v)=>v === UNDEFINED;\nconst isFunction = (v)=>typeof v == 'function';\nconst mergeObjects = (a, b)=>({\n        ...a,\n        ...b\n    });\nconst isPromiseLike = (x)=>isFunction(x.then);\n\nconst EMPTY_CACHE = {};\nconst INITIAL_CACHE = {};\nconst STR_UNDEFINED = 'undefined';\n// NOTE: Use the function to guarantee it's re-evaluated between jsdom and node runtime for tests.\nconst isWindowDefined = typeof window != STR_UNDEFINED;\nconst isDocumentDefined = typeof document != STR_UNDEFINED;\nconst isLegacyDeno = isWindowDefined && 'Deno' in window;\nconst hasRequestAnimationFrame = ()=>isWindowDefined && typeof window['requestAnimationFrame'] != STR_UNDEFINED;\nconst createCacheHelper = (cache, key)=>{\n    const state = SWRGlobalState.get(cache);\n    return [\n        // Getter\n        ()=>!isUndefined(key) && cache.get(key) || EMPTY_CACHE,\n        // Setter\n        (info)=>{\n            if (!isUndefined(key)) {\n                const prev = cache.get(key);\n                // Before writing to the store, we keep the value in the initial cache\n                // if it's not there yet.\n                if (!(key in INITIAL_CACHE)) {\n                    INITIAL_CACHE[key] = prev;\n                }\n                state[5](key, mergeObjects(prev, info), prev || EMPTY_CACHE);\n            }\n        },\n        // Subscriber\n        state[6],\n        // Get server cache snapshot\n        ()=>{\n            if (!isUndefined(key)) {\n                // If the cache was updated on the client, we return the stored initial value.\n                if (key in INITIAL_CACHE) return INITIAL_CACHE[key];\n            }\n            // If we haven't done any client-side updates, we return the current value.\n            return !isUndefined(key) && cache.get(key) || EMPTY_CACHE;\n        }\n    ];\n} // export { UNDEFINED, OBJECT, isUndefined, isFunction, mergeObjects, isPromiseLike }\n;\n\n/**\n * Due to the bug https://bugs.chromium.org/p/chromium/issues/detail?id=678075,\n * it's not reliable to detect if the browser is currently online or offline\n * based on `navigator.onLine`.\n * As a workaround, we always assume it's online on the first load, and change\n * the status upon `online` or `offline` events.\n */ let online = true;\nconst isOnline = ()=>online;\n// For node and React Native, `add/removeEventListener` doesn't exist on window.\nconst [onWindowEvent, offWindowEvent] = isWindowDefined && window.addEventListener ? [\n    window.addEventListener.bind(window),\n    window.removeEventListener.bind(window)\n] : [\n    noop,\n    noop\n];\nconst isVisible = ()=>{\n    const visibilityState = isDocumentDefined && document.visibilityState;\n    return isUndefined(visibilityState) || visibilityState !== 'hidden';\n};\nconst initFocus = (callback)=>{\n    // focus revalidate\n    if (isDocumentDefined) {\n        document.addEventListener('visibilitychange', callback);\n    }\n    onWindowEvent('focus', callback);\n    return ()=>{\n        if (isDocumentDefined) {\n            document.removeEventListener('visibilitychange', callback);\n        }\n        offWindowEvent('focus', callback);\n    };\n};\nconst initReconnect = (callback)=>{\n    // revalidate on reconnected\n    const onOnline = ()=>{\n        online = true;\n        callback();\n    };\n    // nothing to revalidate, just update the status\n    const onOffline = ()=>{\n        online = false;\n    };\n    onWindowEvent('online', onOnline);\n    onWindowEvent('offline', onOffline);\n    return ()=>{\n        offWindowEvent('online', onOnline);\n        offWindowEvent('offline', onOffline);\n    };\n};\nconst preset = {\n    isOnline,\n    isVisible\n};\nconst defaultConfigOptions = {\n    initFocus,\n    initReconnect\n};\n\nconst IS_REACT_LEGACY = !React.useId;\nconst IS_SERVER = !isWindowDefined || isLegacyDeno;\n// Polyfill requestAnimationFrame\nconst rAF = (f)=>hasRequestAnimationFrame() ? window['requestAnimationFrame'](f) : setTimeout(f, 1);\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nconst useIsomorphicLayoutEffect = IS_SERVER ? useEffect : useLayoutEffect;\n// This assignment is to extend the Navigator type to use effectiveType.\nconst navigatorConnection = typeof navigator !== 'undefined' && navigator.connection;\n// Adjust the config based on slow connection status (<= 70Kbps).\nconst slowConnection = !IS_SERVER && navigatorConnection && ([\n    'slow-2g',\n    '2g'\n].includes(navigatorConnection.effectiveType) || navigatorConnection.saveData);\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nconst table = new WeakMap();\nconst getTypeName = (value)=>OBJECT.prototype.toString.call(value);\nconst isObjectTypeName = (typeName, type)=>typeName === `[object ${type}]`;\n// counter of the key\nlet counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsable.\nconst stableHash = (arg)=>{\n    const type = typeof arg;\n    const typeName = getTypeName(arg);\n    const isDate = isObjectTypeName(typeName, 'Date');\n    const isRegex = isObjectTypeName(typeName, 'RegExp');\n    const isPlainObject = isObjectTypeName(typeName, 'Object');\n    let result;\n    let index;\n    if (OBJECT(arg) === arg && !isDate && !isRegex) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result) return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (Array.isArray(arg)) {\n            // Array.\n            result = '@';\n            for(index = 0; index < arg.length; index++){\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (isPlainObject) {\n            // Object, sort keys.\n            result = '#';\n            const keys = OBJECT.keys(arg).sort();\n            while(!isUndefined(index = keys.pop())){\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    } else {\n        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n    }\n    return result;\n};\n\nconst serialize = (key)=>{\n    if (isFunction(key)) {\n        try {\n            key = key();\n        } catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    // Use the original key as the argument of fetcher. This can be a string or an\n    // array of values.\n    const args = key;\n    // If key is not falsy, or not an empty array, hash it.\n    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n    return [\n        key,\n        args\n    ];\n};\n\n// Global timestamp.\nlet __timestamp = 0;\nconst getTimestamp = ()=>++__timestamp;\n\nasync function internalMutate(...args) {\n    const [cache, _key, _data, _opts] = args;\n    // When passing as a boolean, it's explicitly used to disable/enable\n    // revalidation.\n    const options = mergeObjects({\n        populateCache: true,\n        throwOnError: true\n    }, typeof _opts === 'boolean' ? {\n        revalidate: _opts\n    } : _opts || {});\n    let populateCache = options.populateCache;\n    const rollbackOnErrorOption = options.rollbackOnError;\n    let optimisticData = options.optimisticData;\n    const rollbackOnError = (error)=>{\n        return typeof rollbackOnErrorOption === 'function' ? rollbackOnErrorOption(error) : rollbackOnErrorOption !== false;\n    };\n    const throwOnError = options.throwOnError;\n    // If the second argument is a key filter, return the mutation results for all\n    // filtered keys.\n    if (isFunction(_key)) {\n        const keyFilter = _key;\n        const matchedKeys = [];\n        const it = cache.keys();\n        for (const key of it){\n            if (// Skip the special useSWRInfinite and useSWRSubscription keys.\n            !/^\\$(inf|sub)\\$/.test(key) && keyFilter(cache.get(key)._k)) {\n                matchedKeys.push(key);\n            }\n        }\n        return Promise.all(matchedKeys.map(mutateByKey));\n    }\n    return mutateByKey(_key);\n    async function mutateByKey(_k) {\n        // Serialize key\n        const [key] = serialize(_k);\n        if (!key) return;\n        const [get, set] = createCacheHelper(cache, key);\n        const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);\n        const startRevalidate = ()=>{\n            const revalidators = EVENT_REVALIDATORS[key];\n            const revalidate = isFunction(options.revalidate) ? options.revalidate(get().data, _k) : options.revalidate !== false;\n            if (revalidate) {\n                // Invalidate the key by deleting the concurrent request markers so new\n                // requests will not be deduped.\n                delete FETCH[key];\n                delete PRELOAD[key];\n                if (revalidators && revalidators[0]) {\n                    return revalidators[0](revalidateEvents.MUTATE_EVENT).then(()=>get().data);\n                }\n            }\n            return get().data;\n        };\n        // If there is no new data provided, revalidate the key with current state.\n        if (args.length < 3) {\n            // Revalidate and broadcast state.\n            return startRevalidate();\n        }\n        let data = _data;\n        let error;\n        let isError = false;\n        // Update global timestamps.\n        const beforeMutationTs = getTimestamp();\n        MUTATION[key] = [\n            beforeMutationTs,\n            0\n        ];\n        const hasOptimisticData = !isUndefined(optimisticData);\n        const state = get();\n        // `displayedData` is the current value on screen. It could be the optimistic value\n        // that is going to be overridden by a `committedData`, or get reverted back.\n        // `committedData` is the validated value that comes from a fetch or mutation.\n        const displayedData = state.data;\n        const currentData = state._c;\n        const committedData = isUndefined(currentData) ? displayedData : currentData;\n        // Do optimistic data update.\n        if (hasOptimisticData) {\n            optimisticData = isFunction(optimisticData) ? optimisticData(committedData, displayedData) : optimisticData;\n            // When we set optimistic data, backup the current committedData data in `_c`.\n            set({\n                data: optimisticData,\n                _c: committedData\n            });\n        }\n        if (isFunction(data)) {\n            // `data` is a function, call it passing current cache value.\n            try {\n                data = data(committedData);\n            } catch (err) {\n                // If it throws an error synchronously, we shouldn't update the cache.\n                error = err;\n                isError = true;\n            }\n        }\n        // `data` is a promise/thenable, resolve the final data first.\n        if (data && isPromiseLike(data)) {\n            // This means that the mutation is async, we need to check timestamps to\n            // avoid race conditions.\n            data = await data.catch((err)=>{\n                error = err;\n                isError = true;\n            });\n            // Check if other mutations have occurred since we've started this mutation.\n            // If there's a race we don't update cache or broadcast the change,\n            // just return the data.\n            if (beforeMutationTs !== MUTATION[key][0]) {\n                if (isError) throw error;\n                return data;\n            } else if (isError && hasOptimisticData && rollbackOnError(error)) {\n                // Rollback. Always populate the cache in this case but without\n                // transforming the data.\n                populateCache = true;\n                // Reset data to be the latest committed data, and clear the `_c` value.\n                set({\n                    data: committedData,\n                    _c: UNDEFINED\n                });\n            }\n        }\n        // If we should write back the cache after request.\n        if (populateCache) {\n            if (!isError) {\n                // Transform the result into data.\n                if (isFunction(populateCache)) {\n                    const populateCachedData = populateCache(data, committedData);\n                    set({\n                        data: populateCachedData,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                } else {\n                    // Only update cached data and reset the error if there's no error. Data can be `undefined` here.\n                    set({\n                        data,\n                        error: UNDEFINED,\n                        _c: UNDEFINED\n                    });\n                }\n            }\n        }\n        // Reset the timestamp to mark the mutation has ended.\n        MUTATION[key][1] = getTimestamp();\n        // Update existing SWR Hooks' internal states:\n        Promise.resolve(startRevalidate()).then(()=>{\n            // The mutation and revalidation are ended, we can clear it since the data is\n            // not an optimistic value anymore.\n            set({\n                _c: UNDEFINED\n            });\n        });\n        // Throw error or return data\n        if (isError) {\n            if (throwOnError) throw error;\n            return;\n        }\n        return data;\n    }\n}\n\nconst revalidateAllKeys = (revalidators, type)=>{\n    for(const key in revalidators){\n        if (revalidators[key][0]) revalidators[key][0](type);\n    }\n};\nconst initCache = (provider, options)=>{\n    // The global state for a specific provider will be used to deduplicate\n    // requests and store listeners. As well as a mutate function that is bound to\n    // the cache.\n    // The provider's global state might be already initialized. Let's try to get the\n    // global state associated with the provider first.\n    if (!SWRGlobalState.has(provider)) {\n        const opts = mergeObjects(defaultConfigOptions, options);\n        // If there's no global state bound to the provider, create a new one with the\n        // new mutate function.\n        const EVENT_REVALIDATORS = Object.create(null);\n        const mutate = internalMutate.bind(UNDEFINED, provider);\n        let unmount = noop;\n        const subscriptions = Object.create(null);\n        const subscribe = (key, callback)=>{\n            const subs = subscriptions[key] || [];\n            subscriptions[key] = subs;\n            subs.push(callback);\n            return ()=>subs.splice(subs.indexOf(callback), 1);\n        };\n        const setter = (key, value, prev)=>{\n            provider.set(key, value);\n            const subs = subscriptions[key];\n            if (subs) {\n                for (const fn of subs){\n                    fn(value, prev);\n                }\n            }\n        };\n        const initProvider = ()=>{\n            if (!SWRGlobalState.has(provider)) {\n                // Update the state if it's new, or if the provider has been extended.\n                SWRGlobalState.set(provider, [\n                    EVENT_REVALIDATORS,\n                    Object.create(null),\n                    Object.create(null),\n                    Object.create(null),\n                    mutate,\n                    setter,\n                    subscribe\n                ]);\n                if (!IS_SERVER) {\n                    // When listening to the native events for auto revalidations,\n                    // we intentionally put a delay (setTimeout) here to make sure they are\n                    // fired after immediate JavaScript executions, which can be\n                    // React's state updates.\n                    // This avoids some unnecessary revalidations such as\n                    // https://github.com/vercel/swr/issues/1680.\n                    const releaseFocus = opts.initFocus(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, revalidateEvents.FOCUS_EVENT)));\n                    const releaseReconnect = opts.initReconnect(setTimeout.bind(UNDEFINED, revalidateAllKeys.bind(UNDEFINED, EVENT_REVALIDATORS, revalidateEvents.RECONNECT_EVENT)));\n                    unmount = ()=>{\n                        releaseFocus && releaseFocus();\n                        releaseReconnect && releaseReconnect();\n                        // When un-mounting, we need to remove the cache provider from the state\n                        // storage too because it's a side-effect. Otherwise, when re-mounting we\n                        // will not re-register those event listeners.\n                        SWRGlobalState.delete(provider);\n                    };\n                }\n            }\n        };\n        initProvider();\n        // This is a new provider, we need to initialize it and setup DOM events\n        // listeners for `focus` and `reconnect` actions.\n        // We might want to inject an extra layer on top of `provider` in the future,\n        // such as key serialization, auto GC, etc.\n        // For now, it's just a `Map` interface without any modifications.\n        return [\n            provider,\n            mutate,\n            initProvider,\n            unmount\n        ];\n    }\n    return [\n        provider,\n        SWRGlobalState.get(provider)[4]\n    ];\n};\n\n// error retry\nconst onErrorRetry = (_, __, config, revalidate, opts)=>{\n    const maxRetryCount = config.errorRetryCount;\n    const currentRetryCount = opts.retryCount;\n    // Exponential backoff\n    const timeout = ~~((Math.random() + 0.5) * (1 << (currentRetryCount < 8 ? currentRetryCount : 8))) * config.errorRetryInterval;\n    if (!isUndefined(maxRetryCount) && currentRetryCount > maxRetryCount) {\n        return;\n    }\n    setTimeout(revalidate, timeout, opts);\n};\nconst compare = dequal;\n// Default cache provider\nconst [cache, mutate] = initCache(new Map());\n// Default config\nconst defaultConfig = mergeObjects({\n    // events\n    onLoadingSlow: noop,\n    onSuccess: noop,\n    onError: noop,\n    onErrorRetry,\n    onDiscarded: noop,\n    // switches\n    revalidateOnFocus: true,\n    revalidateOnReconnect: true,\n    revalidateIfStale: true,\n    shouldRetryOnError: true,\n    // timeouts\n    errorRetryInterval: slowConnection ? 10000 : 5000,\n    focusThrottleInterval: 5 * 1000,\n    dedupingInterval: 2 * 1000,\n    loadingTimeout: slowConnection ? 5000 : 3000,\n    // providers\n    compare,\n    isPaused: ()=>false,\n    cache,\n    mutate,\n    fallback: {}\n}, // use web preset by default\npreset);\n\nconst mergeConfigs = (a, b)=>{\n    // Need to create a new object to avoid mutating the original here.\n    const v = mergeObjects(a, b);\n    // If two configs are provided, merge their `use` and `fallback` options.\n    if (b) {\n        const { use: u1, fallback: f1 } = a;\n        const { use: u2, fallback: f2 } = b;\n        if (u1 && u2) {\n            v.use = u1.concat(u2);\n        }\n        if (f1 && f2) {\n            v.fallback = mergeObjects(f1, f2);\n        }\n    }\n    return v;\n};\n\nconst SWRConfigContext = createContext({});\nconst SWRConfig = (props)=>{\n    const { value } = props;\n    const parentConfig = useContext(SWRConfigContext);\n    const isFunctionalConfig = isFunction(value);\n    const config = useMemo(()=>isFunctionalConfig ? value(parentConfig) : value, [\n        isFunctionalConfig,\n        parentConfig,\n        value\n    ]);\n    // Extend parent context values and middleware.\n    const extendedConfig = useMemo(()=>isFunctionalConfig ? config : mergeConfigs(parentConfig, config), [\n        isFunctionalConfig,\n        parentConfig,\n        config\n    ]);\n    // Should not use the inherited provider.\n    const provider = config && config.provider;\n    // initialize the cache only on first access.\n    const cacheContextRef = useRef(UNDEFINED);\n    if (provider && !cacheContextRef.current) {\n        cacheContextRef.current = initCache(provider(extendedConfig.cache || cache), config);\n    }\n    const cacheContext = cacheContextRef.current;\n    // Override the cache if a new provider is given.\n    if (cacheContext) {\n        extendedConfig.cache = cacheContext[0];\n        extendedConfig.mutate = cacheContext[1];\n    }\n    // Unsubscribe events.\n    useIsomorphicLayoutEffect(()=>{\n        if (cacheContext) {\n            cacheContext[2] && cacheContext[2]();\n            return cacheContext[3];\n        }\n    }, []);\n    return createElement(SWRConfigContext.Provider, mergeObjects(props, {\n        value: extendedConfig\n    }));\n};\n\nexport { noop as A, isPromiseLike as B, IS_REACT_LEGACY as I, OBJECT as O, SWRConfigContext as S, UNDEFINED as U, isFunction as a, SWRGlobalState as b, cache as c, defaultConfig as d, isUndefined as e, mergeConfigs as f, SWRConfig as g, initCache as h, isWindowDefined as i, mutate as j, compare as k, stableHash as l, mergeObjects as m, internalMutate as n, getTimestamp as o, preset as p, defaultConfigOptions as q, IS_SERVER as r, serialize as s, rAF as t, useIsomorphicLayoutEffect as u, slowConnection as v, isDocumentDefined as w, isLegacyDeno as x, hasRequestAnimationFrame as y, createCacheHelper as z };\n","const INFINITE_PREFIX = '$inf$';\n\nexport { INFINITE_PREFIX };\n","\"use client\";\n\nimport useSWR from 'swr';\nimport { Phone, Mail, MapPin, Clock, ExternalLink, HeartHandshake, ArrowRight } from 'lucide-react';\n\ntype Contact = {\n  name: string;\n  phone?: string;\n  email?: string;\n  hours?: string;\n  locationUrl?: string;\n};\n\ninterface ResourcesProps {\n  onNavigateToCrisis?: () => void;\n}\n\nconst fetcher = (url: string) => fetch(url).then(res => res.json());\n\nexport function Resources({ onNavigateToCrisis }: ResourcesProps) {\n  const { data, isLoading, error } = useSWR<{ contacts: Contact[] }>(\n    '/api/resources',\n    fetcher,\n    { refreshInterval: 5 * 60 * 1000 }\n  );\n\n  const contacts = data?.contacts ?? [];\n\n  return (\n    <div className=\"p-6 max-w-5xl mx-auto space-y-6\">\n      <section className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-full flex items-center justify-center\">\n            <HeartHandshake className=\"h-5 w-5 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">Support & Resources</h1>\n            <p className=\"text-sm text-gray-600\">\n              Connect with caring professionals and on-campus services ready to help.\n            </p>\n          </div>\n        </div>\n        <p className=\"text-sm text-gray-600\">\n          These contacts are provided by your counseling center. Reach out to schedule an appointment,\n          ask a question, or learn about available support options.\n        </p>\n      </section>\n\n      {isLoading && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {Array.from({ length: 4 }).map((_, index) => (\n            <div\n              key={index}\n              className=\"h-40 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse rounded-2xl\"\n            />\n          ))}\n        </div>\n      )}\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 rounded-2xl p-4\">\n          We could not load the resource list right now. Please try again in a few minutes.\n        </div>\n      )}\n\n      {!isLoading && !error && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {contacts.map((contact, index) => (\n            <article\n              key={`${contact.name}-${index}`}\n              className=\"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 p-6 space-y-4\"\n            >\n              <header>\n                <h2 className=\"text-lg font-semibold text-gray-800\">{contact.name}</h2>\n                {contact.hours && (\n                  <div className=\"mt-1 inline-flex items-center gap-2 text-sm text-gray-500\">\n                    <Clock className=\"h-4 w-4\" />\n                    <span>{contact.hours}</span>\n                  </div>\n                )}\n              </header>\n\n              <div className=\"flex flex-wrap gap-3 text-sm text-gray-600\">\n                {contact.phone && (\n                  <a\n                    href={`tel:${contact.phone}`}\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-blue-50 text-blue-700 font-medium hover:bg-blue-100 transition-colors\"\n                  >\n                    <Phone className=\"h-4 w-4\" />\n                    Call {contact.phone}\n                  </a>\n                )}\n                {contact.email && (\n                  <a\n                    href={`mailto:${contact.email}`}\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 text-green-700 font-medium hover:bg-green-100 transition-colors\"\n                  >\n                    <Mail className=\"h-4 w-4\" />\n                    Email Support\n                  </a>\n                )}\n                {contact.locationUrl && (\n                  <a\n                    href={contact.locationUrl}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-purple-50 text-purple-700 font-medium hover:bg-purple-100 transition-colors\"\n                  >\n                    <MapPin className=\"h-4 w-4\" />\n                    Visit Website\n                    <ExternalLink className=\"h-3 w-3\" />\n                  </a>\n                )}\n              </div>\n            </article>\n          ))}\n\n          {contacts.length === 0 && (\n            <div className=\"col-span-full bg-white border border-dashed border-gray-300 rounded-2xl p-6 text-center text-gray-500\">\n              No counseling contacts are available yet. Check back soon or reach out to your\n              counseling center directly.\n            </div>\n          )}\n        </div>\n      )}\n\n      <section className=\"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-2\">Need immediate help?</h2>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          If you or someone you know is in crisis, visit the Crisis Support tab to find emergency\n          hotlines and safety planning tools.\n        </p>\n        <button\n          type=\"button\"\n          onClick={onNavigateToCrisis}\n          className=\"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\"\n          disabled={!onNavigateToCrisis}\n        >\n          Explore Crisis Support\n          <ArrowRight className=\"h-4 w-4\" />\n        </button>\n      </section>\n    </div>\n  );\n}\n","\"use client\"\n\nimport { useEffect, useRef } from \"react\"\nimport Image from \"next/image\"\n\ndeclare global {\n  interface Window {\n    AOS?: {\n      init: (options?: { duration?: number; once?: boolean }) => void\n    }\n    feather?: {\n      replace: () => void\n    }\n    THREE?: unknown\n    VANTA?: {\n      WAVES: (options: Record<string, unknown>) => { destroy?: () => void }\n    }\n  }\n}\n\nconst FORM_ENDPOINT = \"https://formspree.io/f/mzzanbqy\"\n\nconst loadScript = (src: string) =>\n  new Promise<void>((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\n      resolve()\n      return\n    }\n\n    const script = document.createElement(\"script\")\n    script.src = src\n    script.async = true\n    script.onload = () => resolve()\n    script.onerror = () => reject(new Error(`Failed to load script: ${src}`))\n    document.body.appendChild(script)\n  })\n\nconst loadStylesheet = (href: string) =>\n  new Promise<void>((resolve, reject) => {\n    if (document.querySelector(`link[href=\"${href}\"]`)) {\n      resolve()\n      return\n    }\n\n    const link = document.createElement(\"link\")\n    link.rel = \"stylesheet\"\n    link.href = href\n    link.onload = () => resolve()\n    link.onerror = () => reject(new Error(`Failed to load stylesheet: ${href}`))\n    document.head.appendChild(link)\n  })\n\nfunction attachEarlyFormListener() {\n  const form = document.getElementById(\"early-form\") as HTMLFormElement | null\n  if (!form) return () => {}\n\n  const statusEl = document.getElementById(\"form-status\")\n  const submitBtn = document.getElementById(\"submit-btn\") as HTMLButtonElement | null\n\n  const handleSubmit = async (event: SubmitEvent) => {\n    event.preventDefault()\n\n    if (!submitBtn || !statusEl) return\n\n    statusEl.textContent = \"\"\n    submitBtn.disabled = true\n    submitBtn.style.opacity = \"0.8\"\n\n    const fd = new FormData(form)\n    if (fd.get(\"_gotcha\")) {\n      submitBtn.disabled = false\n      submitBtn.style.opacity = \"\"\n      return\n    }\n\n    try {\n      const response = await fetch(FORM_ENDPOINT, {\n        method: \"POST\",\n        body: fd,\n        headers: { Accept: \"application/json\" },\n      })\n\n      if (response.ok) {\n        form.reset()\n        statusEl.textContent = \"Thanks! Check your inbox soon.\"\n      } else {\n        statusEl.textContent = \"Something went wrong. Please try again.\"\n      }\n    } catch (error) {\n      console.error(\"Failed to submit early access form\", error)\n      statusEl.textContent = \"Network error—please try again.\"\n    } finally {\n      submitBtn.disabled = false\n      submitBtn.style.opacity = \"\"\n    }\n  }\n\n  form.addEventListener(\"submit\", handleSubmit)\n\n  return () => {\n    form.removeEventListener(\"submit\", handleSubmit)\n  }\n}\n\ninterface LandingPageProps {\n  onEnterApp: () => void\n}\n\nexport function LandingPage({ onEnterApp }: LandingPageProps) {\n  const vantaContainerRef = useRef<HTMLDivElement | null>(null)\n  const vantaInstanceRef = useRef<{ destroy?: () => void } | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const prefersReduced = window.matchMedia && window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n    let detachFormListener: (() => void) | undefined\n\n    const initialise = async () => {\n      try {\n        await loadStylesheet(\"https://unpkg.com/aos@2.3.1/dist/aos.css\")\n        await loadScript(\"https://unpkg.com/aos@2.3.1/dist/aos.js\")\n        await loadScript(\"https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js\")\n\n        if (!prefersReduced && !window.THREE) {\n          await loadScript(\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js\")\n        }\n\n        if (!prefersReduced) {\n          await loadScript(\"https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js\")\n        }\n\n        if (!isMounted) {\n          return\n        }\n\n        if (!prefersReduced && window.VANTA && window.THREE && vantaContainerRef.current && !vantaInstanceRef.current) {\n          vantaInstanceRef.current = window.VANTA.WAVES({\n            el: vantaContainerRef.current,\n            color: 0xb8a9f5, // Soft lavender (lighter, less saturated purple)\n            backgroundColor: 0xfdfbff, // Very light off-white with subtle warmth\n            waveHeight: 15, // Slightly taller waves for more fluid motion\n            shininess: 25, // Reduced shine for softer appearance\n            waveSpeed: 0.5, // Slightly faster for more noticeable movement\n            zoom: 0.9, // Slightly more zoomed for smoother waves\n          })\n        }\n\n        if (!prefersReduced && window.AOS) {\n          window.AOS.init({ duration: 700, once: true })\n        }\n\n        window.feather?.replace()\n        detachFormListener = attachEarlyFormListener()\n      } catch (error) {\n        console.error(\"Failed to initialise landing page enhancements\", error)\n      }\n    }\n\n    initialise()\n\n    return () => {\n      isMounted = false\n\n      if (vantaInstanceRef.current) {\n        vantaInstanceRef.current.destroy?.()\n        vantaInstanceRef.current = null\n      }\n\n      detachFormListener?.()\n    }\n  }, [])\n\n  return (\n    <div className=\"min-h-screen font-sans antialiased bg-gradient-to-br from-calm-50 via-white to-serene-50\">\n      <div ref={vantaContainerRef} className=\"relative overflow-hidden\">\n        <div className=\"pointer-events-none absolute inset-0\">\n          {/* <div className=\"absolute inset-x-1/2 top-[-10%] h-[28rem] w-[28rem] -translate-x-1/2 rounded-full bg-gradient-to-br from-serene-400/30 via-accent/30 to-primary/20 opacity-60\" /> */}\n          <div className=\"absolute -bottom-32 -left-32 h-96 w-96 rounded-full bg-gradient-to-tr from-serene-400/20 via-white/10 to-transparent blur-3xl\" />\n          <div className=\"absolute -bottom-48 -right-24 h-[30rem] w-[30rem] rounded-full bg-accent/30 blur-[160px]\" />\n        </div>\n\n        <nav className=\"relative z-10 px-6 py-7 flex items-center\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n            <div>\n              <div className=\"flex items-baseline gap-2\">\n                <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                  Lumora\n                </h1>\n                <span className=\"text-sm text-gray-500\">(Beta)</span>\n              </div>\n              <p className=\"text-sm font-bold text-gray-500 hidden sm:block\">Light for the mind</p>\n            </div>\n          </div>\n          {/* <a\n            href=\"#waitlist\"\n            className=\"hidden sm:inline-flex items-center gap-2.5 rounded-full border border-calm-200/60 bg-white/80 backdrop-blur-sm px-6 py-2.5 text-sm font-medium text-foreground shadow-sm transition-all hover:bg-white hover:shadow-md hover:scale-105 active:scale-95\"\n          >\n            <span className=\"h-2 w-2 rounded-full bg-serene-400 animate-pulse\" />\n            Join the signal\n          </a> */}\n        </nav>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-6 pt-20 pb-32 md:pt-28 md:pb-40 text-center\">\n          <div className=\"mx-auto flex max-w-4xl flex-col items-center gap-7\">\n            {/* <span\n              className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-5 py-2 text-[0.7rem] font-bold tracking-[0.35em] text-muted-foreground shadow-sm\"\n              data-aos=\"fade-up\"\n            >\n              A QUIET SIGNAL\n            </span> */}\n            <h1\n              className=\"text-5xl font-bold leading-tight text-foreground md:text-7xl text-balance\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"60\"\n            >\n              Light for the mind.\n            </h1>\n            <p\n              className=\"max-w-2xl text-lg text-muted-foreground md:text-xl leading-relaxed text-pretty\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"110\"\n            >\n              A calm space designed to support your mental wellbeing anytime, anywhere.\n            </p>\n            <div\n              className=\"flex flex-col items-center gap-4 sm:flex-row sm:gap-5 mt-2\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"160\"\n            >\n              <a\n                href=\"#features\"\n                className=\"w-full sm:w-auto rounded-full bg-gradient-to-r from-serene-400 to-accent px-9 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n              >\n                Follow the Signal\n              </a>\n              <button\n                type=\"button\"\n                onClick={onEnterApp}\n                className=\"w-full sm:w-auto rounded-full border-2 border-calm-200/60 bg-white/80 backdrop-blur-sm px-9 py-4 text-[15px] font-semibold text-foreground transition-all hover:bg-white hover:shadow-md hover:scale-105 active:scale-95\"\n              >\n                Enter the App\n              </button>\n            </div>\n            <div\n              className=\"flex flex-col items-center gap-5 pt-6 text-sm text-muted-foreground md:flex-row md:gap-8\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"200\"\n            >\n              <div className=\"flex items-center gap-2.5\">\n                <span className=\"h-2 w-2 rounded-full bg-accent\" />\n                From stress to support. // 2025\n              </div>\n              <div className=\"flex items-center gap-2.5\">\n                <i data-feather=\"shield\" className=\"h-4 w-4 opacity-70\" />\n                Private by default, always.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-gradient-to-b from-serene-50/30 via-accent/5 to-calm-50/40\">\n        <section id=\"features\" className=\"relative z-10 -mt-16 bg-transparent py-28\">\n          <div className=\"max-w-7xl mx-auto px-6\">\n            <div className=\"mx-auto max-w-3xl text-center mb-16\" data-aos=\"fade-up\">\n              <h2 className=\"text-3xl font-bold text-foreground md:text-4xl text-balance\">Features that care for you\n</h2>\n              <p className=\"mt-4 text-lg text-muted-foreground leading-relaxed text-pretty\">\n                An AI companion offers personalized support for your mental wellbeing\n              </p>\n            </div>\n\n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n              >\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                  <i data-feather=\"message-circle\" className=\"h-6 w-6 text-serene-600\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Always Available</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Get support whenever you need it, day or night, without waiting for appointments.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"80\"\n              >\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-calm-500/20 shadow-sm\">\n                  <i data-feather=\"heart\" className=\"h-6 w-6 text-serene-600\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Personalized Support</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Our AI learns about you and adapts to provide the most relevant support for your needs.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"shield\" className=\"h-6 w-6 text-success\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Judgment-Free Zone</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Express yourself freely in a safe, confidential space without fear of judgment.\n                </p>\n              </div>\n\n               <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                  <i data-feather=\"activity\" className=\"h-6 w-6 text-serene\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Mood Tracking</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                    Track your emotional patterns and receive insights to better understand your wellbeing.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"book\" className=\"h-6 w-6 text-serene\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Journaling</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                  Reflect on your feelings with daily journaling prompts that help you process emotions and track growth.                </p>\n              </div>\n\n               <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"command\" className=\"h-6 w-6 text-success\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">CSUF-CAPS Connection</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                  Book appointments or reach out directly to CSUF Counseling and Psychological Services from within the app.\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* <section className=\"relative z-10 py-24\">\n          <div className=\"max-w-7xl mx-auto px-6\">\n            <div className=\"grid gap-16 lg:grid-cols-[1fr,1.2fr] lg:items-center\">\n              <div data-aos=\"fade-up\" className=\"space-y-7\">\n                <span className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-4 py-2 text-xs font-bold uppercase tracking-[0.3em] text-muted-foreground shadow-sm\">\n                  Sneak peek\n                </span>\n                <h3 className=\"text-4xl font-bold leading-tight text-foreground text-balance\">\n                  A companion that feels more human than hectic.\n                </h3>\n                <p className=\"text-lg text-muted-foreground leading-relaxed\">\n                  The Lumora signal is stitched together from conversations with founders, teachers, therapists, and\n                  friends. We&apos;re translating that care into an experience that stays by your side without getting\n                  in the way.\n                </p>\n                <ul className=\"space-y-5 text-muted-foreground\">\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-accent/20\">\n                      <i data-feather=\"sunrise\" className=\"h-4 w-4 text-accent\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Morning grounding to help you set intention and reclaim calm before the day accelerates.\n                    </span>\n                  </li>\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-primary/20\">\n                      <i data-feather=\"layers\" className=\"h-4 w-4 text-primary\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Micro rituals that adapt to your context and keep track of the threads you care about.\n                    </span>\n                  </li>\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-success/20\">\n                      <i data-feather=\"lock\" className=\"h-4 w-4 text-success\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Private-by-design infrastructure so your conversations stay yours, now and always.\n                    </span>\n                  </li>\n                </ul>\n              </div>\n\n              <div className=\"relative\" data-aos=\"fade-up\" data-aos-delay=\"120\">\n                <div className=\"absolute -inset-8 rounded-[2rem] bg-gradient-to-br from-serene-400/30 via-transparent to-accent/20 blur-3xl\" />\n                <div className=\"relative rounded-[2rem] border border-calm-200/60 bg-white/90 backdrop-blur-md p-9 shadow-2xl\">\n                  <div className=\"flex items-center gap-4 mb-6\">\n                    <div className=\"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                      <i data-feather=\"radio\" className=\"h-6 w-6 text-serene-600\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-muted-foreground\">Transmission #37</p>\n                      <h4 className=\"text-xl font-bold text-foreground\">Evening unwind</h4>\n                    </div>\n                  </div>\n                  <p className=\"text-[15px] text-muted-foreground leading-relaxed mb-7\">\n                    \"Notice the moment your shoulders unclench. Breathe into that pocket of ease, then name one thing\n                    you want to feel tomorrow.\"\n                  </p>\n                  <div className=\"flex items-center justify-between rounded-2xl border border-calm-200/60 bg-calm-50/70 px-5 py-4 text-sm font-medium text-muted-foreground mb-8\">\n                    <span className=\"flex items-center gap-2.5\">\n                      <i data-feather=\"clock\" className=\"h-4 w-4\" />2 min ritual\n                    </span>\n                    <span className=\"flex items-center gap-2.5\">\n                      <i data-feather=\"star\" className=\"h-4 w-4\" />\n                      Helps with release\n                    </span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={onEnterApp}\n                    className=\"w-full rounded-2xl bg-gradient-to-r from-serene-400 to-accent px-6 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n                  >\n                    Preview the experience\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section> */}\n\n        {/* <section id=\"waitlist\" className=\"relative z-10 py-28\">\n          <div className=\"max-w-6xl mx-auto px-6\">\n            <div\n              className=\"relative rounded-[2rem] border border-calm-200/60 bg-white/90 backdrop-blur-md p-10 md:p-12 shadow-2xl\"\n              data-aos=\"fade-up\"\n            >\n              <div className=\"md:flex md:items-center md:justify-between md:gap-16\">\n                <div className=\"max-w-xl space-y-5 mb-10 md:mb-0\">\n                  <span className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-4 py-2 text-xs font-bold uppercase tracking-[0.3em] text-muted-foreground shadow-sm\">\n                    Early access\n                  </span>\n                  <h3 className=\"text-4xl font-bold text-foreground text-balance\">Be one of the first to tune in.</h3>\n                  <p className=\"text-[15px] text-muted-foreground leading-relaxed\">\n                    We&apos;re opening the doors slowly. Drop your email to receive a quiet ping when the companion is\n                    ready for you.\n                  </p>\n                </div>\n                <div className=\"w-full max-w-md\">\n                  <form id=\"early-form\" className=\"space-y-5\" data-aos=\"fade-up\" data-aos-delay=\"100\">\n                    <input type=\"text\" name=\"_gotcha\" className=\"hidden\" aria-hidden=\"true\" tabIndex={-1} />\n                    <div className=\"flex flex-col gap-4\">\n                      <div className=\"flex-1\">\n                        <label htmlFor=\"email\" className=\"sr-only\">\n                          Email\n                        </label>\n                        <input\n                          id=\"email\"\n                          name=\"email\"\n                          type=\"email\"\n                          required\n                          placeholder=\"you@brightmorning.com\"\n                          className=\"w-full rounded-2xl border-2 border-calm-200/60 bg-white px-6 py-4 text-[15px] text-foreground shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 placeholder:text-muted-foreground\"\n                        />\n                      </div>\n                      <button\n                        id=\"submit-btn\"\n                        type=\"submit\"\n                        className=\"w-full rounded-2xl bg-gradient-to-r from-serene-400 to-accent px-6 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n                      >\n                        Request invite\n                      </button>\n                    </div>\n                    <p id=\"form-status\" className=\"text-sm text-muted-foreground\" role=\"status\" />\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section> */}\n\n        <footer className=\"relative z-10 border-t border-calm-200/60 bg-white/80 backdrop-blur-sm py-16\">\n          <div className=\"max-w-7xl mx-auto flex flex-col gap-10 px-6 md:flex-row md:items-center md:justify-between\">\n            <div className=\"flex items-center gap-4\">\n              {/* <div className=\"relative w-16 h-16\">\n                <Image src=\"/logo.png\" alt=\"Lumora\" width={64} height={64} className=\"object-contain\" />\n              </div> */}\n              <div className=\"flex flex-col items-center gap-2 text-center\">\n            <div className=\"relative w-9 h-9 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n            <div className=\"flex flex-col items-center leading-tight\">\n              <h1 className=\"text-l font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                Lumora\n              </h1>\n            </div>\n          </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Light for the mind. Becoming.</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-8 text-sm\">\n              <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://linkedin.com/company/lumorawellness/\"\n                className=\"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105\"\n                aria-label=\"LinkedIn\"\n              >\n                <i data-feather=\"linkedin\" className=\"h-4 w-4\" />\n                LinkedIn\n              </a>\n              <a\n                href=\"mailto:lumoraahelp@gmail.com\"\n                className=\"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105\"\n              >\n                <i data-feather=\"mail\" className=\"h-4 w-4\" />\n                Say hello\n              </a>\n            </div>\n          </div>\n          <p className=\"mt-10 text-center text-xs text-muted-foreground\">© 2025 Lumora. All rights reserved. </p>\n        </footer>\n      </div>\n    </div>\n  )\n}\n\nexport default LandingPage\n","'use client';\n\nimport { getFirebaseApp } from '@/lib/firebase';\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n  type Auth,\n  type UserCredential,\n} from 'firebase/auth';\nimport { getAuth } from 'firebase/auth';\nimport { doc, getFirestore, setDoc } from 'firebase/firestore';\n\nexport type RegistrationPayload = {\n  email: string;\n  password: string;\n  name: string;\n  age: number;\n  gender: string;\n  accountType: 'user' | 'therapist';\n};\n\nfunction getFirebaseAuth(): Auth {\n  return getAuth(getFirebaseApp());\n}\n\nexport async function registerUser(payload: RegistrationPayload): Promise<UserCredential> {\n  const auth = getFirebaseAuth();\n\n  const credential = await createUserWithEmailAndPassword(auth, payload.email, payload.password);\n\n  if (payload.name) {\n    await updateProfile(credential.user, { displayName: payload.name });\n  }\n\n  const db = getFirestore(getFirebaseApp());\n  const userDoc = doc(db, 'users', credential.user.uid);\n\n  await setDoc(userDoc, {\n    uid: credential.user.uid,\n    email: payload.email,\n    name: payload.name,\n    age: payload.age,\n    gender: payload.gender,\n    accountType: payload.accountType,\n    createdAt: new Date().toISOString(),\n  });\n\n  return credential;\n}\n\nexport async function loginUser(email: string, password: string): Promise<UserCredential> {\n  const auth = getFirebaseAuth();\n  return signInWithEmailAndPassword(auth, email, password);\n}\n","'use client';\n\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useState, type FormEvent } from 'react';\nimport { loginUser, registerUser } from '@/lib/auth';\n\ntype Mode = 'login' | 'register';\n\nconst genderOptions = [\n  { value: 'female', label: 'Female' },\n  { value: 'male', label: 'Male' },\n  { value: 'non-binary', label: 'Non-binary' },\n  { value: 'prefer_not_to_say', label: 'Prefer not to say' },\n];\n\nconst accountTypeOptions = [\n  { value: 'user', label: 'User' },\n  { value: 'therapist', label: 'Therapist' },\n];\n\nexport function AuthForm() {\n  const { refreshProfile } = useAuth();\n  const [mode, setMode] = useState<Mode>('login');\n  const [formValues, setFormValues] = useState({\n    email: '',\n    password: '',\n    name: '',\n    age: '',\n    gender: genderOptions[0]?.value ?? '',\n    accountType: accountTypeOptions[0]?.value ?? 'user',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const toggleMode = () => {\n    setError(null);\n    setMode((prev) => (prev === 'login' ? 'register' : 'login'));\n  };\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!formValues.email || !formValues.password) {\n        throw new Error('Email and password are required.');\n      }\n\n      if (mode === 'register') {\n        if (!formValues.name) {\n          throw new Error('Name is required for registration.');\n        }\n        const parsedAge = Number(formValues.age);\n        if (!Number.isFinite(parsedAge) || parsedAge <= 0) {\n          throw new Error('Please enter a valid age.');\n        }\n        if (!formValues.gender) {\n          throw new Error('Please select a gender.');\n        }\n\n        await registerUser({\n          email: formValues.email,\n          password: formValues.password,\n          name: formValues.name,\n          age: parsedAge,\n          gender: formValues.gender,\n          accountType: (formValues.accountType as 'user' | 'therapist') ?? 'user',\n        });\n        await refreshProfile();\n        return;\n      }\n\n      await loginUser(formValues.email, formValues.password);\n      await refreshProfile();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Something went wrong. Please try again.';\n      setError(message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md w-full bg-white/70 backdrop-blur border border-indigo-100 rounded-xl shadow-lg p-8\">\n      <h2 className=\"text-2xl font-semibold text-indigo-900 text-center mb-2\">\n        {mode === 'login' ? 'Welcome!' : 'Create Your Account'}\n      </h2>\n      <p className=\"text-sm text-indigo-700/80 text-center mb-6\">\n        {mode === 'login'\n          ? 'Log in with your email to continue your journey with Lumora.'\n          : 'Join Lumora to access personalized support and resources.'}\n      </p>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {mode === 'register' && (\n          <>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Name</label>\n              <input\n                type=\"text\"\n                value={formValues.name}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, name: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n                placeholder=\"Your full name\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Age</label>\n              <input\n                type=\"number\"\n                min={1}\n                value={formValues.age}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, age: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n                placeholder=\"Your age\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Gender</label>\n              <select\n                value={formValues.gender}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, gender: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white\"\n              >\n                {genderOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Account Type</label>\n              <select\n                value={formValues.accountType}\n                onChange={(event) =>\n                  setFormValues((prev) => ({ ...prev, accountType: event.target.value as 'user' | 'therapist' }))\n                }\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white\"\n              >\n                {accountTypeOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </>\n        )}\n\n        <div>\n          <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Email</label>\n          <input\n            type=\"email\"\n            value={formValues.email}\n            onChange={(event) => setFormValues((prev) => ({ ...prev, email: event.target.value }))}\n            className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n            placeholder=\"you@example.com\"\n            autoComplete=\"email\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Password</label>\n          <input\n            type=\"password\"\n            value={formValues.password}\n            onChange={(event) => setFormValues((prev) => ({ ...prev, password: event.target.value }))}\n            className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n            placeholder=\"Enter a secure password\"\n            autoComplete={mode === 'login' ? 'current-password' : 'new-password'}\n          />\n        </div>\n\n        {error && <p className=\"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2\">{error}</p>}\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed\"\n        >\n          {loading ? 'Please wait…' : mode === 'login' ? 'Log In' : 'Register'}\n        </button>\n      </form>\n\n      <p className=\"text-sm text-indigo-700/80 text-center mt-6\">\n        {mode === 'login' ? (\n          <>\n            Need an account?{' '}\n            <button type=\"button\" onClick={toggleMode} className=\"text-indigo-600 font-medium hover:underline\">\n              Register here\n            </button>\n          </>\n        ) : (\n          <>\n            Already joined Lumora?{' '}\n            <button type=\"button\" onClick={toggleMode} className=\"text-indigo-600 font-medium hover:underline\">\n              Log in instead\n            </button>\n          </>\n        )}\n      </p>\n    </div>\n  );\n}\n","'use client';\n\nimport { useCallback, useEffect, useMemo, useState, type ReactNode } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { AuthForm } from '@/components/AuthForm';\nimport { AuthUIProvider } from '@/contexts/AuthUIContext';\n\nexport function AuthGate({ children }: { children: ReactNode }) {\n  const { user, loading, guestMode, enableGuestMode } = useAuth();\n  const [promptVisible, setPromptVisible] = useState(false);\n  const [showLoginForm, setShowLoginForm] = useState(true);\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (user) {\n      setPromptVisible(false);\n      setShowLoginForm(false);\n      return;\n    }\n\n    if (!guestMode && !promptVisible) {\n      setPromptVisible(true);\n      setShowLoginForm(true);\n    }\n  }, [guestMode, loading, promptVisible, user]);\n\n  const handleContinueAsGuest = useCallback(() => {\n    enableGuestMode();\n    setPromptVisible(false);\n    setShowLoginForm(false);\n  }, [enableGuestMode]);\n\n  const requestLogin = useCallback(() => {\n    setPromptVisible(true);\n    setShowLoginForm(true);\n  }, []);\n\n  const providerValue = useMemo(\n    () => ({\n      requestLogin,\n    }),\n    [requestLogin]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100\">\n        <div className=\"text-indigo-700 font-medium\">Loading your workspace…</div>\n      </div>\n    );\n  }\n\n  return (\n    <AuthUIProvider value={providerValue}>\n      <div className=\"relative min-h-screen\">\n        {children}\n\n        {promptVisible && (\n          <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 px-4 py-8 backdrop-blur-sm\">\n            <div className=\"w-full max-w-lg rounded-2xl bg-white shadow-2xl border border-indigo-100\">\n              {showLoginForm ? (\n                <div className=\"p-6\">\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <div>\n                      <h2 className=\"text-xl font-semibold text-indigo-900\">Sign in to save your progress</h2>\n                      <p className=\"text-sm text-indigo-700/80\">\n                        Your conversations and tools stay synced when you create an account.\n                      </p>\n                    </div>\n                  </div>\n                  <AuthForm />\n                  <div className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-between\">\n                    <button\n                      type=\"button\"\n                      onClick={handleContinueAsGuest}\n                      className=\"order-1 inline-flex justify-center rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 sm:order-2\"\n                    >\n                      Continue without saving\n                    </button>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </div>\n    </AuthUIProvider>\n  );\n}\n","\"use client\";\n\nimport { useState } from 'react';\nimport { Header } from './components/Header';\nimport { ChatInterface } from './components/ChatInterface';\nimport { Sidebar } from './components/Sidebar';\nimport { MoodTracker } from './components/MoodTracker';\nimport { Resources } from './components/Resources';\nimport { Dashboard } from './components/Dashboard';\nimport { CrisisSupport } from './components/CrisisSupport';\nimport LandingPage from './components/LandingPage';\nimport { AuthGate } from './components/AuthGate';\n\nexport type ViewType = 'chat' | 'mood' | 'resources' | 'dashboard' | 'crisis';\n\nfunction CoreAppShell() {\n  const [currentView, setCurrentView] = useState<ViewType>('chat');\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  const renderContent = () => {\n    switch (currentView) {\n      case 'chat':\n        return <ChatInterface />;\n      case 'mood':\n        return <MoodTracker />;\n      case 'resources':\n        return <Resources onNavigateToCrisis={() => setCurrentView('crisis')} />;\n      case 'dashboard':\n        return <Dashboard />;\n      case 'crisis':\n        return <CrisisSupport onReturnToChat={() => setCurrentView('chat')} />;\n      default:\n        return <ChatInterface />;\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      <Sidebar\n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        isOpen={sidebarOpen}\n        onClose={() => setSidebarOpen(false)}\n      />\n\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <Header onMenuClick={() => setSidebarOpen(true)} currentView={currentView} />\n\n        <main className={`flex-1 ${currentView === 'chat' ? 'overflow-hidden' : 'overflow-y-auto'}`}>\n          {renderContent()}\n        </main>\n      </div>\n\n      {sidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default function AppShell() {\n  const [showLanding, setShowLanding] = useState(true);\n\n  if (showLanding) {\n    return <LandingPage onEnterApp={() => setShowLanding(false)} />;\n  }\n\n  return (\n    <AuthGate>\n      <CoreAppShell />\n    </AuthGate>\n  );\n}\n\nexport { CoreAppShell };\n","import React, { useRef, useMemo, useCallback, useDebugValue } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js';\nimport { UNDEFINED as UNDEFINED$1, OBJECT as OBJECT$1, SWRConfig as SWRConfig$1, defaultConfig, withArgs, SWRGlobalState, serialize as serialize$1, createCacheHelper, isUndefined as isUndefined$1, isPromiseLike, getTimestamp, isFunction as isFunction$1, revalidateEvents, internalMutate, useIsomorphicLayoutEffect, subscribeCallback, IS_SERVER, rAF, IS_REACT_LEGACY, mergeObjects } from '../_internal/index.mjs';\nexport { mutate, preload, useSWRConfig } from '../_internal/index.mjs';\n\n// Shared state between server components and client components\nconst noop = ()=>{};\n// Using noop() as the undefined value as undefined can be replaced\n// by something else. Prettier ignore and extra parentheses are necessary here\n// to ensure that tsc doesn't remove the __NOINLINE__ comment.\n// prettier-ignore\nconst UNDEFINED = /*#__NOINLINE__*/ noop();\nconst OBJECT = Object;\nconst isUndefined = (v)=>v === UNDEFINED;\nconst isFunction = (v)=>typeof v == 'function';\n\n// use WeakMap to store the object->key mapping\n// so the objects can be garbage collected.\n// WeakMap uses a hashtable under the hood, so the lookup\n// complexity is almost O(1).\nconst table = new WeakMap();\nconst getTypeName = (value)=>OBJECT.prototype.toString.call(value);\nconst isObjectTypeName = (typeName, type)=>typeName === `[object ${type}]`;\n// counter of the key\nlet counter = 0;\n// A stable hash implementation that supports:\n// - Fast and ensures unique hash properties\n// - Handles unserializable values\n// - Handles object key ordering\n// - Generates short results\n//\n// This is not a serialization function, and the result is not guaranteed to be\n// parsable.\nconst stableHash = (arg)=>{\n    const type = typeof arg;\n    const typeName = getTypeName(arg);\n    const isDate = isObjectTypeName(typeName, 'Date');\n    const isRegex = isObjectTypeName(typeName, 'RegExp');\n    const isPlainObject = isObjectTypeName(typeName, 'Object');\n    let result;\n    let index;\n    if (OBJECT(arg) === arg && !isDate && !isRegex) {\n        // Object/function, not null/date/regexp. Use WeakMap to store the id first.\n        // If it's already hashed, directly return the result.\n        result = table.get(arg);\n        if (result) return result;\n        // Store the hash first for circular reference detection before entering the\n        // recursive `stableHash` calls.\n        // For other objects like set and map, we use this id directly as the hash.\n        result = ++counter + '~';\n        table.set(arg, result);\n        if (Array.isArray(arg)) {\n            // Array.\n            result = '@';\n            for(index = 0; index < arg.length; index++){\n                result += stableHash(arg[index]) + ',';\n            }\n            table.set(arg, result);\n        }\n        if (isPlainObject) {\n            // Object, sort keys.\n            result = '#';\n            const keys = OBJECT.keys(arg).sort();\n            while(!isUndefined(index = keys.pop())){\n                if (!isUndefined(arg[index])) {\n                    result += index + ':' + stableHash(arg[index]) + ',';\n                }\n            }\n            table.set(arg, result);\n        }\n    } else {\n        result = isDate ? arg.toJSON() : type == 'symbol' ? arg.toString() : type == 'string' ? JSON.stringify(arg) : '' + arg;\n    }\n    return result;\n};\n\nconst serialize = (key)=>{\n    if (isFunction(key)) {\n        try {\n            key = key();\n        } catch (err) {\n            // dependencies not ready\n            key = '';\n        }\n    }\n    // Use the original key as the argument of fetcher. This can be a string or an\n    // array of values.\n    const args = key;\n    // If key is not falsy, or not an empty array, hash it.\n    key = typeof key == 'string' ? key : (Array.isArray(key) ? key.length : key) ? stableHash(key) : '';\n    return [\n        key,\n        args\n    ];\n};\n\nconst unstable_serialize = (key)=>serialize(key)[0];\n\n/// <reference types=\"react/experimental\" />\nconst use = React.use || // This extra generic is to avoid TypeScript mixing up the generic and JSX sytax\n// and emitting an error.\n// We assume that this is only for the `use(thenable)` case, not `use(context)`.\n// https://github.com/facebook/react/blob/aed00dacfb79d17c53218404c52b1c7aa59c4a89/packages/react-server/src/ReactFizzThenable.js#L45\n((thenable)=>{\n    switch(thenable.status){\n        case 'pending':\n            throw thenable;\n        case 'fulfilled':\n            return thenable.value;\n        case 'rejected':\n            throw thenable.reason;\n        default:\n            thenable.status = 'pending';\n            thenable.then((v)=>{\n                thenable.status = 'fulfilled';\n                thenable.value = v;\n            }, (e)=>{\n                thenable.status = 'rejected';\n                thenable.reason = e;\n            });\n            throw thenable;\n    }\n});\nconst WITH_DEDUPE = {\n    dedupe: true\n};\nconst resolvedUndef = Promise.resolve(UNDEFINED$1);\nconst useSWRHandler = (_key, fetcher, config)=>{\n    const { cache, compare, suspense, fallbackData, revalidateOnMount, revalidateIfStale, refreshInterval, refreshWhenHidden, refreshWhenOffline, keepPreviousData } = config;\n    const [EVENT_REVALIDATORS, MUTATION, FETCH, PRELOAD] = SWRGlobalState.get(cache);\n    // `key` is the identifier of the SWR internal state,\n    // `fnArg` is the argument/arguments parsed from the key, which will be passed\n    // to the fetcher.\n    // All of them are derived from `_key`.\n    const [key, fnArg] = serialize$1(_key);\n    // If it's the initial render of this hook.\n    const initialMountedRef = useRef(false);\n    // If the hook is unmounted already. This will be used to prevent some effects\n    // to be called after unmounting.\n    const unmountedRef = useRef(false);\n    // Refs to keep the key and config.\n    const keyRef = useRef(key);\n    const fetcherRef = useRef(fetcher);\n    const configRef = useRef(config);\n    const getConfig = ()=>configRef.current;\n    const isActive = ()=>getConfig().isVisible() && getConfig().isOnline();\n    const [getCache, setCache, subscribeCache, getInitialCache] = createCacheHelper(cache, key);\n    const stateDependencies = useRef({}).current;\n    // Resolve the fallback data from either the inline option, or the global provider.\n    // If it's a promise, we simply let React suspend and resolve it for us.\n    const fallback = isUndefined$1(fallbackData) ? isUndefined$1(config.fallback) ? UNDEFINED$1 : config.fallback[key] : fallbackData;\n    const isEqual = (prev, current)=>{\n        for(const _ in stateDependencies){\n            const t = _;\n            if (t === 'data') {\n                if (!compare(prev[t], current[t])) {\n                    if (!isUndefined$1(prev[t])) {\n                        return false;\n                    }\n                    if (!compare(returnedData, current[t])) {\n                        return false;\n                    }\n                }\n            } else {\n                if (current[t] !== prev[t]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    const getSnapshot = useMemo(()=>{\n        const shouldStartRequest = (()=>{\n            if (!key) return false;\n            if (!fetcher) return false;\n            // If `revalidateOnMount` is set, we take the value directly.\n            if (!isUndefined$1(revalidateOnMount)) return revalidateOnMount;\n            // If it's paused, we skip revalidation.\n            if (getConfig().isPaused()) return false;\n            if (suspense) return false;\n            return revalidateIfStale !== false;\n        })();\n        // Get the cache and merge it with expected states.\n        const getSelectedCache = (state)=>{\n            // We only select the needed fields from the state.\n            const snapshot = mergeObjects(state);\n            delete snapshot._k;\n            if (!shouldStartRequest) {\n                return snapshot;\n            }\n            return {\n                isValidating: true,\n                isLoading: true,\n                ...snapshot\n            };\n        };\n        const cachedData = getCache();\n        const initialData = getInitialCache();\n        const clientSnapshot = getSelectedCache(cachedData);\n        const serverSnapshot = cachedData === initialData ? clientSnapshot : getSelectedCache(initialData);\n        // To make sure that we are returning the same object reference to avoid\n        // unnecessary re-renders, we keep the previous snapshot and use deep\n        // comparison to check if we need to return a new one.\n        let memorizedSnapshot = clientSnapshot;\n        return [\n            ()=>{\n                const newSnapshot = getSelectedCache(getCache());\n                const compareResult = isEqual(newSnapshot, memorizedSnapshot);\n                if (compareResult) {\n                    // Mentally, we should always return the `memorizedSnapshot` here\n                    // as there's no change between the new and old snapshots.\n                    // However, since the `isEqual` function only compares selected fields,\n                    // the values of the unselected fields might be changed. That's\n                    // simply because we didn't track them.\n                    // To support the case in https://github.com/vercel/swr/pull/2576,\n                    // we need to update these fields in the `memorizedSnapshot` too\n                    // with direct mutations to ensure the snapshot is always up-to-date\n                    // even for the unselected fields, but only trigger re-renders when\n                    // the selected fields are changed.\n                    memorizedSnapshot.data = newSnapshot.data;\n                    memorizedSnapshot.isLoading = newSnapshot.isLoading;\n                    memorizedSnapshot.isValidating = newSnapshot.isValidating;\n                    memorizedSnapshot.error = newSnapshot.error;\n                    return memorizedSnapshot;\n                } else {\n                    memorizedSnapshot = newSnapshot;\n                    return newSnapshot;\n                }\n            },\n            ()=>serverSnapshot\n        ];\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        cache,\n        key\n    ]);\n    // Get the current state that SWR should return.\n    const cached = useSyncExternalStore(useCallback((callback)=>subscribeCache(key, (current, prev)=>{\n            if (!isEqual(prev, current)) callback();\n        }), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        cache,\n        key\n    ]), getSnapshot[0], getSnapshot[1]);\n    const isInitialMount = !initialMountedRef.current;\n    const hasRevalidator = EVENT_REVALIDATORS[key] && EVENT_REVALIDATORS[key].length > 0;\n    const cachedData = cached.data;\n    const data = isUndefined$1(cachedData) ? fallback && isPromiseLike(fallback) ? use(fallback) : fallback : cachedData;\n    const error = cached.error;\n    // Use a ref to store previously returned data. Use the initial data as its initial value.\n    const laggyDataRef = useRef(data);\n    const returnedData = keepPreviousData ? isUndefined$1(cachedData) ? isUndefined$1(laggyDataRef.current) ? data : laggyDataRef.current : cachedData : data;\n    // - Suspense mode and there's stale data for the initial render.\n    // - Not suspense mode and there is no fallback data and `revalidateIfStale` is enabled.\n    // - `revalidateIfStale` is enabled but `data` is not defined.\n    const shouldDoInitialRevalidation = (()=>{\n        // if a key already has revalidators and also has error, we should not trigger revalidation\n        if (hasRevalidator && !isUndefined$1(error)) return false;\n        // If `revalidateOnMount` is set, we take the value directly.\n        if (isInitialMount && !isUndefined$1(revalidateOnMount)) return revalidateOnMount;\n        // If it's paused, we skip revalidation.\n        if (getConfig().isPaused()) return false;\n        // Under suspense mode, it will always fetch on render if there is no\n        // stale data so no need to revalidate immediately mount it again.\n        // If data exists, only revalidate if `revalidateIfStale` is true.\n        if (suspense) return isUndefined$1(data) ? false : revalidateIfStale;\n        // If there is no stale data, we need to revalidate when mount;\n        // If `revalidateIfStale` is set to true, we will always revalidate.\n        return isUndefined$1(data) || revalidateIfStale;\n    })();\n    // Resolve the default validating state:\n    // If it's able to validate, and it should revalidate when mount, this will be true.\n    const defaultValidatingState = !!(key && fetcher && isInitialMount && shouldDoInitialRevalidation);\n    const isValidating = isUndefined$1(cached.isValidating) ? defaultValidatingState : cached.isValidating;\n    const isLoading = isUndefined$1(cached.isLoading) ? defaultValidatingState : cached.isLoading;\n    // The revalidation function is a carefully crafted wrapper of the original\n    // `fetcher`, to correctly handle the many edge cases.\n    const revalidate = useCallback(async (revalidateOpts)=>{\n        const currentFetcher = fetcherRef.current;\n        if (!key || !currentFetcher || unmountedRef.current || getConfig().isPaused()) {\n            return false;\n        }\n        let newData;\n        let startAt;\n        let loading = true;\n        const opts = revalidateOpts || {};\n        // If there is no ongoing concurrent request, or `dedupe` is not set, a\n        // new request should be initiated.\n        const shouldStartNewRequest = !FETCH[key] || !opts.dedupe;\n        /*\n         For React 17\n         Do unmount check for calls:\n         If key has changed during the revalidation, or the component has been\n         unmounted, old dispatch and old event callbacks should not take any\n         effect\n\n        For React 18\n        only check if key has changed\n        https://github.com/reactwg/react-18/discussions/82\n      */ const callbackSafeguard = ()=>{\n            if (IS_REACT_LEGACY) {\n                return !unmountedRef.current && key === keyRef.current && initialMountedRef.current;\n            }\n            return key === keyRef.current;\n        };\n        // The final state object when the request finishes.\n        const finalState = {\n            isValidating: false,\n            isLoading: false\n        };\n        const finishRequestAndUpdateState = ()=>{\n            setCache(finalState);\n        };\n        const cleanupState = ()=>{\n            // Check if it's still the same request before deleting it.\n            const requestInfo = FETCH[key];\n            if (requestInfo && requestInfo[1] === startAt) {\n                delete FETCH[key];\n            }\n        };\n        // Start fetching. Change the `isValidating` state, update the cache.\n        const initialState = {\n            isValidating: true\n        };\n        // It is in the `isLoading` state, if and only if there is no cached data.\n        // This bypasses fallback data and laggy data.\n        if (isUndefined$1(getCache().data)) {\n            initialState.isLoading = true;\n        }\n        try {\n            if (shouldStartNewRequest) {\n                setCache(initialState);\n                // If no cache is being rendered currently (it shows a blank page),\n                // we trigger the loading slow event.\n                if (config.loadingTimeout && isUndefined$1(getCache().data)) {\n                    setTimeout(()=>{\n                        if (loading && callbackSafeguard()) {\n                            getConfig().onLoadingSlow(key, config);\n                        }\n                    }, config.loadingTimeout);\n                }\n                // Start the request and save the timestamp.\n                // Key must be truthy if entering here.\n                FETCH[key] = [\n                    currentFetcher(fnArg),\n                    getTimestamp()\n                ];\n            }\n            // Wait until the ongoing request is done. Deduplication is also\n            // considered here.\n            ;\n            [newData, startAt] = FETCH[key];\n            newData = await newData;\n            if (shouldStartNewRequest) {\n                // If the request isn't interrupted, clean it up after the\n                // deduplication interval.\n                setTimeout(cleanupState, config.dedupingInterval);\n            }\n            // If there're other ongoing request(s), started after the current one,\n            // we need to ignore the current one to avoid possible race conditions:\n            //   req1------------------>res1        (current one)\n            //        req2---------------->res2\n            // the request that fired later will always be kept.\n            // The timestamp maybe be `undefined` or a number\n            if (!FETCH[key] || FETCH[key][1] !== startAt) {\n                if (shouldStartNewRequest) {\n                    if (callbackSafeguard()) {\n                        getConfig().onDiscarded(key);\n                    }\n                }\n                return false;\n            }\n            // Clear error.\n            finalState.error = UNDEFINED$1;\n            // If there're other mutations(s), that overlapped with the current revalidation:\n            // case 1:\n            //   req------------------>res\n            //       mutate------>end\n            // case 2:\n            //         req------------>res\n            //   mutate------>end\n            // case 3:\n            //   req------------------>res\n            //       mutate-------...---------->\n            // we have to ignore the revalidation result (res) because it's no longer fresh.\n            // meanwhile, a new revalidation should be triggered when the mutation ends.\n            const mutationInfo = MUTATION[key];\n            if (!isUndefined$1(mutationInfo) && // case 1\n            (startAt <= mutationInfo[0] || // case 2\n            startAt <= mutationInfo[1] || // case 3\n            mutationInfo[1] === 0)) {\n                finishRequestAndUpdateState();\n                if (shouldStartNewRequest) {\n                    if (callbackSafeguard()) {\n                        getConfig().onDiscarded(key);\n                    }\n                }\n                return false;\n            }\n            // Deep compare with the latest state to avoid extra re-renders.\n            // For local state, compare and assign.\n            const cacheData = getCache().data;\n            // Since the compare fn could be custom fn\n            // cacheData might be different from newData even when compare fn returns True\n            finalState.data = compare(cacheData, newData) ? cacheData : newData;\n            // Trigger the successful callback if it's the original request.\n            if (shouldStartNewRequest) {\n                if (callbackSafeguard()) {\n                    getConfig().onSuccess(newData, key, config);\n                }\n            }\n        } catch (err) {\n            cleanupState();\n            const currentConfig = getConfig();\n            const { shouldRetryOnError } = currentConfig;\n            // Not paused, we continue handling the error. Otherwise, discard it.\n            if (!currentConfig.isPaused()) {\n                // Get a new error, don't use deep comparison for errors.\n                finalState.error = err;\n                // Error event and retry logic. Only for the actual request, not\n                // deduped ones.\n                if (shouldStartNewRequest && callbackSafeguard()) {\n                    currentConfig.onError(err, key, currentConfig);\n                    if (shouldRetryOnError === true || isFunction$1(shouldRetryOnError) && shouldRetryOnError(err)) {\n                        if (!getConfig().revalidateOnFocus || !getConfig().revalidateOnReconnect || isActive()) {\n                            // If it's inactive, stop. It will auto-revalidate when\n                            // refocusing or reconnecting.\n                            // When retrying, deduplication is always enabled.\n                            currentConfig.onErrorRetry(err, key, currentConfig, (_opts)=>{\n                                const revalidators = EVENT_REVALIDATORS[key];\n                                if (revalidators && revalidators[0]) {\n                                    revalidators[0](revalidateEvents.ERROR_REVALIDATE_EVENT, _opts);\n                                }\n                            }, {\n                                retryCount: (opts.retryCount || 0) + 1,\n                                dedupe: true\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        // Mark loading as stopped.\n        loading = false;\n        // Update the current hook's state.\n        finishRequestAndUpdateState();\n        return true;\n    }, // `setState` is immutable, and `eventsCallback`, `fnArg`, and\n    // `keyValidating` are depending on `key`, so we can exclude them from\n    // the deps array.\n    //\n    // FIXME:\n    // `fn` and `config` might be changed during the lifecycle,\n    // but they might be changed every render like this.\n    // `useSWR('key', () => fetch('/api/'), { suspense: true })`\n    // So we omit the values from the deps array\n    // even though it might cause unexpected behaviors.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        key,\n        cache\n    ]);\n    // Similar to the global mutate but bound to the current cache and key.\n    // `cache` isn't allowed to change during the lifecycle.\n    const boundMutate = useCallback(// Use callback to make sure `keyRef.current` returns latest result every time\n    (...args)=>{\n        return internalMutate(cache, keyRef.current, ...args);\n    }, // eslint-disable-next-line react-hooks/exhaustive-deps\n    []);\n    // The logic for updating refs.\n    useIsomorphicLayoutEffect(()=>{\n        fetcherRef.current = fetcher;\n        configRef.current = config;\n        // Handle laggy data updates. If there's cached data of the current key,\n        // it'll be the correct reference.\n        if (!isUndefined$1(cachedData)) {\n            laggyDataRef.current = cachedData;\n        }\n    });\n    // After mounted or key changed.\n    useIsomorphicLayoutEffect(()=>{\n        if (!key) return;\n        const softRevalidate = revalidate.bind(UNDEFINED$1, WITH_DEDUPE);\n        let nextFocusRevalidatedAt = 0;\n        if (getConfig().revalidateOnFocus) {\n            const initNow = Date.now();\n            nextFocusRevalidatedAt = initNow + getConfig().focusThrottleInterval;\n        }\n        // Expose revalidators to global event listeners. So we can trigger\n        // revalidation from the outside.\n        const onRevalidate = (type, opts = {})=>{\n            if (type == revalidateEvents.FOCUS_EVENT) {\n                const now = Date.now();\n                if (getConfig().revalidateOnFocus && now > nextFocusRevalidatedAt && isActive()) {\n                    nextFocusRevalidatedAt = now + getConfig().focusThrottleInterval;\n                    softRevalidate();\n                }\n            } else if (type == revalidateEvents.RECONNECT_EVENT) {\n                if (getConfig().revalidateOnReconnect && isActive()) {\n                    softRevalidate();\n                }\n            } else if (type == revalidateEvents.MUTATE_EVENT) {\n                return revalidate();\n            } else if (type == revalidateEvents.ERROR_REVALIDATE_EVENT) {\n                return revalidate(opts);\n            }\n            return;\n        };\n        const unsubEvents = subscribeCallback(key, EVENT_REVALIDATORS, onRevalidate);\n        // Mark the component as mounted and update corresponding refs.\n        unmountedRef.current = false;\n        keyRef.current = key;\n        initialMountedRef.current = true;\n        // Keep the original key in the cache.\n        setCache({\n            _k: fnArg\n        });\n        // Trigger a revalidation\n        if (shouldDoInitialRevalidation) {\n            // Performance optimization: if a request is already in progress for this key,\n            // skip the revalidation to avoid redundant work\n            if (!FETCH[key]) {\n                if (isUndefined$1(data) || IS_SERVER) {\n                    // Revalidate immediately.\n                    softRevalidate();\n                } else {\n                    // Delay the revalidate if we have data to return so we won't block\n                    // rendering.\n                    rAF(softRevalidate);\n                }\n            }\n        }\n        return ()=>{\n            // Mark it as unmounted.\n            unmountedRef.current = true;\n            unsubEvents();\n        };\n    }, [\n        key\n    ]);\n    // Polling\n    useIsomorphicLayoutEffect(()=>{\n        let timer;\n        function next() {\n            // Use the passed interval\n            // ...or invoke the function with the updated data to get the interval\n            const interval = isFunction$1(refreshInterval) ? refreshInterval(getCache().data) : refreshInterval;\n            // We only start the next interval if `refreshInterval` is not 0, and:\n            // - `force` is true, which is the start of polling\n            // - or `timer` is not 0, which means the effect wasn't canceled\n            if (interval && timer !== -1) {\n                timer = setTimeout(execute, interval);\n            }\n        }\n        function execute() {\n            // Check if it's OK to execute:\n            // Only revalidate when the page is visible, online, and not errored.\n            if (!getCache().error && (refreshWhenHidden || getConfig().isVisible()) && (refreshWhenOffline || getConfig().isOnline())) {\n                revalidate(WITH_DEDUPE).then(next);\n            } else {\n                // Schedule the next interval to check again.\n                next();\n            }\n        }\n        next();\n        return ()=>{\n            if (timer) {\n                clearTimeout(timer);\n                timer = -1;\n            }\n        };\n    }, [\n        refreshInterval,\n        refreshWhenHidden,\n        refreshWhenOffline,\n        key\n    ]);\n    // Display debug info in React DevTools.\n    useDebugValue(returnedData);\n    // In Suspense mode, we can't return the empty `data` state.\n    // If there is an `error`, the `error` needs to be thrown to the error boundary.\n    // If there is no `error`, the `revalidation` promise needs to be thrown to\n    // the suspense boundary.\n    if (suspense) {\n        const hasKeyButNoData = key && isUndefined$1(data);\n        // SWR should throw when trying to use Suspense on the server with React 18,\n        // without providing any fallback data. This causes hydration errors. See:\n        // https://github.com/vercel/swr/issues/1832\n        if (!IS_REACT_LEGACY && IS_SERVER && hasKeyButNoData) {\n            throw new Error('Fallback data is required when using Suspense in SSR.');\n        }\n        // Always update fetcher and config refs even with the Suspense mode.\n        if (hasKeyButNoData) {\n            fetcherRef.current = fetcher;\n            configRef.current = config;\n            unmountedRef.current = false;\n        }\n        const req = PRELOAD[key];\n        const mutateReq = !isUndefined$1(req) && hasKeyButNoData ? boundMutate(req) : resolvedUndef;\n        use(mutateReq);\n        if (!isUndefined$1(error) && hasKeyButNoData) {\n            throw error;\n        }\n        const revalidation = hasKeyButNoData ? revalidate(WITH_DEDUPE) : resolvedUndef;\n        if (!isUndefined$1(returnedData) && hasKeyButNoData) {\n            // @ts-ignore modify react promise status\n            revalidation.status = 'fulfilled';\n            // @ts-ignore modify react promise value\n            revalidation.value = true;\n        }\n        use(revalidation);\n    }\n    const swrResponse = {\n        mutate: boundMutate,\n        get data () {\n            stateDependencies.data = true;\n            return returnedData;\n        },\n        get error () {\n            stateDependencies.error = true;\n            return error;\n        },\n        get isValidating () {\n            stateDependencies.isValidating = true;\n            return isValidating;\n        },\n        get isLoading () {\n            stateDependencies.isLoading = true;\n            return isLoading;\n        }\n    };\n    return swrResponse;\n};\nconst SWRConfig = OBJECT$1.defineProperty(SWRConfig$1, 'defaultValue', {\n    value: defaultConfig\n});\n/**\n * A hook to fetch data.\n *\n * @link https://swr.vercel.app\n * @example\n * ```jsx\n * import useSWR from 'swr'\n * function Profile() {\n *   const { data, error, isLoading } = useSWR('/api/user', fetcher)\n *   if (error) return <div>failed to load</div>\n *   if (isLoading) return <div>loading...</div>\n *   return <div>hello {data.name}!</div>\n * }\n * ```\n */ const useSWR = withArgs(useSWRHandler);\n\n// useSWR\n\nexport { SWRConfig, useSWR as default, unstable_serialize };\n","import { i as isWindowDefined, a as isFunction, S as SWRConfigContext, m as mergeObjects, d as defaultConfig, s as serialize, b as SWRGlobalState, c as cache, e as isUndefined, f as mergeConfigs } from './config-context-client-BoS53ST9.mjs';\nexport { I as IS_REACT_LEGACY, r as IS_SERVER, O as OBJECT, g as SWRConfig, U as UNDEFINED, k as compare, z as createCacheHelper, q as defaultConfigOptions, o as getTimestamp, y as hasRequestAnimationFrame, h as initCache, n as internalMutate, w as isDocumentDefined, x as isLegacyDeno, B as isPromiseLike, j as mutate, A as noop, p as preset, t as rAF, v as slowConnection, l as stableHash, u as useIsomorphicLayoutEffect } from './config-context-client-BoS53ST9.mjs';\nimport * as revalidateEvents from './events.mjs';\nexport { revalidateEvents };\nimport { INFINITE_PREFIX } from './constants.mjs';\nexport { INFINITE_PREFIX } from './constants.mjs';\nimport React, { useContext, useMemo } from 'react';\nexport * from './types.mjs';\n\n// @ts-expect-error\nconst enableDevtools = isWindowDefined && window.__SWR_DEVTOOLS_USE__;\nconst use = enableDevtools ? window.__SWR_DEVTOOLS_USE__ : [];\nconst setupDevTools = ()=>{\n    if (enableDevtools) {\n        // @ts-expect-error\n        window.__SWR_DEVTOOLS_REACT__ = React;\n    }\n};\n\nconst normalize = (args)=>{\n    return isFunction(args[1]) ? [\n        args[0],\n        args[1],\n        args[2] || {}\n    ] : [\n        args[0],\n        null,\n        (args[1] === null ? args[2] : args[1]) || {}\n    ];\n};\n\nconst useSWRConfig = ()=>{\n    const parentConfig = useContext(SWRConfigContext);\n    const mergedConfig = useMemo(()=>mergeObjects(defaultConfig, parentConfig), [\n        parentConfig\n    ]);\n    return mergedConfig;\n};\n\nconst preload = (key_, fetcher)=>{\n    const [key, fnArg] = serialize(key_);\n    const [, , , PRELOAD] = SWRGlobalState.get(cache);\n    // Prevent preload to be called multiple times before used.\n    if (PRELOAD[key]) return PRELOAD[key];\n    const req = fetcher(fnArg);\n    PRELOAD[key] = req;\n    return req;\n};\nconst middleware = (useSWRNext)=>(key_, fetcher_, config)=>{\n        // fetcher might be a sync function, so this should not be an async function\n        const fetcher = fetcher_ && ((...args)=>{\n            const [key] = serialize(key_);\n            const [, , , PRELOAD] = SWRGlobalState.get(cache);\n            if (key.startsWith(INFINITE_PREFIX)) {\n                // we want the infinite fetcher to be called.\n                // handling of the PRELOAD cache happens there.\n                return fetcher_(...args);\n            }\n            const req = PRELOAD[key];\n            if (isUndefined(req)) return fetcher_(...args);\n            delete PRELOAD[key];\n            return req;\n        });\n        return useSWRNext(key_, fetcher, config);\n    };\n\nconst BUILT_IN_MIDDLEWARE = use.concat(middleware);\n\n// It's tricky to pass generic types as parameters, so we just directly override\n// the types here.\nconst withArgs = (hook)=>{\n    return function useSWRArgs(...args) {\n        // Get the default and inherited configuration.\n        const fallbackConfig = useSWRConfig();\n        // Normalize arguments.\n        const [key, fn, _config] = normalize(args);\n        // Merge configurations.\n        const config = mergeConfigs(fallbackConfig, _config);\n        // Apply middleware\n        let next = hook;\n        const { use } = config;\n        const middleware = (use || []).concat(BUILT_IN_MIDDLEWARE);\n        for(let i = middleware.length; i--;){\n            next = middleware[i](next);\n        }\n        return next(key, fn || config.fetcher || null, config);\n    };\n};\n\n// Add a callback function to a list of keyed callback functions and return\n// the unsubscribe function.\nconst subscribeCallback = (key, callbacks, callback)=>{\n    const keyedRevalidators = callbacks[key] || (callbacks[key] = []);\n    keyedRevalidators.push(callback);\n    return ()=>{\n        const index = keyedRevalidators.indexOf(callback);\n        if (index >= 0) {\n            // O(1): faster than splice\n            keyedRevalidators[index] = keyedRevalidators[keyedRevalidators.length - 1];\n            keyedRevalidators.pop();\n        }\n    };\n};\n\n// Create a custom hook with a middleware\nconst withMiddleware = (useSWR, middleware)=>{\n    return (...args)=>{\n        const [key, fn, config] = normalize(args);\n        const uses = (config.use || []).concat(middleware);\n        return useSWR(key, fn, {\n            ...config,\n            use: uses\n        });\n    };\n};\n\nsetupDevTools();\n\nexport { SWRGlobalState, cache, defaultConfig, isFunction, isUndefined, isWindowDefined, mergeConfigs, mergeObjects, normalize, preload, serialize, subscribeCallback, useSWRConfig, withArgs, withMiddleware };\n","import React from 'react';\nimport { TrendingUp, Calendar, Target, Award, BarChart3, Heart } from 'lucide-react';\n\nexport function Dashboard() {\n  // Sample data for demonstration\n  const weeklyMoods = [\n    { day: 'Mon', mood: 3, activities: 2 },\n    { day: 'Tue', mood: 4, activities: 3 },\n    { day: 'Wed', mood: 2, activities: 1 },\n    { day: 'Thu', mood: 4, activities: 4 },\n    { day: 'Fri', mood: 5, activities: 3 },\n    { day: 'Sat', mood: 4, activities: 5 },\n    { day: 'Sun', mood: 3, activities: 2 }\n  ];\n\n  const stats = {\n    averageMood: 3.6,\n    totalSessions: 28,\n    weekStreak: 7,\n    completedActivities: 142\n  };\n\n  const achievements = [\n    { title: '7-Day Streak', description: 'Tracked mood for 7 consecutive days', earned: true },\n    { title: 'Mindful Explorer', description: 'Completed 5 mindfulness exercises', earned: true },\n    { title: 'Mood Master', description: 'Maintained average mood above 3.5 for a week', earned: true },\n    { title: 'Resource Reader', description: 'Read 10 mental health articles', earned: false },\n  ];\n\n  const getMoodColor = (mood: number) => {\n    if (mood >= 4.5) return 'bg-green-500';\n    if (mood >= 3.5) return 'bg-blue-500';\n    if (mood >= 2.5) return 'bg-yellow-500';\n    if (mood >= 1.5) return 'bg-orange-500';\n    return 'bg-red-500';\n  };\n\n  const maxActivities = Math.max(...weeklyMoods.map(d => d.activities));\n\n  return (\n    <div className=\"p-6 max-w-6xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center\">\n            <BarChart3 className=\"h-5 w-5 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Your Mental Health Journey</h1>\n        </div>\n        <p className=\"text-gray-600\">\n          Track your progress and celebrate your achievements in mental wellness.\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center\">\n              <TrendingUp className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Average Mood</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.averageMood}/5</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center\">\n              <Calendar className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Current Streak</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.weekStreak} days</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center\">\n              <Target className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Sessions</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.totalSessions}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center\">\n              <Heart className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Activities Done</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.completedActivities}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Weekly Mood Chart */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">This Week's Mood</h2>\n        <div className=\"space-y-4\">\n          {weeklyMoods.map((day, index) => (\n            <div key={index} className=\"flex items-center gap-4\">\n              <div className=\"w-12 text-sm font-medium text-gray-600\">{day.day}</div>\n              <div className=\"flex-1 flex items-center gap-3\">\n                <div className=\"flex-1 bg-gray-200 rounded-full h-3 relative overflow-hidden\">\n                  <div \n                    className={`h-full rounded-full ${getMoodColor(day.mood)} transition-all duration-500`}\n                    style={{ width: `${(day.mood / 5) * 100}%` }}\n                  />\n                </div>\n                <div className=\"text-sm font-medium text-gray-700 w-8\">{day.mood}/5</div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex gap-1\">\n                  {Array.from({ length: maxActivities }).map((_, i) => (\n                    <div\n                      key={i}\n                      className={`w-2 h-2 rounded-full ${\n                        i < day.activities ? 'bg-purple-500' : 'bg-gray-300'\n                      }`}\n                    />\n                  ))}\n                </div>\n                <span className=\"text-xs text-gray-500\">{day.activities} activities</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Achievements */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center\">\n            <Award className=\"h-5 w-5 text-white\" />\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-800\">Achievements</h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {achievements.map((achievement, index) => (\n            <div\n              key={index}\n              className={`\n                p-4 rounded-xl border-2 transition-all duration-200\n                ${achievement.earned \n                  ? 'bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300' \n                  : 'bg-gray-50 border-gray-200'\n                }\n              `}\n            >\n              <div className=\"flex items-start gap-3\">\n                <div className={`\n                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold\n                  ${achievement.earned \n                    ? 'bg-gradient-to-br from-yellow-400 to-orange-500 text-white' \n                    : 'bg-gray-300 text-gray-600'\n                  }\n                `}>\n                  🏆\n                </div>\n                <div>\n                  <h3 className={`font-semibold ${achievement.earned ? 'text-orange-800' : 'text-gray-600'}`}>\n                    {achievement.title}\n                  </h3>\n                  <p className={`text-sm ${achievement.earned ? 'text-orange-600' : 'text-gray-500'}`}>\n                    {achievement.description}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Motivational Quote */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200 p-6 text-center\">\n        <p className=\"text-lg italic text-gray-700 mb-2\">\n          \"The greatest revolution of our generation is the discovery that human beings, by changing the inner attitudes of their minds, can change the outer aspects of their lives.\"\n        </p>\n        <p className=\"text-sm text-gray-600\">— William James</p>\n      </div>\n    </div>\n  );\n}","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Is empty string\n *\n * @param {unknown} value\n * @returns {boolean} Whether the value is an empty string\n */\nexport const isEmptyString = (value: unknown): boolean => value === '';\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }]];\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('loader-circle', __iconNode);\n\nexport default LoaderCircle;\n","import React, { useState } from 'react';\nimport { Calendar, TrendingUp, Smile, Meh, Frown, RotateCcw } from 'lucide-react';\n\ninterface MoodEntry {\n  date: string;\n  mood: number;\n  note: string;\n  activities: string[];\n}\n\nconst moodEmojis = ['😢', '😕', '😐', '🙂', '😊'];\nconst moodLabels = ['Very Low', 'Low', 'Neutral', 'Good', 'Excellent'];\nconst moodColors = ['text-red-500', 'text-orange-500', 'text-yellow-500', 'text-blue-500', 'text-green-500'];\n\nconst activities = [\n  'Exercise', 'Meditation', 'Social Time', 'Work', 'Sleep', 'Nature', 'Reading', 'Music'\n];\n\nexport function MoodTracker() {\n  const [selectedMood, setSelectedMood] = useState<number | null>(null);\n  const [note, setNote] = useState('');\n  const [selectedActivities, setSelectedActivities] = useState<string[]>([]);\n  \n  // Sample mood data for demonstration\n  const [moodEntries] = useState<MoodEntry[]>([\n    { date: '2024-01-15', mood: 4, note: 'Great day with friends', activities: ['Social Time', 'Exercise'] },\n    { date: '2024-01-14', mood: 3, note: 'Productive work day', activities: ['Work', 'Reading'] },\n    { date: '2024-01-13', mood: 2, note: 'Feeling a bit overwhelmed', activities: ['Work', 'Music'] },\n    { date: '2024-01-12', mood: 4, note: 'Relaxing weekend', activities: ['Nature', 'Meditation'] },\n    { date: '2024-01-11', mood: 3, note: 'Regular day', activities: ['Work', 'Sleep'] },\n  ]);\n\n  const handleActivityToggle = (activity: string) => {\n    setSelectedActivities(prev => \n      prev.includes(activity) \n        ? prev.filter(a => a !== activity)\n        : [...prev, activity]\n    );\n  };\n\n  const handleSubmit = () => {\n    if (selectedMood !== null) {\n      // Here you would save the mood entry\n      console.log({ mood: selectedMood, note, activities: selectedActivities });\n      setSelectedMood(null);\n      setNote('');\n      setSelectedActivities([]);\n    }\n  };\n\n  const averageMood = moodEntries.reduce((sum, entry) => sum + entry.mood, 0) / moodEntries.length;\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-6\">\n      {/* Today's Mood Entry */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-pink-500 to-red-500 rounded-full flex items-center justify-center\">\n            <Smile className=\"h-5 w-5 text-white\" />\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-800\">How are you feeling today?</h2>\n        </div>\n\n        {/* Mood Selection */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">Select your mood:</p>\n          <div className=\"flex justify-between max-w-md\">\n            {moodEmojis.map((emoji, index) => (\n              <button\n                key={index}\n                onClick={() => setSelectedMood(index)}\n                className={`\n                  w-12 h-12 rounded-full flex items-center justify-center text-2xl transition-all duration-200\n                  ${selectedMood === index \n                    ? 'bg-blue-100 ring-2 ring-blue-500 scale-110' \n                    : 'hover:bg-gray-100 hover:scale-105'\n                  }\n                `}\n              >\n                {emoji}\n              </button>\n            ))}\n          </div>\n          {selectedMood !== null && (\n            <p className={`text-sm font-medium mt-2 ${moodColors[selectedMood]}`}>\n              {moodLabels[selectedMood]}\n            </p>\n          )}\n        </div>\n\n        {/* Activities */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">What activities did you do today?</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {activities.map((activity) => (\n              <button\n                key={activity}\n                onClick={() => handleActivityToggle(activity)}\n                className={`\n                  px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200\n                  ${selectedActivities.includes(activity)\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }\n                `}\n              >\n                {activity}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Note */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Add a note (optional):\n          </label>\n          <textarea\n            value={note}\n            onChange={(e) => setNote(e.target.value)}\n            placeholder=\"What made your day special? Any thoughts or feelings you'd like to remember...\"\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n            rows={3}\n          />\n        </div>\n\n        {/* Submit Button */}\n        <button\n          onClick={handleSubmit}\n          disabled={selectedMood === null}\n          className=\"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Save Today's Mood\n        </button>\n      </div>\n\n      {/* Mood History */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center\">\n              <TrendingUp className=\"h-5 w-5 text-white\" />\n            </div>\n            <h2 className=\"text-xl font-bold text-gray-800\">Your Mood Journey</h2>\n          </div>\n          <div className=\"text-right\">\n            <p className=\"text-sm text-gray-600\">7-day average</p>\n            <p className={`text-2xl font-bold ${moodColors[Math.round(averageMood)]}`}>\n              {moodEmojis[Math.round(averageMood)]} {moodLabels[Math.round(averageMood)]}\n            </p>\n          </div>\n        </div>\n\n        {/* Mood Chart */}\n        <div className=\"space-y-3\">\n          {moodEntries.map((entry, index) => (\n            <div key={index} className=\"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors\">\n              <div className=\"w-16 text-sm text-gray-600\">\n                {new Date(entry.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n              </div>\n              <div className=\"text-2xl\">{moodEmojis[entry.mood]}</div>\n              <div className=\"flex-1\">\n                <p className=\"font-medium text-gray-800\">{entry.note}</p>\n                <div className=\"flex gap-1 mt-1\">\n                  {entry.activities.map((activity) => (\n                    <span key={activity} className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full\">\n                      {activity}\n                    </span>\n                  ))}\n                </div>\n              </div>\n              <div className={`text-sm font-medium ${moodColors[entry.mood]}`}>\n                {moodLabels[entry.mood]}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n];\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('x', __iconNode);\n\nexport default X;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2', key: '975kel' }],\n  ['circle', { cx: '12', cy: '7', r: '4', key: '17ys0d' }],\n];\n\n/**\n * @component @name User\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgMjF2LTJhNCA0IDAgMCAwLTQtNEg5YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst User = createLucideIcon('user', __iconNode);\n\nexport default User;\n","import { MessageCircle, Heart, BookOpen, BarChart3, AlertCircle, X } from 'lucide-react';\nimport { ViewType } from '../AppShell';\nimport { UserProfileMenu } from './UserProfileMenu';\n\ninterface SidebarProps {\n  currentView: ViewType;\n  setCurrentView: (view: ViewType) => void;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst menuItems = [\n  { id: 'chat' as ViewType, label: 'Chat Support', icon: MessageCircle, color: 'text-blue-600', preview: false },\n  { id: 'mood' as ViewType, label: 'Mood Tracker', icon: Heart, color: 'text-pink-600', preview: true },\n  { id: 'resources' as ViewType, label: 'Resources', icon: BookOpen, color: 'text-green-600', preview: true },\n  { id: 'dashboard' as ViewType, label: 'Dashboard', icon: BarChart3, color: 'text-purple-600', preview: true },\n  { id: 'crisis' as ViewType, label: 'Crisis Support', icon: AlertCircle, color: 'text-red-600', preview: false },\n];\n\nexport function Sidebar({ currentView, setCurrentView, isOpen, onClose }: SidebarProps) {\n  return (\n    <>\n      <aside className={`\n        fixed md:relative inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200\n        transform transition-transform duration-300 ease-in-out\n        ${isOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n      `}>\n        <div className=\"flex flex-col h-full\">\n          {/* Mobile close button */}\n           {/* Header */}\n      {/* <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Image\n            src=\"/Logo1.png\"\n            alt=\"Lumora logo\"\n            width={40}\n            height={40}\n            className=\"object-cover rounded-full\"\n            priority\n          />\n          <div>\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Lumora\n            </h1>\n            <p className=\"text-sm text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n        </div>\n          <button\n            onClick={onClose}\n            className=\"md:hidden p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n            aria-label=\"Close menu\"\n          >\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n      </div> */}\n\n      <div className=\"p-6 border-b border-gray-200\">\n  <div className=\"flex items-center justify-between\">\n    <div className=\"flex items-center gap-3\">\n      {/* Gradient Circle instead of Image */}\n      <div className=\"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n          <div>\n            <div className=\"flex items-baseline gap-2\">\n              <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                Lumora\n              </h1>\n                <span className=\"text-sm text-gray-500\">(Beta)</span>\n            </div>\n            <p className=\"text-sm font-bold text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n    </div>\n    <button\n      onClick={onClose}\n      className=\"md:hidden p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n      aria-label=\"Close menu\"\n    >\n      <X className=\"w-5 h-5 text-gray-500\" />\n    </button>\n  </div>\n</div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 p-4 space-y-2\">\n            {menuItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = currentView === item.id;\n              \n              return (\n                <button\n                  key={item.id}\n                  onClick={() => {\n                    setCurrentView(item.id);\n                    onClose();\n                  }}\n                  className={`\n                    w-full flex items-center justify-between gap-3 px-4 py-3 text-left rounded-xl transition-all duration-200\n                    ${isActive \n                      ? 'bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 text-blue-700' \n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-800'\n                    }\n                  `}\n                >\n                  <span className=\"flex items-center gap-3\">\n                    <Icon className={`h-5 w-5 ${isActive ? 'text-blue-600' : item.color}`} />\n                    <span className=\"font-medium\">{item.label}</span>\n                  </span>\n                  {item.preview && (\n                    <span className=\"rounded-full border border-serene-200 bg-serene-50 px-2 py-0.5 text-xs font-semibold text-serene-600\">\n                      Preview\n                    </span>\n                  )}\n                </button>\n              );\n            })}\n          </nav>\n\n          <div className=\"p-4 border-t border-gray-200 space-y-4\">\n            <UserProfileMenu />\n\n            {/* Emergency notice */}\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n              <p className=\"text-sm text-red-800 font-medium mb-1\">Emergency?</p>\n              <p className=\"text-xs text-red-600\">\n                If you&apos;re in crisis, call 988 (Suicide & Crisis Lifeline) or go to your nearest emergency room.\n              </p>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 14s1.5 2 4 2 4-2 4-2', key: '1y1vjs' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n];\n\n/**\n * @component @name Smile\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxNHMxLjUgMiA0IDIgNC0yIDQtMiIgLz4KICA8bGluZSB4MT0iOSIgeDI9IjkuMDEiIHkxPSI5IiB5Mj0iOSIgLz4KICA8bGluZSB4MT0iMTUiIHgyPSIxNS4wMSIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/smile\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Smile = createLucideIcon('smile', __iconNode);\n\nexport default Smile;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['circle', { cx: '12', cy: '12', r: '6', key: '1vlfrh' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Target\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/target\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Target = createLucideIcon('target', __iconNode);\n\nexport default Target;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 7h6v6', key: 'box55l' }],\n  ['path', { d: 'm22 7-8.5 8.5-5-5L2 17', key: '1t1m79' }],\n];\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgN2g2djYiIC8+CiAgPHBhdGggZD0ibTIyIDctOC41IDguNS01LTVMMiAxNyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('trending-up', __iconNode);\n\nexport default TrendingUp;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 20a6 6 0 0 0-12 0', key: '1qehca' }],\n  ['circle', { cx: '12', cy: '10', r: '4', key: '1h16sb' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name CircleUserRound\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggMjBhNiA2IDAgMCAwLTEyIDAiIC8+CiAgPGNpcmNsZSBjeD0iMTIiIGN5PSIxMCIgcj0iNCIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle-user-round\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleUserRound = createLucideIcon('circle-user-round', __iconNode);\n\nexport default CircleUserRound;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20', key: '13o1zl' }],\n  ['path', { d: 'M2 12h20', key: '9i4pu4' }],\n];\n\n/**\n * @component @name Globe\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMmExNC41IDE0LjUgMCAwIDAgMCAyMCAxNC41IDE0LjUgMCAwIDAgMC0yMCIgLz4KICA8cGF0aCBkPSJNMiAxMmgyMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/globe\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Globe = createLucideIcon('globe', __iconNode);\n\nexport default Globe;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n];\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('external-link', __iconNode);\n\nexport default ExternalLink;\n","import React from 'react';\nimport { AlertCircle, Phone, MessageCircle, Globe, Clock, Shield } from 'lucide-react';\n\ninterface CrisisResource {\n  name: string;\n  description: string;\n  phone: string;\n  text?: string;\n  website?: string;\n  hours: string;\n  icon: React.ComponentType<any>;\n}\n\nconst crisisResources: CrisisResource[] = [\n  {\n    name: '988 Suicide & Crisis Lifeline',\n    description: 'Free, confidential support for people in distress and crisis prevention.',\n    phone: '988',\n    text: 'Text HOME to 741741',\n    website: 'suicidepreventionlifeline.org',\n    hours: '24/7',\n    icon: Phone\n  },\n  {\n    name: 'Crisis Text Line',\n    description: 'Free, 24/7 support via text message for anyone in crisis.',\n    phone: '1-741-741',\n    text: 'Text HELLO to 741741',\n    website: 'crisistextline.org',\n    hours: '24/7',\n    icon: MessageCircle\n  },\n  {\n    name: 'SAMHSA National Helpline',\n    description: 'Treatment referral and information service for mental health and substance use.',\n    phone: '1-800-662-4357',\n    website: 'samhsa.gov',\n    hours: '24/7',\n    icon: Globe\n  },\n  {\n    name: 'Trans Lifeline',\n    description: 'Crisis support specifically for transgender individuals.',\n    phone: '877-565-8860',\n    website: 'translifeline.org',\n    hours: '24/7',\n    icon: Shield\n  }\n];\n\nconst emergencySteps = [\n  {\n    title: 'Immediate Danger',\n    description: 'If you are in immediate physical danger, call 911 or go to your nearest emergency room.',\n    color: 'bg-red-50 border-red-300 text-red-800'\n  },\n  {\n    title: 'Suicidal Thoughts',\n    description: 'If you are having thoughts of suicide, call 988 or text HOME to 741741 immediately.',\n    color: 'bg-orange-50 border-orange-300 text-orange-800'\n  },\n  {\n    title: 'Need to Talk',\n    description: 'If you need someone to talk to, reach out to any of the crisis resources below.',\n    color: 'bg-blue-50 border-blue-300 text-blue-800'\n  }\n];\n\nconst safetyTips = [\n  'Remove any means of self-harm from your immediate environment',\n  'Stay with trusted friends or family members',\n  'Avoid alcohol and drugs, which can worsen symptoms',\n  'Create a safety plan with specific steps to take during a crisis',\n  'Keep crisis hotline numbers easily accessible',\n  'Practice grounding techniques like deep breathing or mindfulness'\n];\n\ninterface CrisisSupportProps {\n  onReturnToChat?: () => void;\n}\n\nexport function CrisisSupport({ onReturnToChat }: CrisisSupportProps) {\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-6\">\n      {/* Emergency Alert */}\n      <div className=\"bg-red-50 border-2 border-red-300 rounded-2xl p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center\">\n            <AlertCircle className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-red-800\">Crisis Support</h1>\n            <p className=\"text-red-700\">Immediate help when you need it most</p>\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg p-4 border border-red-200\">\n          <p className=\"text-lg font-semibold text-red-800 mb-2\">\n            🚨 If you're in immediate danger, call 988\n          </p>\n          <p className=\"text-red-700\">\n            This page provides crisis resources, but if you're experiencing a medical emergency or are in immediate physical danger, please call emergency services right away.\n          </p>\n        </div>\n      </div>\n\n      {/* Emergency Steps */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">What to Do Right Now</h2>\n        <div className=\"space-y-4\">\n          {emergencySteps.map((step, index) => (\n            <div key={index} className={`p-4 rounded-lg border-2 ${step.color}`}>\n              <h3 className=\"font-bold text-lg mb-2\">{step.title}</h3>\n              <p>{step.description}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Crisis Hotlines */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Crisis Hotlines & Resources</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {crisisResources.map((resource, index) => {\n            const Icon = resource.icon;\n            return (\n              <div key={index} className=\"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0\">\n                    <Icon className=\"h-6 w-6 text-white\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-bold text-gray-800 mb-2\">{resource.name}</h3>\n                    <p className=\"text-gray-600 text-sm mb-4\">{resource.description}</p>\n                    \n                    <div className=\"space-y-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"h-4 w-4 text-green-600\" />\n                        <a href={`tel:${resource.phone}`} className=\"font-bold text-green-600 hover:text-green-800 text-lg\">\n                          {resource.phone}\n                        </a>\n                      </div>\n                      \n                      {resource.text && (\n                        <div className=\"flex items-center gap-2\">\n                          <MessageCircle className=\"h-4 w-4 text-blue-600\" />\n                          <span className=\"text-blue-600 text-sm\">{resource.text}</span>\n                        </div>\n                      )}\n                      \n                      {resource.website && (\n                        <div className=\"flex items-center gap-2\">\n                          <Globe className=\"h-4 w-4 text-purple-600\" />\n                          <a href={`https://${resource.website}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-purple-600 hover:text-purple-800 text-sm\">\n                            {resource.website}\n                          </a>\n                        </div>\n                      )}\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <Clock className=\"h-4 w-4 text-gray-500\" />\n                        <span className=\"text-gray-600 text-sm\">{resource.hours}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Safety Tips */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Safety & Coping Strategies</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {safetyTips.map((tip, index) => (\n            <div key={index} className=\"flex items-start gap-3 p-4 bg-blue-50 rounded-lg\">\n              <div className=\"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-white text-sm font-bold\">{index + 1}</span>\n              </div>\n              <p className=\"text-gray-700\">{tip}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* International Resources */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl border border-purple-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-4\">International Crisis Support</h2>\n        <p className=\"text-gray-700 mb-4\">\n          If you're located outside the United States, please visit these resources for crisis support in your country:\n        </p>\n        <div className=\"flex flex-wrap gap-4\">\n          <a href=\"https://findahelpline.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium\">\n            Find a Helpline (Global)\n          </a>\n          <a href=\"https://www.iasp.info/resources/Crisis_Centres/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium\">\n            International Association for Suicide Prevention\n          </a>\n        </div>\n      </div>\n\n      {/* Return to Chat */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 text-center\">\n        <h3 className=\"text-lg font-bold text-gray-800 mb-2\">Continue Your Journey</h3>\n        <p className=\"text-gray-600 mb-4\">\n          After getting the support you need, Lumora is here to help you continue your mental health journey.\n        </p>\n        <button\n          type=\"button\"\n          onClick={onReturnToChat}\n          className=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200\"\n        >\n          Return to Chat\n        </button>\n      </div>\n    </div>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 17 5-5-5-5', key: '1bji2h' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4', key: '1uf3rs' }],\n];\n\n/**\n * @component @name LogOut\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNMjEgMTJIOSIgLz4KICA8cGF0aCBkPSJNOSAyMUg1YTIgMiAwIDAgMS0yLTJWNWEyIDIgMCAwIDEgMi0yaDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/log-out\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LogOut = createLucideIcon('log-out', __iconNode);\n\nexport default LogOut;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 3v16a2 2 0 0 0 2 2h16', key: 'c24i48' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n];\n\n/**\n * @component @name ChartColumn\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE2YTIgMiAwIDAgMCAyIDJoMTYiIC8+CiAgPHBhdGggZD0iTTE4IDE3VjkiIC8+CiAgPHBhdGggZD0iTTEzIDE3VjUiIC8+CiAgPHBhdGggZD0iTTggMTd2LTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/chart-column\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChartColumn = createLucideIcon('chart-column', __iconNode);\n\nexport default ChartColumn;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z',\n      key: '1ffxy3',\n    },\n  ],\n  ['path', { d: 'm21.854 2.147-10.94 10.939', key: '12cjpa' }],\n];\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNTM2IDIxLjY4NmEuNS41IDAgMCAwIC45MzctLjAyNGw2LjUtMTlhLjQ5Ni40OTYgMCAwIDAtLjYzNS0uNjM1bC0xOSA2LjVhLjUuNSAwIDAgMC0uMDI0LjkzN2w3LjkzIDMuMThhMiAyIDAgMCAxIDEuMTEyIDEuMTF6IiAvPgogIDxwYXRoIGQ9Im0yMS44NTQgMi4xNDctMTAuOTQgMTAuOTM5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('send', __iconNode);\n\nexport default Send;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526',\n      key: '1yiouv',\n    },\n  ],\n  ['circle', { cx: '12', cy: '8', r: '6', key: '1vp47v' }],\n];\n\n/**\n * @component @name Award\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUuNDc3IDEyLjg5IDEuNTE1IDguNTI2YS41LjUgMCAwIDEtLjgxLjQ3bC0zLjU4LTIuNjg3YTEgMSAwIDAgMC0xLjE5NyAwbC0zLjU4NiAyLjY4NmEuNS41IDAgMCAxLS44MS0uNDY5bDEuNTE0LTguNTI2IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/award\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Award = createLucideIcon('award', __iconNode);\n\nexport default Award;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'M12 8v4', key: '1got3b' }],\n  ['path', { d: 'M12 16h.01', key: '1drbdi' }],\n];\n\n/**\n * @component @name ShieldAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0iTTEyIDh2NCIgLz4KICA8cGF0aCBkPSJNMTIgMTZoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shield-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldAlert = createLucideIcon('shield-alert', __iconNode);\n\nexport default ShieldAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n];\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('shield', __iconNode);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719',\n      key: '1sd12s',\n    },\n  ],\n];\n\n/**\n * @component @name MessageCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMi45OTIgMTYuMzQyYTIgMiAwIDAgMSAuMDk0IDEuMTY3bC0xLjA2NSAzLjI5YTEgMSAwIDAgMCAxLjIzNiAxLjE2OGwzLjQxMy0uOTk4YTIgMiAwIDAgMSAxLjA5OS4wOTIgMTAgMTAgMCAxIDAtNC43NzctNC43MTkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/message-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageCircle = createLucideIcon('message-circle', __iconNode);\n\nexport default MessageCircle;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z',\n      key: '18887p',\n    },\n  ],\n];\n\n/**\n * @component @name MessageSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjIgMTdhMiAyIDAgMCAxLTIgMkg2LjgyOGEyIDIgMCAwIDAtMS40MTQuNTg2bC0yLjIwMiAyLjIwMkEuNzEuNzEgMCAwIDEgMiAyMS4yODZWNWEyIDIgMCAwIDEgMi0yaDE2YTIgMiAwIDAgMSAyIDJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/message-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquare = createLucideIcon('message-square', __iconNode);\n\nexport default MessageSquare;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 7v14', key: '1akyts' }],\n  [\n    'path',\n    {\n      d: 'M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z',\n      key: 'ruj8y',\n    },\n  ],\n];\n\n/**\n * @component @name BookOpen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgN3YxNCIgLz4KICA8cGF0aCBkPSJNMyAxOGExIDEgMCAwIDEtMS0xVjRhMSAxIDAgMCAxIDEtMWg1YTQgNCAwIDAgMSA0IDQgNCA0IDAgMCAxIDQtNGg1YTEgMSAwIDAgMSAxIDF2MTNhMSAxIDAgMCAxLTEgMWgtNmEzIDMgMCAwIDAtMyAzIDMgMyAwIDAgMC0zLTN6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/book-open\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BookOpen = createLucideIcon('book-open', __iconNode);\n\nexport default BookOpen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M13 21h8', key: '1jsn5i' }],\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name PenLine\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTMgMjFoOCIgLz4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-line\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenLine = createLucideIcon('pen-line', __iconNode);\n\nexport default PenLine;\n","import { useEffect, useMemo, useRef, useState } from 'react';\nimport { Clock, Loader2, MessageSquare, PenLine, Plus, Send, Trash2, User } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport {\n  addMessage,\n  createSession,\n  deleteSession,\n  listSessions,\n  renameSession,\n  subscribeMessages,\n  type MessageRecord,\n  type SessionRecord,\n} from '@/lib/chatStore';\n\ninterface DisplayMessage {\n  id: string;\n  content: string;\n  sender: 'user' | 'assistant' | 'system';\n  timestamp: Date;\n  pending?: boolean;\n}\n\nconst welcomeMessage: DisplayMessage = {\n  id: 'lumora-welcome',\n  content:\n    \"Hello! I'm Lumora, your AI companion for mental health support. I'm here to listen, provide guidance, and help you navigate your thoughts and feelings. How are you doing today?\",\n  sender: 'assistant',\n  timestamp: new Date(),\n};\n\nfunction formatTimestamp(date?: Date) {\n  if (!date) return '';\n  const now = new Date();\n  const sameDay = date.toDateString() === now.toDateString();\n  if (sameDay) {\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  }\n  return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n}\n\nfunction mapRecordToDisplay(messages: MessageRecord[]): DisplayMessage[] {\n  return messages.map((msg) => ({\n    id: msg.id,\n    content: msg.content,\n    sender: msg.role === 'system' ? 'assistant' : msg.role,\n    timestamp: msg.createdAt ?? new Date(),\n  }));\n}\n\nexport function ChatInterface() {\n  const { user } = useAuth();\n  const uid = user?.uid ?? null;\n\n  const [sessions, setSessions] = useState<SessionRecord[]>([]);\n  const [activeSessionId, setActiveSessionId] = useState<string | null>(null);\n  const [sessionsLoading, setSessionsLoading] = useState(false);\n  const [sessionsLimit, setSessionsLimit] = useState(20);\n\n  const [messages, setMessages] = useState<MessageRecord[]>([]);\n  const [messagesLoading, setMessagesLoading] = useState(false);\n  const [messagesLimit, setMessagesLimit] = useState(50);\n\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n\n  const [guestMessages, setGuestMessages] = useState<DisplayMessage[]>([welcomeMessage]);\n\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  useEffect(() => {\n    if (!uid) {\n      setSessions([]);\n      setActiveSessionId(null);\n      return;\n    }\n\n    setSessionsLoading(true);\n    const unsubscribe = listSessions(\n      uid,\n      {\n        limit: sessionsLimit,\n        onError: () => setSessionsLoading(false),\n      },\n      (records) => {\n        setSessions(records);\n        setSessionsLoading(false);\n        setActiveSessionId((prev) => prev ?? (records[0]?.id ?? null));\n      }\n    );\n\n    return () => {\n      unsubscribe();\n      setSessions([]);\n    };\n  }, [uid, sessionsLimit]);\n\n  useEffect(() => {\n    if (!uid || !activeSessionId) {\n      setMessages([]);\n      return;\n    }\n    setMessagesLoading(true);\n\n    const unsubscribe = subscribeMessages(\n      uid,\n      activeSessionId,\n      {\n        limit: messagesLimit,\n        onError: () => setMessagesLoading(false),\n      },\n      (records) => {\n        setMessages(records);\n        setMessagesLoading(false);\n      }\n    );\n\n    return () => {\n      unsubscribe();\n      setMessages([]);\n    };\n  }, [uid, activeSessionId, messagesLimit]);\n\n  useEffect(() => {\n    if (!textareaRef.current) return;\n    const textarea = textareaRef.current;\n    const MIN_HEIGHT = 48;\n    const MAX_HEIGHT = 240;\n\n    textarea.style.height = 'auto';\n    const nextHeight = Math.min(Math.max(textarea.scrollHeight, MIN_HEIGHT), MAX_HEIGHT);\n    textarea.style.height = `${nextHeight}px`;\n    textarea.style.overflowY = textarea.scrollHeight > MAX_HEIGHT ? 'auto' : 'hidden';\n  }, [inputValue]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, guestMessages, isTyping]);\n\n  useEffect(() => {\n    if (!uid) {\n      setGuestMessages((prev) => (prev.length ? prev : [welcomeMessage]));\n    }\n  }, [uid]);\n\n  const displayMessages: DisplayMessage[] = useMemo(() => {\n    if (!uid || !activeSessionId) {\n      return guestMessages;\n    }\n    if (!messages.length) {\n      return [welcomeMessage];\n    }\n    return mapRecordToDisplay(messages);\n  }, [uid, activeSessionId, messages, guestMessages]);\n\n  const handleCreateSession = async () => {\n    if (!uid) {\n      return;\n    }\n    try {\n      const sessionId = await createSession(uid);\n      setActiveSessionId(sessionId);\n      setMessagesLimit(50);\n      setMessages([]);\n    } catch (error) {\n      console.error('Failed to create session', error);\n    }\n  };\n\n  const handleRenameSession = async (session: SessionRecord) => {\n    if (!uid) return;\n    const currentTitle = session.title ?? '';\n    const nextTitle = window.prompt('Rename conversation', currentTitle);\n    if (nextTitle === null) return;\n    const trimmed = nextTitle.trim();\n    if (!trimmed) return;\n    try {\n      await renameSession(uid, session.id, trimmed);\n    } catch (error) {\n      console.error('Failed to rename session', error);\n    }\n  };\n\n  const handleDeleteSession = async (session: SessionRecord) => {\n    if (!uid) return;\n    const confirmed = window.confirm('Delete this conversation? This will remove all messages.');\n    if (!confirmed) return;\n    try {\n      await deleteSession(uid, session.id);\n      if (activeSessionId === session.id) {\n        setActiveSessionId(null);\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Failed to delete session', error);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    const trimmed = inputValue.trim();\n    if (!trimmed) return;\n\n    if (!uid) {\n      const userMessage: DisplayMessage = {\n        id: `guest-${Date.now()}`,\n        content: trimmed,\n        sender: 'user',\n        timestamp: new Date(),\n      };\n      const nextMessages = [...guestMessages, userMessage];\n      setGuestMessages(nextMessages);\n      setInputValue('');\n      setIsTyping(true);\n\n      try {\n        const response = await fetch('/api/chat', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            sessionId: 'guest',\n            messages: nextMessages.map((message) => ({\n              role: message.sender,\n              content: message.content,\n            })),\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error('chat_request_failed');\n        }\n\n        const data: { reply?: string } = await response.json();\n        const reply = data.reply?.trim();\n\n        const assistantMessage: DisplayMessage = {\n          id: `guest-${Date.now() + 1}`,\n          content:\n            reply || 'Thank you for sharing. I am here to listen and support you.',\n          sender: 'assistant',\n          timestamp: new Date(),\n        };\n\n        setGuestMessages((prev) => [...prev, assistantMessage]);\n      } catch (error) {\n        console.error('Guest chat request failed', error);\n        const fallbackMessage: DisplayMessage = {\n          id: `guest-${Date.now() + 1}`,\n          content: 'I had trouble reaching our support service. Please try again in a moment.',\n          sender: 'assistant',\n          timestamp: new Date(),\n        };\n        setGuestMessages((prev) => [...prev, fallbackMessage]);\n      } finally {\n        setIsTyping(false);\n      }\n      return;\n    }\n\n    setInputValue('');\n    setIsTyping(true);\n\n    let sessionId = activeSessionId ?? null;\n\n    try {\n      if (!sessionId) {\n        sessionId = await createSession(uid);\n        setActiveSessionId(sessionId);\n        setMessages([]);\n        setMessagesLimit(50);\n      }\n\n      if (!sessionId) {\n        throw new Error('Unable to resolve session.');\n      }\n\n      await addMessage(uid, sessionId, 'user', trimmed);\n\n      const optimisticMessage: DisplayMessage = {\n        id: `pending-${Date.now()}`,\n        content: trimmed,\n        sender: 'user',\n        timestamp: new Date(),\n      };\n\n      const outgoingHistory = [...mapRecordToDisplay(messages), optimisticMessage];\n\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sessionId,\n          messages: outgoingHistory.map((message) => ({\n            role: message.sender,\n            content: message.content,\n          })),\n        }),\n      });\n\n      let reply: string | undefined;\n      if (response.ok) {\n        const data: { reply?: string } = await response.json();\n        reply = data.reply?.trim();\n      }\n\n      await addMessage(\n        uid,\n        sessionId,\n        'assistant',\n        reply || 'Thank you for sharing. I am here to listen and support you.'\n      );\n    } catch (error) {\n      console.error('Failed to send message', error);\n      const fallback = 'I had trouble reaching our support service. Please try again in a moment.';\n      if (uid && sessionId) {\n        await addMessage(uid, sessionId, 'assistant', fallback);\n      }\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const loadMoreSessions = () => {\n    setSessionsLimit((prev) => prev + 20);\n  };\n\n  const loadMoreMessages = () => {\n    setMessagesLimit((prev) => prev + 50);\n  };\n\n  return (\n    <div className=\"flex h-full bg-gradient-to-br from-white to-blue-50/40\">\n      {uid ? (\n        <aside className=\"hidden w-72 border-r border-gray-200 bg-white/70 backdrop-blur-sm lg:flex lg:flex-col\">\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200\">\n            <div className=\"flex items-center gap-2\">\n              <MessageSquare className=\"h-4 w-4 text-indigo-500\" />\n              <span className=\"font-semibold text-gray-700\">Conversations</span>\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleCreateSession}\n              className=\"inline-flex items-center gap-1 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-100\"\n            >\n              <Plus className=\"h-3.5 w-3.5\" />\n              New\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto px-2 py-3 space-y-1\">\n            {sessionsLoading && sessions.length === 0 ? (\n              <div className=\"flex flex-col items-center justify-center gap-2 py-10 text-sm text-gray-500\">\n                <Loader2 className=\"h-5 w-5 animate-spin text-indigo-500\" />\n                Loading conversations…\n              </div>\n            ) : sessions.length === 0 ? (\n              <div className=\"rounded-lg bg-indigo-50 p-4 text-xs text-indigo-700\">\n                Start a new conversation to save your progress.\n              </div>\n            ) : (\n              sessions.map((session) => {\n                const isActive = session.id === activeSessionId;\n                return (\n                  <div\n                    key={session.id}\n                    className={`group rounded-xl px-3 py-2 transition ${\n                      isActive ? 'bg-indigo-100/80 border border-indigo-200' : 'hover:bg-gray-100/60'\n                    }`}\n                  >\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setActiveSessionId(session.id);\n                        setMessagesLimit(50);\n                      }}\n                      className=\"flex w-full items-start justify-between gap-2 text-left\"\n                    >\n                      <div className=\"min-w-0 flex-1\">\n                        <p className=\"text-sm font-medium text-gray-800 truncate\">\n                          {session.title || session.lastMessagePreview || 'Untitled conversation'}\n                        </p>\n                        <p className=\"mt-1 text-xs text-gray-500 line-clamp-2\">\n                          {session.lastMessagePreview || 'No messages yet'}\n                        </p>\n                      </div>\n                      <span className=\"mt-1 text-[10px] uppercase tracking-wide text-gray-400\">\n                        {formatTimestamp(session.updatedAt ?? session.createdAt)}\n                      </span>\n                    </button>\n                    <div className=\"mt-1 hidden items-center justify-end gap-2 group-hover:flex\">\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRenameSession(session)}\n                        className=\"inline-flex items-center gap-1 rounded-md border border-gray-200 px-1.5 py-1 text-[11px] text-gray-600 hover:bg-gray-100\"\n                      >\n                        <PenLine className=\"h-3 w-3\" />\n                        Rename\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleDeleteSession(session)}\n                        className=\"inline-flex items-center gap-1 rounded-md border border-red-200 px-1.5 py-1 text-[11px] text-red-600 hover:bg-red-50\"\n                      >\n                        <Trash2 className=\"h-3 w-3\" />\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n\n          {sessions.length >= sessionsLimit && (\n            <div className=\"border-t border-gray-200 p-3\">\n              <button\n                type=\"button\"\n                onClick={loadMoreSessions}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50\"\n              >\n                Load more\n              </button>\n            </div>\n          )}\n        </aside>\n      ) : null}\n\n      <div className=\"flex flex-1 flex-col\">\n        <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\">\n          <div className=\"flex items-center gap-3\">\n            <div>\n              <h3 className=\"font-semibold text-gray-800\">Chat</h3>\n              <p className=\"text-sm text-green-600\">Online • Always here for you</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4\">\n          {displayMessages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div\n                className={`flex items-start gap-3 max-w-3xl ${\n                  message.sender === 'user' ? 'flex-row-reverse' : ''\n                }`}\n              >\n                {message.sender === 'user' ? (\n                  <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0\">\n                    <User className=\"h-4 w-4 text-white\" />\n                  </div>\n                ) : (\n                  <div className=\"relative flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.30)] ring-1 ring-white/20\" />\n                )}\n\n                <div\n                  className={`px-4 py-3 rounded-2xl shadow-sm ${\n                    message.sender === 'user'\n                      ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md'\n                      : 'bg-white border border-gray-200 text-gray-800 rounded-bl-md'\n                  }`}\n                >\n                  <p className=\"text-sm leading-relaxed whitespace-pre-line\">{message.content}</p>\n                  <p\n                    className={`text-xs mt-2 ${\n                      message.sender === 'user' ? 'text-blue-100' : 'text-gray-500'\n                    }`}\n                  >\n                    {formatTimestamp(message.timestamp)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {messagesLoading && uid ? (\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <Loader2 className=\"h-4 w-4 animate-spin text-indigo-500\" />\n              Loading messages…\n            </div>\n          ) : null}\n\n          {uid && messages.length >= messagesLimit ? (\n            <div className=\"flex justify-center\">\n              <button\n                type=\"button\"\n                onClick={loadMoreMessages}\n                className=\"inline-flex items-center gap-2 rounded-full border border-indigo-200 px-4 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50\"\n              >\n                <Clock className=\"h-3.5 w-3.5\" />\n                Load previous messages\n              </button>\n            </div>\n          ) : null}\n\n          {isTyping ? (\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <Loader2 className=\"h-4 w-4 animate-spin text-indigo-500\" />\n              Lumora is thinking…\n            </div>\n          ) : null}\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        <div className=\"border-t border-gray-200 bg-white/90 backdrop-blur-sm px-6 py-4\">\n          <div className=\"rounded-2xl border border-gray-200 bg-white shadow-sm\">\n            <textarea\n              ref={textareaRef}\n              value={inputValue}\n              onChange={(event) => setInputValue(event.target.value)}\n              onKeyDown={handleKeyPress}\n              placeholder=\"Share how you're feeling, ask a question, or tell Lumora what's on your mind…\"\n              className=\"w-full resize-none rounded-2xl bg-transparent px-4 py-3 text-sm focus:outline-none\"\n            />\n            <div className=\"flex items-center justify-between border-t border-gray-100 px-4 py-2\">\n              <p className=\"text-xs text-gray-400\">Shift + Enter for a new line</p>\n              <button\n                type=\"button\"\n                onClick={handleSendMessage}\n                disabled={!inputValue.trim() || isTyping}\n                className=\"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow hover:from-indigo-600 hover:to-indigo-700 disabled:cursor-not-allowed disabled:opacity-60\"\n              >\n                {isTyping ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4\" />}\n                Send\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,7,8,9,10,17,18,20,21,22,24,25,27,28,29,30,31,32,33,34,35,37,38,39,40,41,42,43,44,45,46,47,48,49,50]}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/lib/risk.ts"],"sourcesContent":["export type RiskTier = 'GREEN' | 'YELLOW' | 'RED';\n\nconst RED_REGEX = /(kill myself|end my life|suicide|i want to die|die tonight|hurt myself)\\b/i;\nconst YELLOW_REGEX = /(panic|overwhelmed|can[â€™']t cope|worthless|breakdown|no one cares)/i;\n\nexport function assessRisk(text: string): { tier: RiskTier; reasons: string[] } {\n  const input = (text || '').trim();\n  const reasons: string[] = [];\n  let tier: RiskTier = 'GREEN';\n  if (!input) return { tier, reasons: ['empty_text'] };\n\n  if (RED_REGEX.test(input)) {\n    tier = 'RED';\n    reasons.push('red_keyword_match');\n  } else if (YELLOW_REGEX.test(input)) {\n    tier = 'YELLOW';\n    reasons.push('yellow_distress_cue');\n  }\n  const distressWords = ['overwhelmed', 'panic', 'worthless'];\n  const longText = input.length > 160;\n  if (longText && distressWords.some(w => input.toLowerCase().includes(w))) {\n    if (tier === 'GREEN') tier = 'YELLOW';\n    reasons.push('length_plus_distress_hint');\n  }\n  return { tier, reasons };\n}\n\n\n"],"names":[],"mappings":";;;;AAEA,MAAM,YAAY;AAClB,MAAM,eAAe;AAEd,SAAS,WAAW,IAAY;IACrC,MAAM,QAAQ,CAAC,QAAQ,EAAE,EAAE,IAAI;IAC/B,MAAM,UAAoB,EAAE;IAC5B,IAAI,OAAiB;IACrB,IAAI,CAAC,OAAO,OAAO;QAAE;QAAM,SAAS;YAAC;SAAa;IAAC;IAEnD,IAAI,UAAU,IAAI,CAAC,QAAQ;QACzB,OAAO;QACP,QAAQ,IAAI,CAAC;IACf,OAAO,IAAI,aAAa,IAAI,CAAC,QAAQ;QACnC,OAAO;QACP,QAAQ,IAAI,CAAC;IACf;IACA,MAAM,gBAAgB;QAAC;QAAe;QAAS;KAAY;IAC3D,MAAM,WAAW,MAAM,MAAM,GAAG;IAChC,IAAI,YAAY,cAAc,IAAI,CAAC,CAAA,IAAK,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAK;QACxE,IAAI,SAAS,SAAS,OAAO;QAC7B,QAAQ,IAAI,CAAC;IACf;IACA,OAAO;QAAE;QAAM;IAAQ;AACzB","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/app/api/risk-check/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { assessRisk } from '@/lib/risk';\n\nexport async function POST(request: Request) {\n  try {\n    const { text } = (await request.json()) as { text?: string };\n    const { tier, reasons } = assessRisk(text || '');\n    return NextResponse.json({ tier, reasons });\n  } catch (err) {\n    return NextResponse.json({ error: 'invalid_request' }, { status: 400 });\n  }\n}\n\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,GAAI,MAAM,QAAQ,IAAI;QACpC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,2JAAU,EAAC,QAAQ;QAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;YAAM;QAAQ;IAC3C,EAAE,OAAO,KAAK;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAkB,GAAG;YAAE,QAAQ;QAAI;IACvE;AACF","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/contexts/AuthUIContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext } from 'react';\n\ninterface AuthUIContextValue {\n  requestLogin: () => void;\n}\n\nconst AuthUIContext = createContext<AuthUIContextValue>({\n  requestLogin: () => {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn('AuthUIContext not initialised before calling requestLogin');\n    }\n  },\n});\n\nexport function AuthUIProvider({\n  value,\n  children,\n}: {\n  value: AuthUIContextValue;\n  children: React.ReactNode;\n}) {\n  return <AuthUIContext.Provider value={value}>{children}</AuthUIContext.Provider>;\n}\n\nexport function useAuthUI(): AuthUIContextValue {\n  return useContext(AuthUIContext);\n}\n"],"names":[],"mappings":";;;;;;AAUQ;;AARR;;;AAFA;;AAQA,MAAM,8BAAgB,IAAA,8KAAa,EAAqB;IACtD,cAAc;QACZ,wCAA2C;YACzC,QAAQ,IAAI,CAAC;QACf;IACF;AACF;AAEO,SAAS,eAAe,KAM9B;QAN8B,EAC7B,KAAK,EACL,QAAQ,EAIT,GAN8B;IAO7B,qBAAO,6LAAC,cAAc,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAChD;KARgB;AAUT,SAAS;;IACd,OAAO,IAAA,2KAAU,EAAC;AACpB;GAFgB","debugId":null}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Menu, LogIn, LogOut } from 'lucide-react';\nimport { ViewType } from '../AppShell';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useAuthUI } from '@/contexts/AuthUIContext';\n\ninterface HeaderProps {\n  onMenuClick: () => void;\n  currentView: ViewType;\n}\n\nconst viewTitles: Record<ViewType, string> = {\n  chat: 'Chat with Lumora',\n  mood: 'Mood Tracking',\n  resources: 'Resources & Tools',\n  dashboard: 'Your Journey',\n  crisis: 'Crisis Support'\n};\n\nexport function Header({ onMenuClick, currentView }: HeaderProps) {\n  const { profile, user, logout, guestMode } = useAuth();\n  const { requestLogin } = useAuthUI();\n  const [signingOut, setSigningOut] = useState(false);\n\n  const displayName = profile?.name || user?.displayName || user?.email || (guestMode ? 'Guest session' : 'Lumora');\n\n  const handleLogout = async () => {\n    try {\n      setSigningOut(true);\n      await logout();\n    } finally {\n      setSigningOut(false);\n    }\n  };\n\n  return (\n    <header className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 py-4 flex items-center justify-between md:hidden\">\n      <div className=\"flex items-center gap-4\">\n        <button\n          onClick={onMenuClick}\n          className=\"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n        >\n          <Menu className=\"h-5 w-5 text-gray-600\" />\n        </button>\n        \n        {/* <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center\">\n            <Heart className=\"h-4 w-4 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Lumora\n            </h1>\n            <p className=\"text-sm text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n        </div> */}\n      </div>\n      <div className=\"flex items-center gap-4\">\n        <h2 className=\"hidden sm:block text-left text-lg font-semibold text-gray-800\">\n          {viewTitles[currentView]}\n        </h2>\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-sm font-medium text-gray-700 max-w-[120px] truncate\">{displayName}</span>\n          {user ? (\n            <button\n              type=\"button\"\n              onClick={handleLogout}\n              disabled={signingOut}\n              className=\"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-100 transition disabled:opacity-60\"\n            >\n              <LogOut className=\"h-3.5 w-3.5\" />\n              {signingOut ? '...' : 'Log out'}\n            </button>\n          ) : (\n            <button\n              type=\"button\"\n              onClick={requestLogin}\n              className=\"inline-flex items-center gap-1 rounded-full border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50 transition\"\n            >\n              <LogIn className=\"h-3.5 w-3.5\" />\n              Sign in\n            </button>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAEA;AACA;;;AANA;;;;;AAaA,MAAM,aAAuC;IAC3C,MAAM;IACN,MAAM;IACN,WAAW;IACX,WAAW;IACX,QAAQ;AACV;AAEO,SAAS,OAAO,KAAyC;QAAzC,EAAE,WAAW,EAAE,WAAW,EAAe,GAAzC;;IACrB,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,sKAAO;IACpD,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,0KAAS;IAClC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,cAAc,CAAA,oBAAA,8BAAA,QAAS,IAAI,MAAI,iBAAA,2BAAA,KAAM,WAAW,MAAI,iBAAA,2BAAA,KAAM,KAAK,KAAI,CAAC,YAAY,kBAAkB,QAAQ;IAEhH,MAAM,eAAe;QACnB,IAAI;YACF,cAAc;YACd,MAAM;QACR,SAAU;YACR,cAAc;QAChB;IACF;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAS;oBACT,WAAU;8BAEV,cAAA,6LAAC,6MAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAepB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCACX,UAAU,CAAC,YAAY;;;;;;kCAE1B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAA4D;;;;;;4BAC3E,qBACC,6LAAC;gCACC,MAAK;gCACL,SAAS;gCACT,UAAU;gCACV,WAAU;;kDAEV,6LAAC,uNAAM;wCAAC,WAAU;;;;;;oCACjB,aAAa,QAAQ;;;;;;qDAGxB,6LAAC;gCACC,MAAK;gCACL,SAAS;gCACT,WAAU;;kDAEV,6LAAC,oNAAK;wCAAC,WAAU;;;;;;oCAAgB;;;;;;;;;;;;;;;;;;;;;;;;;AAQ/C;GApEgB;;QAC+B,sKAAO;QAC3B,0KAAS;;;KAFpB","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/lib/chatStore.ts"],"sourcesContent":["'use client';\n\nimport { getFirebaseApp } from '@/lib/firebase';\nimport {\n  collection,\n  deleteDoc,\n  doc,\n  getDoc,\n  getDocs,\n  getFirestore,\n  limit,\n  onSnapshot,\n  orderBy,\n  query,\n  serverTimestamp,\n  setDoc,\n  startAfter,\n  type DocumentData,\n  type DocumentReference,\n  type QueryDocumentSnapshot,\n  type Unsubscribe,\n  updateDoc,\n  writeBatch,\n} from 'firebase/firestore';\n\nexport type ChatMessageRole = 'user' | 'assistant' | 'system';\n\nexport interface SessionRecord {\n  id: string;\n  title: string | null;\n  createdAt?: Date;\n  updatedAt?: Date;\n  model?: string;\n  meta?: Record<string, unknown> | null;\n  lastMessagePreview?: string | null;\n}\n\nexport interface MessageRecord {\n  id: string;\n  role: ChatMessageRole;\n  content: string;\n  createdAt?: Date;\n  tokensIn?: number;\n  tokensOut?: number;\n}\n\nexport interface ListSessionsOptions {\n  limit?: number;\n  startAfter?: QueryDocumentSnapshot<DocumentData>;\n  onError?: (error: unknown) => void;\n}\n\nexport interface SubscribeMessagesOptions {\n  limit?: number;\n  startAfter?: QueryDocumentSnapshot<DocumentData>;\n  onError?: (error: unknown) => void;\n}\n\nfunction getUserSessionsCollection(uid: string) {\n  const db = getFirestore(getFirebaseApp());\n  return collection(db, 'users', uid, 'sessions');\n}\n\nfunction buildSessionRef(uid: string, sessionId: string): DocumentReference<DocumentData> {\n  const db = getFirestore(getFirebaseApp());\n  return doc(db, 'users', uid, 'sessions', sessionId);\n}\n\nfunction sessionDataFromSnapshot(snapshot: QueryDocumentSnapshot<DocumentData>): SessionRecord {\n  const data = snapshot.data();\n  return {\n    id: snapshot.id,\n    title: (data.title ?? null) as string | null,\n    createdAt: data.createdAt?.toDate?.() ?? undefined,\n    updatedAt: data.updatedAt?.toDate?.() ?? undefined,\n    model: data.model ?? undefined,\n    meta: data.meta ?? null,\n    lastMessagePreview: data.lastMessagePreview ?? null,\n  };\n}\n\nfunction messageDataFromSnapshot(snapshot: QueryDocumentSnapshot<DocumentData>): MessageRecord {\n  const data = snapshot.data();\n  return {\n    id: snapshot.id,\n    role: data.role as ChatMessageRole,\n    content: data.content ?? '',\n    createdAt: data.createdAt?.toDate?.() ?? undefined,\n    tokensIn: data.tokensIn ?? undefined,\n    tokensOut: data.tokensOut ?? undefined,\n  };\n}\n\nfunction generateTitleFromContent(content: string): string {\n  const cleaned = content.replace(/\\s+/g, ' ').trim();\n  if (!cleaned) return 'New conversation';\n  return cleaned.length > 60 ? `${cleaned.slice(0, 57)}…` : cleaned;\n}\n\nfunction previewFromContent(content: string): string {\n  const cleaned = content.replace(/\\s+/g, ' ').trim();\n  if (!cleaned) {\n    return '';\n  }\n  return cleaned.length > 160 ? `${cleaned.slice(0, 157)}…` : cleaned;\n}\n\nexport async function createSession(\n  uid: string,\n  options: { title?: string; model?: string; meta?: Record<string, unknown> } = {}\n): Promise<string> {\n  const sessionsCollection = getUserSessionsCollection(uid);\n  const sessionRef = doc(sessionsCollection);\n  const payload: Record<string, unknown> = {\n    createdAt: serverTimestamp(),\n    updatedAt: serverTimestamp(),\n  };\n\n  if (options.title) {\n    payload.title = options.title;\n  }\n  if (options.model) {\n    payload.model = options.model;\n  }\n  if (options.meta) {\n    payload.meta = options.meta;\n  }\n\n  await setDoc(sessionRef, payload);\n  return sessionRef.id;\n}\n\nexport interface AddMessageOptions {\n  tokensIn?: number;\n  tokensOut?: number;\n  model?: string;\n}\n\nexport async function addMessage(\n  uid: string,\n  sessionId: string,\n  role: ChatMessageRole,\n  content: string,\n  options: AddMessageOptions = {}\n): Promise<string> {\n  if (!content.trim()) {\n    throw new Error('Message content is required');\n  }\n\n  const db = getFirestore(getFirebaseApp());\n  const sessionRef = doc(db, 'users', uid, 'sessions', sessionId);\n\n  const messageRef = doc(collection(sessionRef, 'messages'));\n  await setDoc(messageRef, {\n    role,\n    content,\n    createdAt: serverTimestamp(),\n    ...(options.tokensIn !== undefined ? { tokensIn: options.tokensIn } : {}),\n    ...(options.tokensOut !== undefined ? { tokensOut: options.tokensOut } : {}),\n  });\n\n  const updates: Record<string, unknown> = {\n    updatedAt: serverTimestamp(),\n    lastMessagePreview: previewFromContent(content),\n  };\n\n  if (options.model) {\n    updates.model = options.model;\n  }\n\n  if (role === 'user') {\n    const snapshot = await getDoc(sessionRef);\n    const existingTitle = snapshot.exists() ? snapshot.data()?.title : undefined;\n    if (!existingTitle) {\n      updates.title = generateTitleFromContent(content);\n    }\n  }\n\n  await updateDoc(sessionRef, updates);\n  return messageRef.id;\n}\n\nexport function listSessions(\n  uid: string,\n  options: ListSessionsOptions = {},\n  onNext: (sessions: SessionRecord[], snapshot: QueryDocumentSnapshot<DocumentData>[]) => void\n): Unsubscribe {\n  const { limit: pageSize = 20, startAfter: startAfterDoc, onError } = options;\n  const sessionsCollection = getUserSessionsCollection(uid);\n  let sessionsQuery = query(sessionsCollection, orderBy('updatedAt', 'desc'), limit(pageSize));\n\n  if (startAfterDoc) {\n    sessionsQuery = query(sessionsQuery, startAfter(startAfterDoc));\n  }\n\n  return onSnapshot(\n    sessionsQuery,\n    (snapshot) => {\n      const docs = snapshot.docs as QueryDocumentSnapshot<DocumentData>[];\n      onNext(\n        docs.map((docSnapshot) => sessionDataFromSnapshot(docSnapshot)),\n        docs\n      );\n    },\n    (error) => {\n      console.error('Failed to list sessions:', error);\n      onError?.(error);\n    }\n  );\n}\n\nexport function subscribeMessages(\n  uid: string,\n  sessionId: string,\n  options: SubscribeMessagesOptions = {},\n  onNext: (messages: MessageRecord[], docs: QueryDocumentSnapshot<DocumentData>[]) => void\n): Unsubscribe {\n  const { limit: pageSize = 50, startAfter: startAfterDoc, onError } = options;\n  const db = getFirestore(getFirebaseApp());\n  const messagesCollection = collection(db, 'users', uid, 'sessions', sessionId, 'messages');\n\n  let messagesQuery = query(messagesCollection, orderBy('createdAt', 'asc'), limit(pageSize));\n  if (startAfterDoc) {\n    messagesQuery = query(messagesQuery, startAfter(startAfterDoc));\n  }\n\n  return onSnapshot(\n    messagesQuery,\n    (snapshot) => {\n      const docs = snapshot.docs as QueryDocumentSnapshot<DocumentData>[];\n      onNext(\n        docs.map((docSnapshot) => messageDataFromSnapshot(docSnapshot)),\n        docs\n      );\n    },\n    (error) => {\n      console.error('Failed to subscribe to messages:', error);\n      onError?.(error);\n    }\n  );\n}\n\nexport async function renameSession(uid: string, sessionId: string, title: string): Promise<void> {\n  const sessionRef = buildSessionRef(uid, sessionId);\n  await updateDoc(sessionRef, {\n    title,\n    updatedAt: serverTimestamp(),\n  });\n}\n\nexport async function deleteSession(uid: string, sessionId: string): Promise<void> {\n  const db = getFirestore(getFirebaseApp());\n  const sessionRef = doc(db, 'users', uid, 'sessions', sessionId);\n  const messagesCollection = collection(sessionRef, 'messages');\n\n  const batchDelete = async () => {\n    const snapshot = await getDocs(query(messagesCollection, limit(500)));\n    if (snapshot.empty) {\n      return false;\n    }\n\n    const batch = writeBatch(db);\n    snapshot.docs.forEach((messageDoc) => {\n      batch.delete(messageDoc.ref);\n    });\n    await batch.commit();\n    return snapshot.size === 500;\n  };\n\n  let shouldContinue = true;\n  while (shouldContinue) {\n    shouldContinue = await batchDelete();\n  }\n\n  await deleteDoc(sessionRef);\n}\n\nexport async function getOrCreateActiveSession(uid: string): Promise<string> {\n  const sessionsCollection = getUserSessionsCollection(uid);\n  const recentSessions = await getDocs(query(sessionsCollection, orderBy('updatedAt', 'desc'), limit(1)));\n  if (!recentSessions.empty) {\n    return recentSessions.docs[0].id;\n  }\n  return createSession(uid);\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 413, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/ChatInterface.tsx"],"sourcesContent":["import { useEffect, useMemo, useRef, useState } from 'react';\nimport { Clock, Loader2, MessageSquare, PenLine, Plus, Send, Trash2, User } from 'lucide-react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport rehypeSanitize from 'rehype-sanitize';\nimport { useAuth } from '@/contexts/AuthContext';\nimport {\n  addMessage,\n  createSession,\n  deleteSession,\n  listSessions,\n  renameSession,\n  subscribeMessages,\n  type MessageRecord,\n  type SessionRecord,\n} from '@/lib/chatStore';\n\ninterface DisplayMessage {\n  id: string;\n  content: string;\n  sender: 'user' | 'assistant' | 'system';\n  timestamp: Date;\n  pending?: boolean;\n}\n\nconst welcomeMessage: DisplayMessage = {\n  id: 'lumora-welcome',\n  content:\n    \"Hello! I'm Lumora, your AI companion for mental health support. I'm here to listen, provide guidance, and help you navigate your thoughts and feelings. How are you doing today?\",\n  sender: 'assistant',\n  timestamp: new Date(),\n};\n\nfunction formatTimestamp(date?: Date) {\n  if (!date) return '';\n  const now = new Date();\n  const sameDay = date.toDateString() === now.toDateString();\n  if (sameDay) {\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  }\n  return date.toLocaleDateString([], { month: 'short', day: 'numeric' });\n}\n\nfunction mapRecordToDisplay(messages: MessageRecord[]): DisplayMessage[] {\n  return messages.map((msg) => ({\n    id: msg.id,\n    content: msg.content,\n    sender: msg.role === 'system' ? 'assistant' : msg.role,\n    timestamp: msg.createdAt ?? new Date(),\n  }));\n}\n\nexport function ChatInterface() {\n  const { user } = useAuth();\n  const uid = user?.uid ?? null;\n\n  const [sessions, setSessions] = useState<SessionRecord[]>([]);\n  const [activeSessionId, setActiveSessionId] = useState<string | null>(null);\n  const [sessionsLoading, setSessionsLoading] = useState(false);\n  const [sessionsLimit, setSessionsLimit] = useState(20);\n\n  const [messages, setMessages] = useState<MessageRecord[]>([]);\n  const [messagesLoading, setMessagesLoading] = useState(false);\n  const [messagesLimit, setMessagesLimit] = useState(50);\n\n  const [inputValue, setInputValue] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n\n  const [guestMessages, setGuestMessages] = useState<DisplayMessage[]>([welcomeMessage]);\n\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  useEffect(() => {\n    if (!uid) {\n      setSessions([]);\n      setActiveSessionId(null);\n      return;\n    }\n\n    setSessionsLoading(true);\n    const unsubscribe = listSessions(\n      uid,\n      {\n        limit: sessionsLimit,\n        onError: () => setSessionsLoading(false),\n      },\n      (records) => {\n        setSessions(records);\n        setSessionsLoading(false);\n        setActiveSessionId((prev) => prev ?? (records[0]?.id ?? null));\n      }\n    );\n\n    return () => {\n      unsubscribe();\n      setSessions([]);\n    };\n  }, [uid, sessionsLimit]);\n\n  useEffect(() => {\n    if (!uid || !activeSessionId) {\n      setMessages([]);\n      return;\n    }\n    setMessagesLoading(true);\n\n    const unsubscribe = subscribeMessages(\n      uid,\n      activeSessionId,\n      {\n        limit: messagesLimit,\n        onError: () => setMessagesLoading(false),\n      },\n      (records) => {\n        setMessages(records);\n        setMessagesLoading(false);\n      }\n    );\n\n    return () => {\n      unsubscribe();\n      setMessages([]);\n    };\n  }, [uid, activeSessionId, messagesLimit]);\n\n  useEffect(() => {\n    if (!textareaRef.current) return;\n    const textarea = textareaRef.current;\n    const MIN_HEIGHT = 48;\n    const MAX_HEIGHT = 240;\n\n    textarea.style.height = 'auto';\n    const nextHeight = Math.min(Math.max(textarea.scrollHeight, MIN_HEIGHT), MAX_HEIGHT);\n    textarea.style.height = `${nextHeight}px`;\n    textarea.style.overflowY = textarea.scrollHeight > MAX_HEIGHT ? 'auto' : 'hidden';\n  }, [inputValue]);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages, guestMessages, isTyping]);\n\n  useEffect(() => {\n    if (!uid) {\n      setGuestMessages((prev) => (prev.length ? prev : [welcomeMessage]));\n    }\n  }, [uid]);\n\n  const displayMessages: DisplayMessage[] = useMemo(() => {\n    if (!uid || !activeSessionId) {\n      return guestMessages;\n    }\n    if (!messages.length) {\n      return [welcomeMessage];\n    }\n    return mapRecordToDisplay(messages);\n  }, [uid, activeSessionId, messages, guestMessages]);\n\n  const handleCreateSession = async () => {\n    if (!uid) {\n      return;\n    }\n    try {\n      const sessionId = await createSession(uid);\n      setActiveSessionId(sessionId);\n      setMessagesLimit(50);\n      setMessages([]);\n    } catch (error) {\n      console.error('Failed to create session', error);\n    }\n  };\n\n  const handleRenameSession = async (session: SessionRecord) => {\n    if (!uid) return;\n    const currentTitle = session.title ?? '';\n    const nextTitle = window.prompt('Rename conversation', currentTitle);\n    if (nextTitle === null) return;\n    const trimmed = nextTitle.trim();\n    if (!trimmed) return;\n    try {\n      await renameSession(uid, session.id, trimmed);\n    } catch (error) {\n      console.error('Failed to rename session', error);\n    }\n  };\n\n  const handleDeleteSession = async (session: SessionRecord) => {\n    if (!uid) return;\n    const confirmed = window.confirm('Delete this conversation? This will remove all messages.');\n    if (!confirmed) return;\n    try {\n      await deleteSession(uid, session.id);\n      if (activeSessionId === session.id) {\n        setActiveSessionId(null);\n        setMessages([]);\n      }\n    } catch (error) {\n      console.error('Failed to delete session', error);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    const trimmed = inputValue.trim();\n    if (!trimmed) return;\n\n    if (!uid) {\n      const userMessage: DisplayMessage = {\n        id: `guest-${Date.now()}`,\n        content: trimmed,\n        sender: 'user',\n        timestamp: new Date(),\n      };\n      const nextMessages = [...guestMessages, userMessage];\n      setGuestMessages(nextMessages);\n      setInputValue('');\n      setIsTyping(true);\n\n      try {\n        const response = await fetch('/api/chat', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            sessionId: 'guest',\n            messages: nextMessages.map((message) => ({\n              role: message.sender,\n              content: message.content,\n            })),\n          }),\n        });\n\n        if (!response.ok) {\n          throw new Error('chat_request_failed');\n        }\n\n        const data: { reply?: string } = await response.json();\n        const reply = data.reply?.trim();\n\n        const assistantMessage: DisplayMessage = {\n          id: `guest-${Date.now() + 1}`,\n          content:\n            reply || 'Thank you for sharing. I am here to listen and support you.',\n          sender: 'assistant',\n          timestamp: new Date(),\n        };\n\n        setGuestMessages((prev) => [...prev, assistantMessage]);\n      } catch (error) {\n        console.error('Guest chat request failed', error);\n        const fallbackMessage: DisplayMessage = {\n          id: `guest-${Date.now() + 1}`,\n          content: 'I had trouble reaching our support service. Please try again in a moment.',\n          sender: 'assistant',\n          timestamp: new Date(),\n        };\n        setGuestMessages((prev) => [...prev, fallbackMessage]);\n      } finally {\n        setIsTyping(false);\n      }\n      return;\n    }\n\n    setInputValue('');\n    setIsTyping(true);\n\n    let sessionId = activeSessionId ?? null;\n\n    try {\n      if (!sessionId) {\n        sessionId = await createSession(uid);\n        setActiveSessionId(sessionId);\n        setMessages([]);\n        setMessagesLimit(50);\n      }\n\n      if (!sessionId) {\n        throw new Error('Unable to resolve session.');\n      }\n\n      await addMessage(uid, sessionId, 'user', trimmed);\n\n      const optimisticMessage: DisplayMessage = {\n        id: `pending-${Date.now()}`,\n        content: trimmed,\n        sender: 'user',\n        timestamp: new Date(),\n      };\n\n      const outgoingHistory = [...mapRecordToDisplay(messages), optimisticMessage];\n\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sessionId,\n          messages: outgoingHistory.map((message) => ({\n            role: message.sender,\n            content: message.content,\n          })),\n        }),\n      });\n\n      let reply: string | undefined;\n      if (response.ok) {\n        const data: { reply?: string } = await response.json();\n        reply = data.reply?.trim();\n      }\n\n      await addMessage(\n        uid,\n        sessionId,\n        'assistant',\n        reply || 'Thank you for sharing. I am here to listen and support you.'\n      );\n    } catch (error) {\n      console.error('Failed to send message', error);\n      const fallback = 'I had trouble reaching our support service. Please try again in a moment.';\n      if (uid && sessionId) {\n        await addMessage(uid, sessionId, 'assistant', fallback);\n      }\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const loadMoreSessions = () => {\n    setSessionsLimit((prev) => prev + 20);\n  };\n\n  const loadMoreMessages = () => {\n    setMessagesLimit((prev) => prev + 50);\n  };\n\n  return (\n    <div className=\"flex h-full bg-gradient-to-br from-white to-blue-50/40\">\n      {uid ? (\n        <aside className=\"hidden w-72 border-r border-gray-200 bg-white/70 backdrop-blur-sm lg:flex lg:flex-col\">\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200\">\n            <div className=\"flex items-center gap-2\">\n              <MessageSquare className=\"h-4 w-4 text-indigo-500\" />\n              <span className=\"font-semibold text-gray-700\">Conversations</span>\n            </div>\n            <button\n              type=\"button\"\n              onClick={handleCreateSession}\n              className=\"inline-flex items-center gap-1 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-100\"\n            >\n              <Plus className=\"h-3.5 w-3.5\" />\n              New\n            </button>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto px-2 py-3 space-y-1\">\n            {sessionsLoading && sessions.length === 0 ? (\n              <div className=\"flex flex-col items-center justify-center gap-2 py-10 text-sm text-gray-500\">\n                <Loader2 className=\"h-5 w-5 animate-spin text-indigo-500\" />\n                Loading conversations…\n              </div>\n            ) : sessions.length === 0 ? (\n              <div className=\"rounded-lg bg-indigo-50 p-4 text-xs text-indigo-700\">\n                Start a new conversation to save your progress.\n              </div>\n            ) : (\n              sessions.map((session) => {\n                const isActive = session.id === activeSessionId;\n                return (\n                  <div\n                    key={session.id}\n                    className={`group rounded-xl px-3 py-2 transition ${\n                      isActive ? 'bg-indigo-100/80 border border-indigo-200' : 'hover:bg-gray-100/60'\n                    }`}\n                  >\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setActiveSessionId(session.id);\n                        setMessagesLimit(50);\n                      }}\n                      className=\"flex w-full items-start justify-between gap-2 text-left\"\n                    >\n                      <div className=\"min-w-0 flex-1\">\n                        <p className=\"text-sm font-medium text-gray-800 truncate\">\n                          {session.title || session.lastMessagePreview || 'Untitled conversation'}\n                        </p>\n                        <p className=\"mt-1 text-xs text-gray-500 line-clamp-2\">\n                          {session.lastMessagePreview || 'No messages yet'}\n                        </p>\n                      </div>\n                      <span className=\"mt-1 text-[10px] uppercase tracking-wide text-gray-400\">\n                        {formatTimestamp(session.updatedAt ?? session.createdAt)}\n                      </span>\n                    </button>\n                    <div className=\"mt-1 hidden items-center justify-end gap-2 group-hover:flex\">\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRenameSession(session)}\n                        className=\"inline-flex items-center gap-1 rounded-md border border-gray-200 px-1.5 py-1 text-[11px] text-gray-600 hover:bg-gray-100\"\n                      >\n                        <PenLine className=\"h-3 w-3\" />\n                        Rename\n                      </button>\n                      <button\n                        type=\"button\"\n                        onClick={() => handleDeleteSession(session)}\n                        className=\"inline-flex items-center gap-1 rounded-md border border-red-200 px-1.5 py-1 text-[11px] text-red-600 hover:bg-red-50\"\n                      >\n                        <Trash2 className=\"h-3 w-3\" />\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n\n          {sessions.length >= sessionsLimit && (\n            <div className=\"border-t border-gray-200 p-3\">\n              <button\n                type=\"button\"\n                onClick={loadMoreSessions}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50\"\n              >\n                Load more\n              </button>\n            </div>\n          )}\n        </aside>\n      ) : null}\n\n      <div className=\"flex flex-1 flex-col\">\n        <div className=\"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4\">\n          <div className=\"flex items-center gap-3\">\n            <div>\n              <h3 className=\"font-semibold text-gray-800\">Chat</h3>\n              <p className=\"text-sm text-green-600\">Online • Always here for you</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto px-6 py-4 space-y-4\">\n          {displayMessages.map((message) => (\n            <div\n              key={message.id}\n              className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n            >\n              <div\n                className={`flex items-start gap-3 max-w-3xl ${\n                  message.sender === 'user' ? 'flex-row-reverse' : ''\n                }`}\n              >\n                {message.sender === 'user' ? (\n                  <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0\">\n                    <User className=\"h-4 w-4 text-white\" />\n                  </div>\n                ) : (\n                  <div className=\"relative flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.30)] ring-1 ring-white/20\" />\n                )}\n\n                <div\n                  className={`px-4 py-3 rounded-2xl shadow-sm ${\n                    message.sender === 'user'\n                      ? 'bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md'\n                      : 'bg-white border border-gray-200 text-gray-800 rounded-bl-md'\n                  }`}\n                >\n                  <ReactMarkdown\n                    remarkPlugins={[remarkGfm]}\n                    rehypePlugins={[rehypeSanitize]}\n                    components={{\n                      a: ({ children, ...props }) => (\n                        <a {...props} target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline\">\n                          {children}\n                        </a>\n                      ),\n                    }}\n                    className={`prose prose-sm max-w-none break-words ${\n                      message.sender === 'user'\n                        ? 'prose-invert prose-headings:text-white prose-strong:text-white prose-em:text-white'\n                        : 'prose-headings:text-gray-800 prose-p:text-gray-800'\n                    } prose-p:my-2 first:prose-p:mt-0 last:prose-p:mb-0 prose-ul:my-2 prose-ol:my-2 prose-li:my-1`}\n                  >\n                    {message.content}\n                  </ReactMarkdown>\n                  <p\n                    className={`text-xs mt-2 ${\n                      message.sender === 'user' ? 'text-blue-100' : 'text-gray-500'\n                    }`}\n                  >\n                    {formatTimestamp(message.timestamp)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {messagesLoading && uid ? (\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <Loader2 className=\"h-4 w-4 animate-spin text-indigo-500\" />\n              Loading messages…\n            </div>\n          ) : null}\n\n          {uid && messages.length >= messagesLimit ? (\n            <div className=\"flex justify-center\">\n              <button\n                type=\"button\"\n                onClick={loadMoreMessages}\n                className=\"inline-flex items-center gap-2 rounded-full border border-indigo-200 px-4 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50\"\n              >\n                <Clock className=\"h-3.5 w-3.5\" />\n                Load previous messages\n              </button>\n            </div>\n          ) : null}\n\n          {isTyping ? (\n            <div className=\"flex items-center gap-2 text-sm text-gray-500\">\n              <Loader2 className=\"h-4 w-4 animate-spin text-indigo-500\" />\n              Lumora is thinking…\n            </div>\n          ) : null}\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        <div className=\"border-t border-gray-200 bg-white/90 backdrop-blur-sm px-6 py-4\">\n          <div className=\"rounded-2xl border border-gray-200 bg-white shadow-sm\">\n            <textarea\n              ref={textareaRef}\n              value={inputValue}\n              onChange={(event) => setInputValue(event.target.value)}\n              onKeyDown={handleKeyPress}\n              placeholder=\"Share how you're feeling, ask a question, or tell Lumora what's on your mind…\"\n              className=\"w-full resize-none rounded-2xl bg-transparent px-4 py-3 text-sm focus:outline-none\"\n            />\n            <div className=\"flex items-center justify-between border-t border-gray-100 px-4 py-2\">\n              <p className=\"text-xs text-gray-400\">Shift + Enter for a new line</p>\n              <button\n                type=\"button\"\n                onClick={handleSendMessage}\n                disabled={!inputValue.trim() || isTyping}\n                className=\"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow hover:from-indigo-600 hover:to-indigo-700 disabled:cursor-not-allowed disabled:opacity-60\"\n              >\n                {isTyping ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4\" />}\n                Send\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/UserProfileMenu.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { LogOut, LogIn, ShieldAlert, UserCircle2 } from 'lucide-react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useAuthUI } from '@/contexts/AuthUIContext';\n\nfunction getInitials(name?: string, fallback?: string) {\n  if (name) {\n    const parts = name.trim().split(/\\s+/).slice(0, 2);\n    if (parts.length > 0) {\n      return parts.map((part) => part[0]?.toUpperCase() ?? '').join('') || fallback?.[0]?.toUpperCase() || 'U';\n    }\n  }\n  return fallback?.[0]?.toUpperCase() ?? 'U';\n}\n\nexport function UserProfileMenu() {\n  const { user, profile, logout, guestMode } = useAuth();\n  const { requestLogin } = useAuthUI();\n  const [signingOut, setSigningOut] = useState(false);\n\n  if (!user) {\n    return (\n      <div className=\"rounded-xl border border-indigo-100 bg-white/70 p-4 shadow-sm\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100 text-indigo-700\">\n            <ShieldAlert className=\"h-6 w-6\" />\n          </div>\n          <div className=\"space-y-1\">\n            <p className=\"text-sm font-semibold text-indigo-900\">\n              {guestMode ? \"You're exploring in guest mode\" : 'Welcome to Lumora'}\n            </p>\n            <p className=\"text-xs text-indigo-700/80\">\n              Sign in to save conversations and track your progress across visits. You can keep exploring without an\n              account, too.\n            </p>\n          </div>\n        </div>\n        <button\n          type=\"button\"\n          onClick={requestLogin}\n          className=\"mt-4 inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700\"\n        >\n          <LogIn className=\"h-4 w-4\" />\n          Sign in\n        </button>\n      </div>\n    );\n  }\n\n  const displayName = profile?.name || user?.displayName || user?.email || 'Welcome';\n  const email = user?.email ?? profile?.email ?? '';\n  const accountType = profile?.accountType ?? 'user';\n\n  const initials = getInitials(profile?.name, user?.email ?? undefined);\n\n  const handleLogout = async () => {\n    try {\n      setSigningOut(true);\n      await logout();\n    } finally {\n      setSigningOut(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-gradient-to-br from-indigo-50 via-white to-purple-50 border border-indigo-100 rounded-xl p-4 shadow-sm\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"h-12 w-12 rounded-full bg-indigo-600 text-white flex items-center justify-center text-lg font-semibold shadow-md\">\n          {user?.photoURL ? (\n            // eslint-disable-next-line @next/next/no-img-element\n            <img\n              src={user.photoURL}\n              alt={displayName}\n              className=\"h-full w-full rounded-full object-cover\"\n              referrerPolicy=\"no-referrer\"\n            />\n          ) : (\n            initials\n          )}\n        </div>\n        <div className=\"min-w-0\">\n          <p className=\"text-sm font-medium text-indigo-900 truncate\">{displayName}</p>\n          {email && (\n            <p className=\"text-xs text-indigo-700/70 truncate\" title={email}>\n              {email}\n            </p>\n          )}\n          <div className=\"mt-1 inline-flex items-center gap-1 rounded-full bg-white/70 border border-indigo-100 px-2 py-0.5\">\n            <UserCircle2 className=\"h-3.5 w-3.5 text-indigo-500\" />\n            <span className=\"text-xs font-medium capitalize text-indigo-700\">{accountType}</span>\n          </div>\n        </div>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={handleLogout}\n        disabled={signingOut}\n        className=\"mt-4 w-full inline-flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 rounded-lg transition disabled:opacity-70 disabled:cursor-not-allowed\"\n      >\n        <LogOut className=\"h-4 w-4\" />\n        {signingOut ? 'Signing out…' : 'Log out'}\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1560, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/Sidebar.tsx"],"sourcesContent":["import { MessageCircle, Heart, BookOpen, BarChart3, AlertCircle, X } from 'lucide-react';\nimport { ViewType } from '../AppShell';\nimport { UserProfileMenu } from './UserProfileMenu';\n\ninterface SidebarProps {\n  currentView: ViewType;\n  setCurrentView: (view: ViewType) => void;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst menuItems = [\n  { id: 'chat' as ViewType, label: 'Chat Support', icon: MessageCircle, color: 'text-blue-600', preview: false },\n  { id: 'mood' as ViewType, label: 'Mood Tracker', icon: Heart, color: 'text-pink-600', preview: true },\n  { id: 'resources' as ViewType, label: 'Resources', icon: BookOpen, color: 'text-green-600', preview: true },\n  { id: 'dashboard' as ViewType, label: 'Dashboard', icon: BarChart3, color: 'text-purple-600', preview: true },\n  { id: 'crisis' as ViewType, label: 'Crisis Support', icon: AlertCircle, color: 'text-red-600', preview: false },\n];\n\nexport function Sidebar({ currentView, setCurrentView, isOpen, onClose }: SidebarProps) {\n  return (\n    <>\n      <aside className={`\n        fixed md:relative inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200\n        transform transition-transform duration-300 ease-in-out\n        ${isOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0'}\n      `}>\n        <div className=\"flex flex-col h-full\">\n          {/* Mobile close button */}\n           {/* Header */}\n      {/* <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Image\n            src=\"/Logo1.png\"\n            alt=\"Lumora logo\"\n            width={40}\n            height={40}\n            className=\"object-cover rounded-full\"\n            priority\n          />\n          <div>\n            <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n              Lumora\n            </h1>\n            <p className=\"text-sm text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n        </div>\n          <button\n            onClick={onClose}\n            className=\"md:hidden p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n            aria-label=\"Close menu\"\n          >\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n      </div> */}\n\n      <div className=\"p-6 border-b border-gray-200\">\n  <div className=\"flex items-center justify-between\">\n    <div className=\"flex items-center gap-3\">\n      {/* Gradient Circle instead of Image */}\n      <div className=\"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n          <div>\n            <div className=\"flex items-baseline gap-2\">\n              <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                Lumora\n              </h1>\n                <span className=\"text-sm text-gray-500\">(Beta)</span>\n            </div>\n            <p className=\"text-sm font-bold text-gray-500 hidden sm:block\">Light for the mind</p>\n          </div>\n    </div>\n    <button\n      onClick={onClose}\n      className=\"md:hidden p-1.5 hover:bg-gray-100 rounded-lg transition-colors\"\n      aria-label=\"Close menu\"\n    >\n      <X className=\"w-5 h-5 text-gray-500\" />\n    </button>\n  </div>\n</div>\n\n          {/* Navigation */}\n          <nav className=\"flex-1 p-4 space-y-2\">\n            {menuItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = currentView === item.id;\n              \n              return (\n                <button\n                  key={item.id}\n                  onClick={() => {\n                    setCurrentView(item.id);\n                    onClose();\n                  }}\n                  className={`\n                    w-full flex items-center justify-between gap-3 px-4 py-3 text-left rounded-xl transition-all duration-200\n                    ${isActive \n                      ? 'bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 text-blue-700' \n                      : 'text-gray-600 hover:bg-gray-50 hover:text-gray-800'\n                    }\n                  `}\n                >\n                  <span className=\"flex items-center gap-3\">\n                    <Icon className={`h-5 w-5 ${isActive ? 'text-blue-600' : item.color}`} />\n                    <span className=\"font-medium\">{item.label}</span>\n                  </span>\n                  {item.preview && (\n                    <span className=\"rounded-full border border-serene-200 bg-serene-50 px-2 py-0.5 text-xs font-semibold text-serene-600\">\n                      Preview\n                    </span>\n                  )}\n                </button>\n              );\n            })}\n          </nav>\n\n          <div className=\"p-4 border-t border-gray-200 space-y-4\">\n            <UserProfileMenu />\n\n            {/* Emergency notice */}\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n              <p className=\"text-sm text-red-800 font-medium mb-1\">Emergency?</p>\n              <p className=\"text-xs text-red-600\">\n                If you&apos;re in crisis, call 988 (Suicide & Crisis Lifeline) or go to your nearest emergency room.\n              </p>\n            </div>\n          </div>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;AASA,MAAM,YAAY;IAChB;QAAE,IAAI;QAAoB,OAAO;QAAgB,MAAM,4OAAa;QAAE,OAAO;QAAiB,SAAS;IAAM;IAC7G;QAAE,IAAI;QAAoB,OAAO;QAAgB,MAAM,gNAAK;QAAE,OAAO;QAAiB,SAAS;IAAK;IACpG;QAAE,IAAI;QAAyB,OAAO;QAAa,MAAM,6NAAQ;QAAE,OAAO;QAAkB,SAAS;IAAK;IAC1G;QAAE,IAAI;QAAyB,OAAO;QAAa,MAAM,kOAAS;QAAE,OAAO;QAAmB,SAAS;IAAK;IAC5G;QAAE,IAAI;QAAsB,OAAO;QAAkB,MAAM,sOAAW;QAAE,OAAO;QAAgB,SAAS;IAAM;CAC/G;AAEM,SAAS,QAAQ,KAA8D;QAA9D,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,EAAE,OAAO,EAAgB,GAA9D;IACtB,qBACE;kBACE,cAAA,6LAAC;YAAM,WAAW,AAAC,sKAGiD,OAAhE,SAAS,kBAAkB,sCAAqC;sBAElE,cAAA,6LAAC;gBAAI,WAAU;;kCA+BjB,6LAAC;wBAAI,WAAU;kCACnB,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDAEb,6LAAC;4CAAI,WAAU;;;;;;sDACX,6LAAC;;8DACC,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAG,WAAU;sEAA+F;;;;;;sEAG3G,6LAAC;4DAAK,WAAU;sEAAwB;;;;;;;;;;;;8DAE5C,6LAAC;oDAAE,WAAU;8DAAkD;;;;;;;;;;;;;;;;;;8CAGvE,6LAAC;oCACC,SAAS;oCACT,WAAU;oCACV,cAAW;8CAEX,cAAA,6LAAC,oMAAC;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;kCAMT,6LAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,OAAO,KAAK,IAAI;4BACtB,MAAM,WAAW,gBAAgB,KAAK,EAAE;4BAExC,qBACE,6LAAC;gCAEC,SAAS;oCACP,eAAe,KAAK,EAAE;oCACtB;gCACF;gCACA,WAAW,AAAC,wJAKT,OAHC,WACE,wFACA,sDACH;;kDAGH,6LAAC;wCAAK,WAAU;;0DACd,6LAAC;gDAAK,WAAW,AAAC,WAAkD,OAAxC,WAAW,kBAAkB,KAAK,KAAK;;;;;;0DACnE,6LAAC;gDAAK,WAAU;0DAAe,KAAK,KAAK;;;;;;;;;;;;oCAE1C,KAAK,OAAO,kBACX,6LAAC;wCAAK,WAAU;kDAAuG;;;;;;;+BAlBpH,KAAK,EAAE;;;;;wBAwBlB;;;;;;kCAGF,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,oLAAe;;;;;0CAGhB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;kDAAwC;;;;;;kDACrD,6LAAC;wCAAE,WAAU;kDAAuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlD;KAlHgB","debugId":null}},
    {"offset": {"line": 1827, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/MoodTracker.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Calendar, TrendingUp, Smile, Meh, Frown, RotateCcw } from 'lucide-react';\n\ninterface MoodEntry {\n  date: string;\n  mood: number;\n  note: string;\n  activities: string[];\n}\n\nconst moodEmojis = ['😢', '😕', '😐', '🙂', '😊'];\nconst moodLabels = ['Very Low', 'Low', 'Neutral', 'Good', 'Excellent'];\nconst moodColors = ['text-red-500', 'text-orange-500', 'text-yellow-500', 'text-blue-500', 'text-green-500'];\n\nconst activities = [\n  'Exercise', 'Meditation', 'Social Time', 'Work', 'Sleep', 'Nature', 'Reading', 'Music'\n];\n\nexport function MoodTracker() {\n  const [selectedMood, setSelectedMood] = useState<number | null>(null);\n  const [note, setNote] = useState('');\n  const [selectedActivities, setSelectedActivities] = useState<string[]>([]);\n  \n  // Sample mood data for demonstration\n  const [moodEntries] = useState<MoodEntry[]>([\n    { date: '2024-01-15', mood: 4, note: 'Great day with friends', activities: ['Social Time', 'Exercise'] },\n    { date: '2024-01-14', mood: 3, note: 'Productive work day', activities: ['Work', 'Reading'] },\n    { date: '2024-01-13', mood: 2, note: 'Feeling a bit overwhelmed', activities: ['Work', 'Music'] },\n    { date: '2024-01-12', mood: 4, note: 'Relaxing weekend', activities: ['Nature', 'Meditation'] },\n    { date: '2024-01-11', mood: 3, note: 'Regular day', activities: ['Work', 'Sleep'] },\n  ]);\n\n  const handleActivityToggle = (activity: string) => {\n    setSelectedActivities(prev => \n      prev.includes(activity) \n        ? prev.filter(a => a !== activity)\n        : [...prev, activity]\n    );\n  };\n\n  const handleSubmit = () => {\n    if (selectedMood !== null) {\n      // Here you would save the mood entry\n      console.log({ mood: selectedMood, note, activities: selectedActivities });\n      setSelectedMood(null);\n      setNote('');\n      setSelectedActivities([]);\n    }\n  };\n\n  const averageMood = moodEntries.reduce((sum, entry) => sum + entry.mood, 0) / moodEntries.length;\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-6\">\n      {/* Today's Mood Entry */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-pink-500 to-red-500 rounded-full flex items-center justify-center\">\n            <Smile className=\"h-5 w-5 text-white\" />\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-800\">How are you feeling today?</h2>\n        </div>\n\n        {/* Mood Selection */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">Select your mood:</p>\n          <div className=\"flex justify-between max-w-md\">\n            {moodEmojis.map((emoji, index) => (\n              <button\n                key={index}\n                onClick={() => setSelectedMood(index)}\n                className={`\n                  w-12 h-12 rounded-full flex items-center justify-center text-2xl transition-all duration-200\n                  ${selectedMood === index \n                    ? 'bg-blue-100 ring-2 ring-blue-500 scale-110' \n                    : 'hover:bg-gray-100 hover:scale-105'\n                  }\n                `}\n              >\n                {emoji}\n              </button>\n            ))}\n          </div>\n          {selectedMood !== null && (\n            <p className={`text-sm font-medium mt-2 ${moodColors[selectedMood]}`}>\n              {moodLabels[selectedMood]}\n            </p>\n          )}\n        </div>\n\n        {/* Activities */}\n        <div className=\"mb-6\">\n          <p className=\"text-sm font-medium text-gray-700 mb-3\">What activities did you do today?</p>\n          <div className=\"flex flex-wrap gap-2\">\n            {activities.map((activity) => (\n              <button\n                key={activity}\n                onClick={() => handleActivityToggle(activity)}\n                className={`\n                  px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200\n                  ${selectedActivities.includes(activity)\n                    ? 'bg-blue-500 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }\n                `}\n              >\n                {activity}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Note */}\n        <div className=\"mb-6\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Add a note (optional):\n          </label>\n          <textarea\n            value={note}\n            onChange={(e) => setNote(e.target.value)}\n            placeholder=\"What made your day special? Any thoughts or feelings you'd like to remember...\"\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n            rows={3}\n          />\n        </div>\n\n        {/* Submit Button */}\n        <button\n          onClick={handleSubmit}\n          disabled={selectedMood === null}\n          className=\"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Save Today's Mood\n        </button>\n      </div>\n\n      {/* Mood History */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center\">\n              <TrendingUp className=\"h-5 w-5 text-white\" />\n            </div>\n            <h2 className=\"text-xl font-bold text-gray-800\">Your Mood Journey</h2>\n          </div>\n          <div className=\"text-right\">\n            <p className=\"text-sm text-gray-600\">7-day average</p>\n            <p className={`text-2xl font-bold ${moodColors[Math.round(averageMood)]}`}>\n              {moodEmojis[Math.round(averageMood)]} {moodLabels[Math.round(averageMood)]}\n            </p>\n          </div>\n        </div>\n\n        {/* Mood Chart */}\n        <div className=\"space-y-3\">\n          {moodEntries.map((entry, index) => (\n            <div key={index} className=\"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors\">\n              <div className=\"w-16 text-sm text-gray-600\">\n                {new Date(entry.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n              </div>\n              <div className=\"text-2xl\">{moodEmojis[entry.mood]}</div>\n              <div className=\"flex-1\">\n                <p className=\"font-medium text-gray-800\">{entry.note}</p>\n                <div className=\"flex gap-1 mt-1\">\n                  {entry.activities.map((activity) => (\n                    <span key={activity} className=\"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full\">\n                      {activity}\n                    </span>\n                  ))}\n                </div>\n              </div>\n              <div className={`text-sm font-medium ${moodColors[entry.mood]}`}>\n                {moodLabels[entry.mood]}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2269, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/Resources.tsx"],"sourcesContent":["\"use client\";\n\nimport useSWR from 'swr';\nimport { Phone, Mail, MapPin, Clock, ExternalLink, HeartHandshake, ArrowRight } from 'lucide-react';\n\ntype Contact = {\n  name: string;\n  phone?: string;\n  email?: string;\n  hours?: string;\n  locationUrl?: string;\n};\n\ninterface ResourcesProps {\n  onNavigateToCrisis?: () => void;\n}\n\nconst fetcher = (url: string) => fetch(url).then(res => res.json());\n\nexport function Resources({ onNavigateToCrisis }: ResourcesProps) {\n  const { data, isLoading, error } = useSWR<{ contacts: Contact[] }>(\n    '/api/resources',\n    fetcher,\n    { refreshInterval: 5 * 60 * 1000 }\n  );\n\n  const contacts = data?.contacts ?? [];\n\n  return (\n    <div className=\"p-6 max-w-5xl mx-auto space-y-6\">\n      <section className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-full flex items-center justify-center\">\n            <HeartHandshake className=\"h-5 w-5 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-800\">Support & Resources</h1>\n            <p className=\"text-sm text-gray-600\">\n              Connect with caring professionals and on-campus services ready to help.\n            </p>\n          </div>\n        </div>\n        <p className=\"text-sm text-gray-600\">\n          These contacts are provided by your counseling center. Reach out to schedule an appointment,\n          ask a question, or learn about available support options.\n        </p>\n      </section>\n\n      {isLoading && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {Array.from({ length: 4 }).map((_, index) => (\n            <div\n              key={index}\n              className=\"h-40 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse rounded-2xl\"\n            />\n          ))}\n        </div>\n      )}\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 rounded-2xl p-4\">\n          We could not load the resource list right now. Please try again in a few minutes.\n        </div>\n      )}\n\n      {!isLoading && !error && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {contacts.map((contact, index) => (\n            <article\n              key={`${contact.name}-${index}`}\n              className=\"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 p-6 space-y-4\"\n            >\n              <header>\n                <h2 className=\"text-lg font-semibold text-gray-800\">{contact.name}</h2>\n                {contact.hours && (\n                  <div className=\"mt-1 inline-flex items-center gap-2 text-sm text-gray-500\">\n                    <Clock className=\"h-4 w-4\" />\n                    <span>{contact.hours}</span>\n                  </div>\n                )}\n              </header>\n\n              <div className=\"flex flex-wrap gap-3 text-sm text-gray-600\">\n                {contact.phone && (\n                  <a\n                    href={`tel:${contact.phone}`}\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-blue-50 text-blue-700 font-medium hover:bg-blue-100 transition-colors\"\n                  >\n                    <Phone className=\"h-4 w-4\" />\n                    Call {contact.phone}\n                  </a>\n                )}\n                {contact.email && (\n                  <a\n                    href={`mailto:${contact.email}`}\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 text-green-700 font-medium hover:bg-green-100 transition-colors\"\n                  >\n                    <Mail className=\"h-4 w-4\" />\n                    Email Support\n                  </a>\n                )}\n                {contact.locationUrl && (\n                  <a\n                    href={contact.locationUrl}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-purple-50 text-purple-700 font-medium hover:bg-purple-100 transition-colors\"\n                  >\n                    <MapPin className=\"h-4 w-4\" />\n                    Visit Website\n                    <ExternalLink className=\"h-3 w-3\" />\n                  </a>\n                )}\n              </div>\n            </article>\n          ))}\n\n          {contacts.length === 0 && (\n            <div className=\"col-span-full bg-white border border-dashed border-gray-300 rounded-2xl p-6 text-center text-gray-500\">\n              No counseling contacts are available yet. Check back soon or reach out to your\n              counseling center directly.\n            </div>\n          )}\n        </div>\n      )}\n\n      <section className=\"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6\">\n        <h2 className=\"text-lg font-semibold text-gray-800 mb-2\">Need immediate help?</h2>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          If you or someone you know is in crisis, visit the Crisis Support tab to find emergency\n          hotlines and safety planning tools.\n        </p>\n        <button\n          type=\"button\"\n          onClick={onNavigateToCrisis}\n          className=\"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50\"\n          disabled={!onNavigateToCrisis}\n        >\n          Explore Crisis Support\n          <ArrowRight className=\"h-4 w-4\" />\n        </button>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAHA;;;AAiBA,MAAM,UAAU,CAAC,MAAgB,MAAM,KAAK,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AAEzD,SAAS,UAAU,KAAsC;QAAtC,EAAE,kBAAkB,EAAkB,GAAtC;;IACxB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,IAAA,4KAAM,EACvC,kBACA,SACA;QAAE,iBAAiB,IAAI,KAAK;IAAK;QAGlB;IAAjB,MAAM,WAAW,CAAA,iBAAA,iBAAA,2BAAA,KAAM,QAAQ,cAAd,4BAAA,iBAAkB,EAAE;IAErC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,+OAAc;oCAAC,WAAU;;;;;;;;;;;0CAE5B,6LAAC;;kDACC,6LAAC;wCAAG,WAAU;kDAAmC;;;;;;kDACjD,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;;;;;;;kCAKzC,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;YAMtC,2BACC,6LAAC;gBAAI,WAAU;0BACZ,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,sBACjC,6LAAC;wBAEC,WAAU;uBADL;;;;;;;;;;YAOZ,uBACC,6LAAC;gBAAI,WAAU;0BAA+D;;;;;;YAK/E,CAAC,aAAa,CAAC,uBACd,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,SAAS,sBACtB,6LAAC;4BAEC,WAAU;;8CAEV,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAuC,QAAQ,IAAI;;;;;;wCAChE,QAAQ,KAAK,kBACZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,gNAAK;oDAAC,WAAU;;;;;;8DACjB,6LAAC;8DAAM,QAAQ,KAAK;;;;;;;;;;;;;;;;;;8CAK1B,6LAAC;oCAAI,WAAU;;wCACZ,QAAQ,KAAK,kBACZ,6LAAC;4CACC,MAAM,AAAC,OAAoB,OAAd,QAAQ,KAAK;4CAC1B,WAAU;;8DAEV,6LAAC,gNAAK;oDAAC,WAAU;;;;;;gDAAY;gDACvB,QAAQ,KAAK;;;;;;;wCAGtB,QAAQ,KAAK,kBACZ,6LAAC;4CACC,MAAM,AAAC,UAAuB,OAAd,QAAQ,KAAK;4CAC7B,WAAU;;8DAEV,6LAAC,6MAAI;oDAAC,WAAU;;;;;;gDAAY;;;;;;;wCAI/B,QAAQ,WAAW,kBAClB,6LAAC;4CACC,MAAM,QAAQ,WAAW;4CACzB,QAAO;4CACP,KAAI;4CACJ,WAAU;;8DAEV,6LAAC,uNAAM;oDAAC,WAAU;;;;;;gDAAY;8DAE9B,6LAAC,yOAAY;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;2BAzCzB,AAAC,GAAkB,OAAhB,QAAQ,IAAI,EAAC,KAAS,OAAN;;;;;oBAgD3B,SAAS,MAAM,KAAK,mBACnB,6LAAC;wBAAI,WAAU;kCAAwG;;;;;;;;;;;;0BAQ7H,6LAAC;gBAAQ,WAAU;;kCACjB,6LAAC;wBAAG,WAAU;kCAA2C;;;;;;kCACzD,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;kCAI1C,6LAAC;wBACC,MAAK;wBACL,SAAS;wBACT,WAAU;wBACV,UAAU,CAAC;;4BACZ;0CAEC,6LAAC,mOAAU;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKhC;GA7HgB;;QACqB,4KAAM;;;KAD3B","debugId":null}},
    {"offset": {"line": 2592, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/Dashboard.tsx"],"sourcesContent":["import React from 'react';\nimport { TrendingUp, Calendar, Target, Award, BarChart3, Heart } from 'lucide-react';\n\nexport function Dashboard() {\n  // Sample data for demonstration\n  const weeklyMoods = [\n    { day: 'Mon', mood: 3, activities: 2 },\n    { day: 'Tue', mood: 4, activities: 3 },\n    { day: 'Wed', mood: 2, activities: 1 },\n    { day: 'Thu', mood: 4, activities: 4 },\n    { day: 'Fri', mood: 5, activities: 3 },\n    { day: 'Sat', mood: 4, activities: 5 },\n    { day: 'Sun', mood: 3, activities: 2 }\n  ];\n\n  const stats = {\n    averageMood: 3.6,\n    totalSessions: 28,\n    weekStreak: 7,\n    completedActivities: 142\n  };\n\n  const achievements = [\n    { title: '7-Day Streak', description: 'Tracked mood for 7 consecutive days', earned: true },\n    { title: 'Mindful Explorer', description: 'Completed 5 mindfulness exercises', earned: true },\n    { title: 'Mood Master', description: 'Maintained average mood above 3.5 for a week', earned: true },\n    { title: 'Resource Reader', description: 'Read 10 mental health articles', earned: false },\n  ];\n\n  const getMoodColor = (mood: number) => {\n    if (mood >= 4.5) return 'bg-green-500';\n    if (mood >= 3.5) return 'bg-blue-500';\n    if (mood >= 2.5) return 'bg-yellow-500';\n    if (mood >= 1.5) return 'bg-orange-500';\n    return 'bg-red-500';\n  };\n\n  const maxActivities = Math.max(...weeklyMoods.map(d => d.activities));\n\n  return (\n    <div className=\"p-6 max-w-6xl mx-auto space-y-6\">\n      {/* Header */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center\">\n            <BarChart3 className=\"h-5 w-5 text-white\" />\n          </div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Your Mental Health Journey</h1>\n        </div>\n        <p className=\"text-gray-600\">\n          Track your progress and celebrate your achievements in mental wellness.\n        </p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center\">\n              <TrendingUp className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Average Mood</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.averageMood}/5</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center\">\n              <Calendar className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Current Streak</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.weekStreak} days</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center\">\n              <Target className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Total Sessions</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.totalSessions}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center\">\n              <Heart className=\"h-5 w-5 text-white\" />\n            </div>\n            <div>\n              <p className=\"text-sm text-gray-600\">Activities Done</p>\n              <p className=\"text-2xl font-bold text-gray-800\">{stats.completedActivities}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Weekly Mood Chart */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">This Week's Mood</h2>\n        <div className=\"space-y-4\">\n          {weeklyMoods.map((day, index) => (\n            <div key={index} className=\"flex items-center gap-4\">\n              <div className=\"w-12 text-sm font-medium text-gray-600\">{day.day}</div>\n              <div className=\"flex-1 flex items-center gap-3\">\n                <div className=\"flex-1 bg-gray-200 rounded-full h-3 relative overflow-hidden\">\n                  <div \n                    className={`h-full rounded-full ${getMoodColor(day.mood)} transition-all duration-500`}\n                    style={{ width: `${(day.mood / 5) * 100}%` }}\n                  />\n                </div>\n                <div className=\"text-sm font-medium text-gray-700 w-8\">{day.mood}/5</div>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex gap-1\">\n                  {Array.from({ length: maxActivities }).map((_, i) => (\n                    <div\n                      key={i}\n                      className={`w-2 h-2 rounded-full ${\n                        i < day.activities ? 'bg-purple-500' : 'bg-gray-300'\n                      }`}\n                    />\n                  ))}\n                </div>\n                <span className=\"text-xs text-gray-500\">{day.activities} activities</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Achievements */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <div className=\"flex items-center gap-3 mb-6\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center\">\n            <Award className=\"h-5 w-5 text-white\" />\n          </div>\n          <h2 className=\"text-xl font-bold text-gray-800\">Achievements</h2>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {achievements.map((achievement, index) => (\n            <div\n              key={index}\n              className={`\n                p-4 rounded-xl border-2 transition-all duration-200\n                ${achievement.earned \n                  ? 'bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300' \n                  : 'bg-gray-50 border-gray-200'\n                }\n              `}\n            >\n              <div className=\"flex items-start gap-3\">\n                <div className={`\n                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold\n                  ${achievement.earned \n                    ? 'bg-gradient-to-br from-yellow-400 to-orange-500 text-white' \n                    : 'bg-gray-300 text-gray-600'\n                  }\n                `}>\n                  🏆\n                </div>\n                <div>\n                  <h3 className={`font-semibold ${achievement.earned ? 'text-orange-800' : 'text-gray-600'}`}>\n                    {achievement.title}\n                  </h3>\n                  <p className={`text-sm ${achievement.earned ? 'text-orange-600' : 'text-gray-500'}`}>\n                    {achievement.description}\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Motivational Quote */}\n      <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200 p-6 text-center\">\n        <p className=\"text-lg italic text-gray-700 mb-2\">\n          \"The greatest revolution of our generation is the discovery that human beings, by changing the inner attitudes of their minds, can change the outer aspects of their lives.\"\n        </p>\n        <p className=\"text-sm text-gray-600\">— William James</p>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3213, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/CrisisSupport.tsx"],"sourcesContent":["import React from 'react';\nimport { AlertCircle, Phone, MessageCircle, Globe, Clock, Shield } from 'lucide-react';\n\ninterface CrisisResource {\n  name: string;\n  description: string;\n  phone: string;\n  text?: string;\n  website?: string;\n  hours: string;\n  icon: React.ComponentType<any>;\n}\n\nconst crisisResources: CrisisResource[] = [\n  {\n    name: '988 Suicide & Crisis Lifeline',\n    description: 'Free, confidential support for people in distress and crisis prevention.',\n    phone: '988',\n    text: 'Text HOME to 741741',\n    website: 'suicidepreventionlifeline.org',\n    hours: '24/7',\n    icon: Phone\n  },\n  {\n    name: 'Crisis Text Line',\n    description: 'Free, 24/7 support via text message for anyone in crisis.',\n    phone: '1-741-741',\n    text: 'Text HELLO to 741741',\n    website: 'crisistextline.org',\n    hours: '24/7',\n    icon: MessageCircle\n  },\n  {\n    name: 'SAMHSA National Helpline',\n    description: 'Treatment referral and information service for mental health and substance use.',\n    phone: '1-800-662-4357',\n    website: 'samhsa.gov',\n    hours: '24/7',\n    icon: Globe\n  },\n  {\n    name: 'Trans Lifeline',\n    description: 'Crisis support specifically for transgender individuals.',\n    phone: '877-565-8860',\n    website: 'translifeline.org',\n    hours: '24/7',\n    icon: Shield\n  }\n];\n\nconst emergencySteps = [\n  {\n    title: 'Immediate Danger',\n    description: 'If you are in immediate physical danger, call 911 or go to your nearest emergency room.',\n    color: 'bg-red-50 border-red-300 text-red-800'\n  },\n  {\n    title: 'Suicidal Thoughts',\n    description: 'If you are having thoughts of suicide, call 988 or text HOME to 741741 immediately.',\n    color: 'bg-orange-50 border-orange-300 text-orange-800'\n  },\n  {\n    title: 'Need to Talk',\n    description: 'If you need someone to talk to, reach out to any of the crisis resources below.',\n    color: 'bg-blue-50 border-blue-300 text-blue-800'\n  }\n];\n\nconst safetyTips = [\n  'Remove any means of self-harm from your immediate environment',\n  'Stay with trusted friends or family members',\n  'Avoid alcohol and drugs, which can worsen symptoms',\n  'Create a safety plan with specific steps to take during a crisis',\n  'Keep crisis hotline numbers easily accessible',\n  'Practice grounding techniques like deep breathing or mindfulness'\n];\n\ninterface CrisisSupportProps {\n  onReturnToChat?: () => void;\n}\n\nexport function CrisisSupport({ onReturnToChat }: CrisisSupportProps) {\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto space-y-6\">\n      {/* Emergency Alert */}\n      <div className=\"bg-red-50 border-2 border-red-300 rounded-2xl p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center\">\n            <AlertCircle className=\"h-6 w-6 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold text-red-800\">Crisis Support</h1>\n            <p className=\"text-red-700\">Immediate help when you need it most</p>\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg p-4 border border-red-200\">\n          <p className=\"text-lg font-semibold text-red-800 mb-2\">\n            🚨 If you're in immediate danger, call 988\n          </p>\n          <p className=\"text-red-700\">\n            This page provides crisis resources, but if you're experiencing a medical emergency or are in immediate physical danger, please call emergency services right away.\n          </p>\n        </div>\n      </div>\n\n      {/* Emergency Steps */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">What to Do Right Now</h2>\n        <div className=\"space-y-4\">\n          {emergencySteps.map((step, index) => (\n            <div key={index} className={`p-4 rounded-lg border-2 ${step.color}`}>\n              <h3 className=\"font-bold text-lg mb-2\">{step.title}</h3>\n              <p>{step.description}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Crisis Hotlines */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Crisis Hotlines & Resources</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {crisisResources.map((resource, index) => {\n            const Icon = resource.icon;\n            return (\n              <div key={index} className=\"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0\">\n                    <Icon className=\"h-6 w-6 text-white\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-bold text-gray-800 mb-2\">{resource.name}</h3>\n                    <p className=\"text-gray-600 text-sm mb-4\">{resource.description}</p>\n                    \n                    <div className=\"space-y-2\">\n                      <div className=\"flex items-center gap-2\">\n                        <Phone className=\"h-4 w-4 text-green-600\" />\n                        <a href={`tel:${resource.phone}`} className=\"font-bold text-green-600 hover:text-green-800 text-lg\">\n                          {resource.phone}\n                        </a>\n                      </div>\n                      \n                      {resource.text && (\n                        <div className=\"flex items-center gap-2\">\n                          <MessageCircle className=\"h-4 w-4 text-blue-600\" />\n                          <span className=\"text-blue-600 text-sm\">{resource.text}</span>\n                        </div>\n                      )}\n                      \n                      {resource.website && (\n                        <div className=\"flex items-center gap-2\">\n                          <Globe className=\"h-4 w-4 text-purple-600\" />\n                          <a href={`https://${resource.website}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-purple-600 hover:text-purple-800 text-sm\">\n                            {resource.website}\n                          </a>\n                        </div>\n                      )}\n                      \n                      <div className=\"flex items-center gap-2\">\n                        <Clock className=\"h-4 w-4 text-gray-500\" />\n                        <span className=\"text-gray-600 text-sm\">{resource.hours}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Safety Tips */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-6\">Safety & Coping Strategies</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {safetyTips.map((tip, index) => (\n            <div key={index} className=\"flex items-start gap-3 p-4 bg-blue-50 rounded-lg\">\n              <div className=\"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\n                <span className=\"text-white text-sm font-bold\">{index + 1}</span>\n              </div>\n              <p className=\"text-gray-700\">{tip}</p>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* International Resources */}\n      <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl border border-purple-200 p-6\">\n        <h2 className=\"text-xl font-bold text-gray-800 mb-4\">International Crisis Support</h2>\n        <p className=\"text-gray-700 mb-4\">\n          If you're located outside the United States, please visit these resources for crisis support in your country:\n        </p>\n        <div className=\"flex flex-wrap gap-4\">\n          <a href=\"https://findahelpline.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium\">\n            Find a Helpline (Global)\n          </a>\n          <a href=\"https://www.iasp.info/resources/Crisis_Centres/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium\">\n            International Association for Suicide Prevention\n          </a>\n        </div>\n      </div>\n\n      {/* Return to Chat */}\n      <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 text-center\">\n        <h3 className=\"text-lg font-bold text-gray-800 mb-2\">Continue Your Journey</h3>\n        <p className=\"text-gray-600 mb-4\">\n          After getting the support you need, Lumora is here to help you continue your mental health journey.\n        </p>\n        <button\n          type=\"button\"\n          onClick={onReturnToChat}\n          className=\"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200\"\n        >\n          Return to Chat\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3776, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/LandingPage.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\nimport Image from \"next/image\"\n\ndeclare global {\n  interface Window {\n    AOS?: {\n      init: (options?: { duration?: number; once?: boolean }) => void\n    }\n    feather?: {\n      replace: () => void\n    }\n    THREE?: unknown\n    VANTA?: {\n      WAVES: (options: Record<string, unknown>) => { destroy?: () => void }\n    }\n  }\n}\n\nconst FORM_ENDPOINT = \"https://formspree.io/f/mzzanbqy\"\n\nconst loadScript = (src: string) =>\n  new Promise<void>((resolve, reject) => {\n    if (document.querySelector(`script[src=\"${src}\"]`)) {\n      resolve()\n      return\n    }\n\n    const script = document.createElement(\"script\")\n    script.src = src\n    script.async = true\n    script.onload = () => resolve()\n    script.onerror = () => reject(new Error(`Failed to load script: ${src}`))\n    document.body.appendChild(script)\n  })\n\nconst loadStylesheet = (href: string) =>\n  new Promise<void>((resolve, reject) => {\n    if (document.querySelector(`link[href=\"${href}\"]`)) {\n      resolve()\n      return\n    }\n\n    const link = document.createElement(\"link\")\n    link.rel = \"stylesheet\"\n    link.href = href\n    link.onload = () => resolve()\n    link.onerror = () => reject(new Error(`Failed to load stylesheet: ${href}`))\n    document.head.appendChild(link)\n  })\n\nfunction attachEarlyFormListener() {\n  const form = document.getElementById(\"early-form\") as HTMLFormElement | null\n  if (!form) return () => {}\n\n  const statusEl = document.getElementById(\"form-status\")\n  const submitBtn = document.getElementById(\"submit-btn\") as HTMLButtonElement | null\n\n  const handleSubmit = async (event: SubmitEvent) => {\n    event.preventDefault()\n\n    if (!submitBtn || !statusEl) return\n\n    statusEl.textContent = \"\"\n    submitBtn.disabled = true\n    submitBtn.style.opacity = \"0.8\"\n\n    const fd = new FormData(form)\n    if (fd.get(\"_gotcha\")) {\n      submitBtn.disabled = false\n      submitBtn.style.opacity = \"\"\n      return\n    }\n\n    try {\n      const response = await fetch(FORM_ENDPOINT, {\n        method: \"POST\",\n        body: fd,\n        headers: { Accept: \"application/json\" },\n      })\n\n      if (response.ok) {\n        form.reset()\n        statusEl.textContent = \"Thanks! Check your inbox soon.\"\n      } else {\n        statusEl.textContent = \"Something went wrong. Please try again.\"\n      }\n    } catch (error) {\n      console.error(\"Failed to submit early access form\", error)\n      statusEl.textContent = \"Network error—please try again.\"\n    } finally {\n      submitBtn.disabled = false\n      submitBtn.style.opacity = \"\"\n    }\n  }\n\n  form.addEventListener(\"submit\", handleSubmit)\n\n  return () => {\n    form.removeEventListener(\"submit\", handleSubmit)\n  }\n}\n\ninterface LandingPageProps {\n  onEnterApp: () => void\n}\n\nexport function LandingPage({ onEnterApp }: LandingPageProps) {\n  const vantaContainerRef = useRef<HTMLDivElement | null>(null)\n  const vantaInstanceRef = useRef<{ destroy?: () => void } | null>(null)\n\n  useEffect(() => {\n    let isMounted = true\n    const prefersReduced = window.matchMedia && window.matchMedia(\"(prefers-reduced-motion: reduce)\").matches\n    let detachFormListener: (() => void) | undefined\n\n    const initialise = async () => {\n      try {\n        await loadStylesheet(\"https://unpkg.com/aos@2.3.1/dist/aos.css\")\n        await loadScript(\"https://unpkg.com/aos@2.3.1/dist/aos.js\")\n        await loadScript(\"https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js\")\n\n        if (!prefersReduced && !window.THREE) {\n          await loadScript(\"https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js\")\n        }\n\n        if (!prefersReduced) {\n          await loadScript(\"https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js\")\n        }\n\n        if (!isMounted) {\n          return\n        }\n\n        if (!prefersReduced && window.VANTA && window.THREE && vantaContainerRef.current && !vantaInstanceRef.current) {\n          vantaInstanceRef.current = window.VANTA.WAVES({\n            el: vantaContainerRef.current,\n            color: 0xb8a9f5, // Soft lavender (lighter, less saturated purple)\n            backgroundColor: 0xfdfbff, // Very light off-white with subtle warmth\n            waveHeight: 15, // Slightly taller waves for more fluid motion\n            shininess: 25, // Reduced shine for softer appearance\n            waveSpeed: 0.5, // Slightly faster for more noticeable movement\n            zoom: 0.9, // Slightly more zoomed for smoother waves\n          })\n        }\n\n        if (!prefersReduced && window.AOS) {\n          window.AOS.init({ duration: 700, once: true })\n        }\n\n        window.feather?.replace()\n        detachFormListener = attachEarlyFormListener()\n      } catch (error) {\n        console.error(\"Failed to initialise landing page enhancements\", error)\n      }\n    }\n\n    initialise()\n\n    return () => {\n      isMounted = false\n\n      if (vantaInstanceRef.current) {\n        vantaInstanceRef.current.destroy?.()\n        vantaInstanceRef.current = null\n      }\n\n      detachFormListener?.()\n    }\n  }, [])\n\n  return (\n    <div className=\"min-h-screen font-sans antialiased bg-gradient-to-br from-calm-50 via-white to-serene-50\">\n      <div ref={vantaContainerRef} className=\"relative overflow-hidden\">\n        <div className=\"pointer-events-none absolute inset-0\">\n          {/* <div className=\"absolute inset-x-1/2 top-[-10%] h-[28rem] w-[28rem] -translate-x-1/2 rounded-full bg-gradient-to-br from-serene-400/30 via-accent/30 to-primary/20 opacity-60\" /> */}\n          <div className=\"absolute -bottom-32 -left-32 h-96 w-96 rounded-full bg-gradient-to-tr from-serene-400/20 via-white/10 to-transparent blur-3xl\" />\n          <div className=\"absolute -bottom-48 -right-24 h-[30rem] w-[30rem] rounded-full bg-accent/30 blur-[160px]\" />\n        </div>\n\n        <nav className=\"relative z-10 px-6 py-7 flex items-center\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n            <div>\n              <div className=\"flex items-baseline gap-2\">\n                <h1 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                  Lumora\n                </h1>\n                <span className=\"text-sm text-gray-500\">(Beta)</span>\n              </div>\n              <p className=\"text-sm font-bold text-gray-500 hidden sm:block\">Light for the mind</p>\n            </div>\n          </div>\n          {/* <a\n            href=\"#waitlist\"\n            className=\"hidden sm:inline-flex items-center gap-2.5 rounded-full border border-calm-200/60 bg-white/80 backdrop-blur-sm px-6 py-2.5 text-sm font-medium text-foreground shadow-sm transition-all hover:bg-white hover:shadow-md hover:scale-105 active:scale-95\"\n          >\n            <span className=\"h-2 w-2 rounded-full bg-serene-400 animate-pulse\" />\n            Join the signal\n          </a> */}\n        </nav>\n\n        <div className=\"relative z-10 max-w-7xl mx-auto px-6 pt-20 pb-32 md:pt-28 md:pb-40 text-center\">\n          <div className=\"mx-auto flex max-w-4xl flex-col items-center gap-7\">\n            {/* <span\n              className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-5 py-2 text-[0.7rem] font-bold tracking-[0.35em] text-muted-foreground shadow-sm\"\n              data-aos=\"fade-up\"\n            >\n              A QUIET SIGNAL\n            </span> */}\n            <h1\n              className=\"text-5xl font-bold leading-tight text-foreground md:text-7xl text-balance\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"60\"\n            >\n              Light for the mind.\n            </h1>\n            <p\n              className=\"max-w-2xl text-lg text-muted-foreground md:text-xl leading-relaxed text-pretty\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"110\"\n            >\n              A calm space designed to support your mental wellbeing anytime, anywhere.\n            </p>\n            <div\n              className=\"flex flex-col items-center gap-4 sm:flex-row sm:gap-5 mt-2\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"160\"\n            >\n              <a\n                href=\"#features\"\n                className=\"w-full sm:w-auto rounded-full bg-gradient-to-r from-serene-400 to-accent px-9 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n              >\n                Follow the Signal\n              </a>\n              <button\n                type=\"button\"\n                onClick={onEnterApp}\n                className=\"w-full sm:w-auto rounded-full border-2 border-calm-200/60 bg-white/80 backdrop-blur-sm px-9 py-4 text-[15px] font-semibold text-foreground transition-all hover:bg-white hover:shadow-md hover:scale-105 active:scale-95\"\n              >\n                Enter the App\n              </button>\n            </div>\n            <div\n              className=\"flex flex-col items-center gap-5 pt-6 text-sm text-muted-foreground md:flex-row md:gap-8\"\n              data-aos=\"fade-up\"\n              data-aos-delay=\"200\"\n            >\n              <div className=\"flex items-center gap-2.5\">\n                <span className=\"h-2 w-2 rounded-full bg-accent\" />\n                From stress to support. // 2025\n              </div>\n              <div className=\"flex items-center gap-2.5\">\n                <i data-feather=\"shield\" className=\"h-4 w-4 opacity-70\" />\n                Private by default, always.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"bg-gradient-to-b from-serene-50/30 via-accent/5 to-calm-50/40\">\n        <section id=\"features\" className=\"relative z-10 -mt-16 bg-transparent py-28\">\n          <div className=\"max-w-7xl mx-auto px-6\">\n            <div className=\"mx-auto max-w-3xl text-center mb-16\" data-aos=\"fade-up\">\n              <h2 className=\"text-3xl font-bold text-foreground md:text-4xl text-balance\">Features that care for you\n</h2>\n              <p className=\"mt-4 text-lg text-muted-foreground leading-relaxed text-pretty\">\n                An AI companion offers personalized support for your mental wellbeing\n              </p>\n            </div>\n\n            <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n              >\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                  <i data-feather=\"message-circle\" className=\"h-6 w-6 text-serene-600\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Always Available</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Get support whenever you need it, day or night, without waiting for appointments.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"80\"\n              >\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-calm-500/20 shadow-sm\">\n                  <i data-feather=\"heart\" className=\"h-6 w-6 text-serene-600\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Personalized Support</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Our AI learns about you and adapts to provide the most relevant support for your needs.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"shield\" className=\"h-6 w-6 text-success\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Judgment-Free Zone</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                            Express yourself freely in a safe, confidential space without fear of judgment.\n                </p>\n              </div>\n\n               <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                  <i data-feather=\"activity\" className=\"h-6 w-6 text-serene\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Mood Tracking</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                    Track your emotional patterns and receive insights to better understand your wellbeing.\n                </p>\n              </div>\n\n              <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"book\" className=\"h-6 w-6 text-serene\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">Journaling</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                  Reflect on your feelings with daily journaling prompts that help you process emotions and track growth.                </p>\n              </div>\n\n               <div\n                className=\"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30\"\n                data-aos=\"fade-up\"\n                data-aos-delay=\"160\">\n                <div className=\"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm\">\n                  <i data-feather=\"command\" className=\"h-6 w-6 text-success\" />\n                </div>\n                <h3 className=\"text-xl font-bold text-foreground mb-3\">CSUF-CAPS Connection</h3>\n                <p className=\"text-[15px] leading-relaxed text-muted-foreground\">\n                  Book appointments or reach out directly to CSUF Counseling and Psychological Services from within the app.\n                </p>\n              </div>\n            </div>\n          </div>\n        </section>\n\n        {/* <section className=\"relative z-10 py-24\">\n          <div className=\"max-w-7xl mx-auto px-6\">\n            <div className=\"grid gap-16 lg:grid-cols-[1fr,1.2fr] lg:items-center\">\n              <div data-aos=\"fade-up\" className=\"space-y-7\">\n                <span className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-4 py-2 text-xs font-bold uppercase tracking-[0.3em] text-muted-foreground shadow-sm\">\n                  Sneak peek\n                </span>\n                <h3 className=\"text-4xl font-bold leading-tight text-foreground text-balance\">\n                  A companion that feels more human than hectic.\n                </h3>\n                <p className=\"text-lg text-muted-foreground leading-relaxed\">\n                  The Lumora signal is stitched together from conversations with founders, teachers, therapists, and\n                  friends. We&apos;re translating that care into an experience that stays by your side without getting\n                  in the way.\n                </p>\n                <ul className=\"space-y-5 text-muted-foreground\">\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-accent/20\">\n                      <i data-feather=\"sunrise\" className=\"h-4 w-4 text-accent\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Morning grounding to help you set intention and reclaim calm before the day accelerates.\n                    </span>\n                  </li>\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-primary/20\">\n                      <i data-feather=\"layers\" className=\"h-4 w-4 text-primary\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Micro rituals that adapt to your context and keep track of the threads you care about.\n                    </span>\n                  </li>\n                  <li className=\"flex items-start gap-4\">\n                    <div className=\"mt-1 flex h-8 w-8 items-center justify-center rounded-xl bg-success/20\">\n                      <i data-feather=\"lock\" className=\"h-4 w-4 text-success\" />\n                    </div>\n                    <span className=\"text-[15px] leading-relaxed\">\n                      Private-by-design infrastructure so your conversations stay yours, now and always.\n                    </span>\n                  </li>\n                </ul>\n              </div>\n\n              <div className=\"relative\" data-aos=\"fade-up\" data-aos-delay=\"120\">\n                <div className=\"absolute -inset-8 rounded-[2rem] bg-gradient-to-br from-serene-400/30 via-transparent to-accent/20 blur-3xl\" />\n                <div className=\"relative rounded-[2rem] border border-calm-200/60 bg-white/90 backdrop-blur-md p-9 shadow-2xl\">\n                  <div className=\"flex items-center gap-4 mb-6\">\n                    <div className=\"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm\">\n                      <i data-feather=\"radio\" className=\"h-6 w-6 text-serene-600\" />\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium text-muted-foreground\">Transmission #37</p>\n                      <h4 className=\"text-xl font-bold text-foreground\">Evening unwind</h4>\n                    </div>\n                  </div>\n                  <p className=\"text-[15px] text-muted-foreground leading-relaxed mb-7\">\n                    \"Notice the moment your shoulders unclench. Breathe into that pocket of ease, then name one thing\n                    you want to feel tomorrow.\"\n                  </p>\n                  <div className=\"flex items-center justify-between rounded-2xl border border-calm-200/60 bg-calm-50/70 px-5 py-4 text-sm font-medium text-muted-foreground mb-8\">\n                    <span className=\"flex items-center gap-2.5\">\n                      <i data-feather=\"clock\" className=\"h-4 w-4\" />2 min ritual\n                    </span>\n                    <span className=\"flex items-center gap-2.5\">\n                      <i data-feather=\"star\" className=\"h-4 w-4\" />\n                      Helps with release\n                    </span>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={onEnterApp}\n                    className=\"w-full rounded-2xl bg-gradient-to-r from-serene-400 to-accent px-6 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n                  >\n                    Preview the experience\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section> */}\n\n        {/* <section id=\"waitlist\" className=\"relative z-10 py-28\">\n          <div className=\"max-w-6xl mx-auto px-6\">\n            <div\n              className=\"relative rounded-[2rem] border border-calm-200/60 bg-white/90 backdrop-blur-md p-10 md:p-12 shadow-2xl\"\n              data-aos=\"fade-up\"\n            >\n              <div className=\"md:flex md:items-center md:justify-between md:gap-16\">\n                <div className=\"max-w-xl space-y-5 mb-10 md:mb-0\">\n                  <span className=\"inline-flex items-center gap-2.5 rounded-full border border-primary/30 bg-white/80 backdrop-blur-sm px-4 py-2 text-xs font-bold uppercase tracking-[0.3em] text-muted-foreground shadow-sm\">\n                    Early access\n                  </span>\n                  <h3 className=\"text-4xl font-bold text-foreground text-balance\">Be one of the first to tune in.</h3>\n                  <p className=\"text-[15px] text-muted-foreground leading-relaxed\">\n                    We&apos;re opening the doors slowly. Drop your email to receive a quiet ping when the companion is\n                    ready for you.\n                  </p>\n                </div>\n                <div className=\"w-full max-w-md\">\n                  <form id=\"early-form\" className=\"space-y-5\" data-aos=\"fade-up\" data-aos-delay=\"100\">\n                    <input type=\"text\" name=\"_gotcha\" className=\"hidden\" aria-hidden=\"true\" tabIndex={-1} />\n                    <div className=\"flex flex-col gap-4\">\n                      <div className=\"flex-1\">\n                        <label htmlFor=\"email\" className=\"sr-only\">\n                          Email\n                        </label>\n                        <input\n                          id=\"email\"\n                          name=\"email\"\n                          type=\"email\"\n                          required\n                          placeholder=\"you@brightmorning.com\"\n                          className=\"w-full rounded-2xl border-2 border-calm-200/60 bg-white px-6 py-4 text-[15px] text-foreground shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 placeholder:text-muted-foreground\"\n                        />\n                      </div>\n                      <button\n                        id=\"submit-btn\"\n                        type=\"submit\"\n                        className=\"w-full rounded-2xl bg-gradient-to-r from-serene-400 to-accent px-6 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95\"\n                      >\n                        Request invite\n                      </button>\n                    </div>\n                    <p id=\"form-status\" className=\"text-sm text-muted-foreground\" role=\"status\" />\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </section> */}\n\n        <footer className=\"relative z-10 border-t border-calm-200/60 bg-white/80 backdrop-blur-sm py-16\">\n          <div className=\"max-w-7xl mx-auto flex flex-col gap-10 px-6 md:flex-row md:items-center md:justify-between\">\n            <div className=\"flex items-center gap-4\">\n              {/* <div className=\"relative w-16 h-16\">\n                <Image src=\"/logo.png\" alt=\"Lumora\" width={64} height={64} className=\"object-contain\" />\n              </div> */}\n              <div className=\"flex flex-col items-center gap-2 text-center\">\n            <div className=\"relative w-9 h-9 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]\" />\n            <div className=\"flex flex-col items-center leading-tight\">\n              <h1 className=\"text-l font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                Lumora\n              </h1>\n            </div>\n          </div>\n              <div>\n                <p className=\"text-sm text-muted-foreground\">Light for the mind. Becoming.</p>\n              </div>\n            </div>\n            <div className=\"flex items-center gap-8 text-sm\">\n              <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://linkedin.com/company/lumorawellness/\"\n                className=\"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105\"\n                aria-label=\"LinkedIn\"\n              >\n                <i data-feather=\"linkedin\" className=\"h-4 w-4\" />\n                LinkedIn\n              </a>\n              <a\n                href=\"mailto:lumoraahelp@gmail.com\"\n                className=\"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105\"\n              >\n                <i data-feather=\"mail\" className=\"h-4 w-4\" />\n                Say hello\n              </a>\n            </div>\n          </div>\n          <p className=\"mt-10 text-center text-xs text-muted-foreground\">© 2025 Lumora. All rights reserved. </p>\n        </footer>\n      </div>\n    </div>\n  )\n}\n\nexport default LandingPage\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4594, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/lib/auth.ts"],"sourcesContent":["'use client';\n\nimport { getFirebaseApp } from '@/lib/firebase';\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  updateProfile,\n  type Auth,\n  type UserCredential,\n} from 'firebase/auth';\nimport { getAuth } from 'firebase/auth';\nimport { doc, getFirestore, setDoc } from 'firebase/firestore';\n\nexport type RegistrationPayload = {\n  email: string;\n  password: string;\n  name: string;\n  age: number;\n  gender: string;\n  accountType: 'user' | 'therapist';\n};\n\nfunction getFirebaseAuth(): Auth {\n  return getAuth(getFirebaseApp());\n}\n\nexport async function registerUser(payload: RegistrationPayload): Promise<UserCredential> {\n  const auth = getFirebaseAuth();\n\n  const credential = await createUserWithEmailAndPassword(auth, payload.email, payload.password);\n\n  if (payload.name) {\n    await updateProfile(credential.user, { displayName: payload.name });\n  }\n\n  const db = getFirestore(getFirebaseApp());\n  const userDoc = doc(db, 'users', credential.user.uid);\n\n  await setDoc(userDoc, {\n    uid: credential.user.uid,\n    email: payload.email,\n    name: payload.name,\n    age: payload.age,\n    gender: payload.gender,\n    accountType: payload.accountType,\n    createdAt: new Date().toISOString(),\n  });\n\n  return credential;\n}\n\nexport async function loginUser(email: string, password: string): Promise<UserCredential> {\n  const auth = getFirebaseAuth();\n  return signInWithEmailAndPassword(auth, email, password);\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAAA;AAQA;AAAA;AAXA;;;;;AAsBA,SAAS;IACP,OAAO,IAAA,oMAAO,EAAC,IAAA,oKAAc;AAC/B;AAEO,eAAe,aAAa,OAA4B;IAC7D,MAAM,OAAO;IAEb,MAAM,aAAa,MAAM,IAAA,2NAA8B,EAAC,MAAM,QAAQ,KAAK,EAAE,QAAQ,QAAQ;IAE7F,IAAI,QAAQ,IAAI,EAAE;QAChB,MAAM,IAAA,0MAAa,EAAC,WAAW,IAAI,EAAE;YAAE,aAAa,QAAQ,IAAI;QAAC;IACnE;IAEA,MAAM,KAAK,IAAA,kLAAY,EAAC,IAAA,oKAAc;IACtC,MAAM,UAAU,IAAA,yKAAG,EAAC,IAAI,SAAS,WAAW,IAAI,CAAC,GAAG;IAEpD,MAAM,IAAA,4KAAM,EAAC,SAAS;QACpB,KAAK,WAAW,IAAI,CAAC,GAAG;QACxB,OAAO,QAAQ,KAAK;QACpB,MAAM,QAAQ,IAAI;QAClB,KAAK,QAAQ,GAAG;QAChB,QAAQ,QAAQ,MAAM;QACtB,aAAa,QAAQ,WAAW;QAChC,WAAW,IAAI,OAAO,WAAW;IACnC;IAEA,OAAO;AACT;AAEO,eAAe,UAAU,KAAa,EAAE,QAAgB;IAC7D,MAAM,OAAO;IACb,OAAO,IAAA,uNAA0B,EAAC,MAAM,OAAO;AACjD","debugId":null}},
    {"offset": {"line": 4645, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/AuthForm.tsx"],"sourcesContent":["'use client';\n\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useState, type FormEvent } from 'react';\nimport { loginUser, registerUser } from '@/lib/auth';\n\ntype Mode = 'login' | 'register';\n\nconst genderOptions = [\n  { value: 'female', label: 'Female' },\n  { value: 'male', label: 'Male' },\n  { value: 'non-binary', label: 'Non-binary' },\n  { value: 'prefer_not_to_say', label: 'Prefer not to say' },\n];\n\nconst accountTypeOptions = [\n  { value: 'user', label: 'User' },\n  { value: 'therapist', label: 'Therapist' },\n];\n\nexport function AuthForm() {\n  const { refreshProfile } = useAuth();\n  const [mode, setMode] = useState<Mode>('login');\n  const [formValues, setFormValues] = useState({\n    email: '',\n    password: '',\n    name: '',\n    age: '',\n    gender: genderOptions[0]?.value ?? '',\n    accountType: accountTypeOptions[0]?.value ?? 'user',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const toggleMode = () => {\n    setError(null);\n    setMode((prev) => (prev === 'login' ? 'register' : 'login'));\n  };\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      if (!formValues.email || !formValues.password) {\n        throw new Error('Email and password are required.');\n      }\n\n      if (mode === 'register') {\n        if (!formValues.name) {\n          throw new Error('Name is required for registration.');\n        }\n        const parsedAge = Number(formValues.age);\n        if (!Number.isFinite(parsedAge) || parsedAge <= 0) {\n          throw new Error('Please enter a valid age.');\n        }\n        if (!formValues.gender) {\n          throw new Error('Please select a gender.');\n        }\n\n        await registerUser({\n          email: formValues.email,\n          password: formValues.password,\n          name: formValues.name,\n          age: parsedAge,\n          gender: formValues.gender,\n          accountType: (formValues.accountType as 'user' | 'therapist') ?? 'user',\n        });\n        await refreshProfile();\n        return;\n      }\n\n      await loginUser(formValues.email, formValues.password);\n      await refreshProfile();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : 'Something went wrong. Please try again.';\n      setError(message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-md w-full bg-white/70 backdrop-blur border border-indigo-100 rounded-xl shadow-lg p-8\">\n      <h2 className=\"text-2xl font-semibold text-indigo-900 text-center mb-2\">\n        {mode === 'login' ? 'Welcome!' : 'Create Your Account'}\n      </h2>\n      <p className=\"text-sm text-indigo-700/80 text-center mb-6\">\n        {mode === 'login'\n          ? 'Log in with your email to continue your journey with Lumora.'\n          : 'Join Lumora to access personalized support and resources.'}\n      </p>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {mode === 'register' && (\n          <>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Name</label>\n              <input\n                type=\"text\"\n                value={formValues.name}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, name: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n                placeholder=\"Your full name\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Age</label>\n              <input\n                type=\"number\"\n                min={1}\n                value={formValues.age}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, age: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n                placeholder=\"Your age\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Gender</label>\n              <select\n                value={formValues.gender}\n                onChange={(event) => setFormValues((prev) => ({ ...prev, gender: event.target.value }))}\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white\"\n              >\n                {genderOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Account Type</label>\n              <select\n                value={formValues.accountType}\n                onChange={(event) =>\n                  setFormValues((prev) => ({ ...prev, accountType: event.target.value as 'user' | 'therapist' }))\n                }\n                className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white\"\n              >\n                {accountTypeOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </>\n        )}\n\n        <div>\n          <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Email</label>\n          <input\n            type=\"email\"\n            value={formValues.email}\n            onChange={(event) => setFormValues((prev) => ({ ...prev, email: event.target.value }))}\n            className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n            placeholder=\"you@example.com\"\n            autoComplete=\"email\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-indigo-900 mb-1\">Password</label>\n          <input\n            type=\"password\"\n            value={formValues.password}\n            onChange={(event) => setFormValues((prev) => ({ ...prev, password: event.target.value }))}\n            className=\"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400\"\n            placeholder=\"Enter a secure password\"\n            autoComplete={mode === 'login' ? 'current-password' : 'new-password'}\n          />\n        </div>\n\n        {error && <p className=\"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2\">{error}</p>}\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed\"\n        >\n          {loading ? 'Please wait…' : mode === 'login' ? 'Log In' : 'Register'}\n        </button>\n      </form>\n\n      <p className=\"text-sm text-indigo-700/80 text-center mt-6\">\n        {mode === 'login' ? (\n          <>\n            Need an account?{' '}\n            <button type=\"button\" onClick={toggleMode} className=\"text-indigo-600 font-medium hover:underline\">\n              Register here\n            </button>\n          </>\n        ) : (\n          <>\n            Already joined Lumora?{' '}\n            <button type=\"button\" onClick={toggleMode} className=\"text-indigo-600 font-medium hover:underline\">\n              Log in instead\n            </button>\n          </>\n        )}\n      </p>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5053, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/components/AuthGate.tsx"],"sourcesContent":["'use client';\n\nimport { useCallback, useEffect, useMemo, useState, type ReactNode } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { AuthForm } from '@/components/AuthForm';\nimport { AuthUIProvider } from '@/contexts/AuthUIContext';\n\nexport function AuthGate({ children }: { children: ReactNode }) {\n  const { user, loading, guestMode, enableGuestMode } = useAuth();\n  const [promptVisible, setPromptVisible] = useState(false);\n  const [showLoginForm, setShowLoginForm] = useState(true);\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    if (user) {\n      setPromptVisible(false);\n      setShowLoginForm(false);\n      return;\n    }\n\n    if (!guestMode && !promptVisible) {\n      setPromptVisible(true);\n      setShowLoginForm(true);\n    }\n  }, [guestMode, loading, promptVisible, user]);\n\n  const handleContinueAsGuest = useCallback(() => {\n    enableGuestMode();\n    setPromptVisible(false);\n    setShowLoginForm(false);\n  }, [enableGuestMode]);\n\n  const requestLogin = useCallback(() => {\n    setPromptVisible(true);\n    setShowLoginForm(true);\n  }, []);\n\n  const providerValue = useMemo(\n    () => ({\n      requestLogin,\n    }),\n    [requestLogin]\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100\">\n        <div className=\"text-indigo-700 font-medium\">Loading your workspace…</div>\n      </div>\n    );\n  }\n\n  return (\n    <AuthUIProvider value={providerValue}>\n      <div className=\"relative min-h-screen\">\n        {children}\n\n        {promptVisible && (\n          <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 px-4 py-8 backdrop-blur-sm\">\n            <div className=\"w-full max-w-lg rounded-2xl bg-white shadow-2xl border border-indigo-100\">\n              {showLoginForm ? (\n                <div className=\"p-6\">\n                  <div className=\"mb-4 flex items-center justify-between\">\n                    <div>\n                      <h2 className=\"text-xl font-semibold text-indigo-900\">Sign in to save your progress</h2>\n                      <p className=\"text-sm text-indigo-700/80\">\n                        Your conversations and tools stay synced when you create an account.\n                      </p>\n                    </div>\n                  </div>\n                  <AuthForm />\n                  <div className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-between\">\n                    <button\n                      type=\"button\"\n                      onClick={handleContinueAsGuest}\n                      className=\"order-1 inline-flex justify-center rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 sm:order-2\"\n                    >\n                      Continue without saving\n                    </button>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </div>\n    </AuthUIProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOO,SAAS,SAAS,KAAqC;QAArC,EAAE,QAAQ,EAA2B,GAArC;;IACvB,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,eAAe,EAAE,GAAG,IAAA,sKAAO;IAC7D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,IAAA,0KAAS;8BAAC;YACR,IAAI,SAAS;gBACX;YACF;YAEA,IAAI,MAAM;gBACR,iBAAiB;gBACjB,iBAAiB;gBACjB;YACF;YAEA,IAAI,CAAC,aAAa,CAAC,eAAe;gBAChC,iBAAiB;gBACjB,iBAAiB;YACnB;QACF;6BAAG;QAAC;QAAW;QAAS;QAAe;KAAK;IAE5C,MAAM,wBAAwB,IAAA,4KAAW;uDAAC;YACxC;YACA,iBAAiB;YACjB,iBAAiB;QACnB;sDAAG;QAAC;KAAgB;IAEpB,MAAM,eAAe,IAAA,4KAAW;8CAAC;YAC/B,iBAAiB;YACjB,iBAAiB;QACnB;6CAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,wKAAO;2CAC3B,IAAM,CAAC;gBACL;YACF,CAAC;0CACD;QAAC;KAAa;IAGhB,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BAA8B;;;;;;;;;;;IAGnD;IAEA,qBACE,6LAAC,+KAAc;QAAC,OAAO;kBACrB,cAAA,6LAAC;YAAI,WAAU;;gBACZ;gBAEA,+BACC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCACZ,8BACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;;0DACC,6LAAC;gDAAG,WAAU;0DAAwC;;;;;;0DACtD,6LAAC;gDAAE,WAAU;0DAA6B;;;;;;;;;;;;;;;;;8CAK9C,6LAAC,sKAAQ;;;;;8CACT,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,MAAK;wCACL,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;mCAKH;;;;;;;;;;;;;;;;;;;;;;AAOlB;GApFgB;;QACwC,sKAAO;;;KAD/C","debugId":null}},
    {"offset": {"line": 5244, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from 'react';\nimport { Header } from './components/Header';\nimport { ChatInterface } from './components/ChatInterface';\nimport { Sidebar } from './components/Sidebar';\nimport { MoodTracker } from './components/MoodTracker';\nimport { Resources } from './components/Resources';\nimport { Dashboard } from './components/Dashboard';\nimport { CrisisSupport } from './components/CrisisSupport';\nimport LandingPage from './components/LandingPage';\nimport { AuthGate } from './components/AuthGate';\n\nexport type ViewType = 'chat' | 'mood' | 'resources' | 'dashboard' | 'crisis';\n\nfunction CoreAppShell() {\n  const [currentView, setCurrentView] = useState<ViewType>('chat');\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  const renderContent = () => {\n    switch (currentView) {\n      case 'chat':\n        return <ChatInterface />;\n      case 'mood':\n        return <MoodTracker />;\n      case 'resources':\n        return <Resources onNavigateToCrisis={() => setCurrentView('crisis')} />;\n      case 'dashboard':\n        return <Dashboard />;\n      case 'crisis':\n        return <CrisisSupport onReturnToChat={() => setCurrentView('chat')} />;\n      default:\n        return <ChatInterface />;\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      <Sidebar\n        currentView={currentView}\n        setCurrentView={setCurrentView}\n        isOpen={sidebarOpen}\n        onClose={() => setSidebarOpen(false)}\n      />\n\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <Header onMenuClick={() => setSidebarOpen(true)} currentView={currentView} />\n\n        <main className={`flex-1 ${currentView === 'chat' ? 'overflow-hidden' : 'overflow-y-auto'}`}>\n          {renderContent()}\n        </main>\n      </div>\n\n      {sidebarOpen && (\n        <div\n          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden\"\n          onClick={() => setSidebarOpen(false)}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default function AppShell() {\n  const [showLanding, setShowLanding] = useState(true);\n\n  if (showLanding) {\n    return <LandingPage onEnterApp={() => setShowLanding(false)} />;\n  }\n\n  return (\n    <AuthGate>\n      <CoreAppShell />\n    </AuthGate>\n  );\n}\n\nexport { CoreAppShell };\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAXA;;;;;;;;;;;AAeA,SAAS;;IACP,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAW;IACzD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,qBAAO,6LAAC,gLAAa;;;;;YACvB,KAAK;gBACH,qBAAO,6LAAC,4KAAW;;;;;YACrB,KAAK;gBACH,qBAAO,6LAAC,wKAAS;oBAAC,oBAAoB,IAAM,eAAe;;;;;;YAC7D,KAAK;gBACH,qBAAO,6LAAC,wKAAS;;;;;YACnB,KAAK;gBACH,qBAAO,6LAAC,gLAAa;oBAAC,gBAAgB,IAAM,eAAe;;;;;;YAC7D;gBACE,qBAAO,6LAAC,gLAAa;;;;;QACzB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oKAAO;gBACN,aAAa;gBACb,gBAAgB;gBAChB,QAAQ;gBACR,SAAS,IAAM,eAAe;;;;;;0BAGhC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,kKAAM;wBAAC,aAAa,IAAM,eAAe;wBAAO,aAAa;;;;;;kCAE9D,6LAAC;wBAAK,WAAW,AAAC,UAAwE,OAA/D,gBAAgB,SAAS,oBAAoB;kCACrE;;;;;;;;;;;;YAIJ,6BACC,6LAAC;gBACC,WAAU;gBACV,SAAS,IAAM,eAAe;;;;;;;;;;;;AAKxC;GA9CS;KAAA;AAgDM,SAAS;;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,IAAI,aAAa;QACf,qBAAO,6LAAC,wKAAW;YAAC,YAAY,IAAM,eAAe;;;;;;IACvD;IAEA,qBACE,6LAAC,sKAAQ;kBACP,cAAA,6LAAC;;;;;;;;;;AAGP;IAZwB;MAAA","debugId":null}},
    {"offset": {"line": 5414, "column": 0}, "map": {"version":3,"sources":["file:///Users/udaybiradar/lumora-app/lumora/apps/web/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport AppShell from '@/AppShell';\n\nexport default function Home() {\n  return <AppShell />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,6LAAC,uJAAQ;;;;;AAClB;KAFwB","debugId":null}}]
}
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55838,(e,t,r)=>{"use strict";var s=e.r(71645),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,l=s.useEffect,i=s.useLayoutEffect,o=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),s=n({inst:{value:r,getSnapshot:t}}),a=s[0].inst,c=s[1];return i(function(){a.value=r,a.getSnapshot=t,d(a)&&c({inst:a})},[e,r,t]),l(function(){return d(a)&&c({inst:a}),e(function(){d(a)&&c({inst:a})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},9230,e=>{"use strict";let t;e.s(["default",()=>tb],9230);var r=e.i(43476),s=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:n("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,s.createElement)(i,{ref:l,iconNode:t,className:n("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return r.displayName=a(e),r},d=o("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),c=o("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]),u=o("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var m=e.i(46556);e.i(47167);let x=(0,s.createContext)({requestLogin:()=>{}});function h(e){let{value:t,children:s}=e;return(0,r.jsx)(x.Provider,{value:t,children:s})}function g(){return(0,s.useContext)(x)}let p={chat:"Chat with Lumora",mood:"Mood Tracking",resources:"Resources & Tools",dashboard:"Your Journey",crisis:"Crisis Support"};function f(e){let{onMenuClick:t,currentView:a}=e,{profile:n,user:l,logout:i,guestMode:o}=(0,m.useAuth)(),{requestLogin:x}=g(),[h,f]=(0,s.useState)(!1),b=(null==n?void 0:n.name)||(null==l?void 0:l.displayName)||(null==l?void 0:l.email)||(o?"Guest session":"Lumora"),y=async()=>{try{f(!0),await i()}finally{f(!1)}};return(0,r.jsxs)("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 py-4 flex items-center justify-between md:hidden",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsx)("button",{onClick:t,className:"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,r.jsx)(d,{className:"h-5 w-5 text-gray-600"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("h2",{className:"hidden sm:block text-left text-lg font-semibold text-gray-800",children:p[a]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 max-w-[120px] truncate",children:b}),l?(0,r.jsxs)("button",{type:"button",onClick:y,disabled:h,className:"inline-flex items-center gap-1 rounded-full border border-gray-200 px-3 py-1 text-xs font-semibold text-gray-600 hover:bg-gray-100 transition disabled:opacity-60",children:[(0,r.jsx)(u,{className:"h-3.5 w-3.5"}),h?"...":"Log out"]}):(0,r.jsxs)("button",{type:"button",onClick:x,className:"inline-flex items-center gap-1 rounded-full border border-indigo-200 px-3 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-50 transition",children:[(0,r.jsx)(c,{className:"h-3.5 w-3.5"}),"Sign in"]})]})]})]})}let b=o("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),y=o("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),v=o("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),w=o("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),j=o("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),N=o("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),k=o("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),S=o("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var C=e.i(26508);e.i(36180);var E=e.i(98925);function A(e){let t=(0,E.getFirestore)((0,C.getFirebaseApp)());return(0,E.collection)(t,"users",e,"sessions")}async function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A(e),s=(0,E.doc)(r),a={createdAt:(0,E.serverTimestamp)(),updatedAt:(0,E.serverTimestamp)()};return t.title&&(a.title=t.title),t.model&&(a.model=t.model),t.meta&&(a.meta=t.meta),await (0,E.setDoc)(s,a),s.id}async function T(e,t,r,s){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!s.trim())throw Error("Message content is required");let n=(0,E.getFirestore)((0,C.getFirebaseApp)()),l=(0,E.doc)(n,"users",e,"sessions",t),i=(0,E.doc)((0,E.collection)(l,"messages"));await (0,E.setDoc)(i,{role:r,content:s,createdAt:(0,E.serverTimestamp)(),...void 0!==a.tokensIn?{tokensIn:a.tokensIn}:{},...void 0!==a.tokensOut?{tokensOut:a.tokensOut}:{}});let o={updatedAt:(0,E.serverTimestamp)(),lastMessagePreview:function(e){let t=e.replace(/\s+/g," ").trim();return t?t.length>160?"".concat(t.slice(0,157),"â€¦"):t:""}(s)};if(a.model&&(o.model=a.model),"user"===r){var d;let e=await (0,E.getDoc)(l);(e.exists()?null==(d=e.data())?void 0:d.title:void 0)||(o.title=function(e){let t=e.replace(/\s+/g," ").trim();return t?t.length>60?"".concat(t.slice(0,57),"â€¦"):t:"New conversation"}(s))}return await (0,E.updateDoc)(l,o),i.id}async function L(e,t,r){let s=function(e,t){let r=(0,E.getFirestore)((0,C.getFirebaseApp)());return(0,E.doc)(r,"users",e,"sessions",t)}(e,t);await (0,E.updateDoc)(s,{title:r,updatedAt:(0,E.serverTimestamp)()})}async function R(e,t){let r=(0,E.getFirestore)((0,C.getFirebaseApp)()),s=(0,E.doc)(r,"users",e,"sessions",t),a=(0,E.collection)(s,"messages"),n=async()=>{let e=await (0,E.getDocs)((0,E.query)(a,(0,E.limit)(500)));if(e.empty)return!1;let t=(0,E.writeBatch)(r);return e.docs.forEach(e=>{t.delete(e.ref)}),await t.commit(),500===e.size},l=!0;for(;l;)l=await n();await (0,E.deleteDoc)(s)}let _={id:"lumora-welcome",content:"Hello! I'm Lumora, your AI companion for mental health support. I'm here to listen, provide guidance, and help you navigate your thoughts and feelings. How are you doing today?",sender:"assistant",timestamp:new Date};function O(e){if(!e)return"";let t=new Date;return e.toDateString()===t.toDateString()?e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):e.toLocaleDateString([],{month:"short",day:"numeric"})}function D(e){return e.map(e=>{var t;return{id:e.id,content:e.content,sender:"system"===e.role?"assistant":e.role,timestamp:null!=(t=e.createdAt)?t:new Date}})}function F(){var e;let{user:t}=(0,m.useAuth)(),a=null!=(e=null==t?void 0:t.uid)?e:null,[n,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(!1),[u,x]=(0,s.useState)(20),[h,g]=(0,s.useState)([]),[p,f]=(0,s.useState)(!1),[F,V]=(0,s.useState)(50),[I,P]=(0,s.useState)(""),[q,z]=(0,s.useState)(!1),[W,U]=(0,s.useState)([_]),H=(0,s.useRef)(null),B=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(!a){l([]),o(null);return}c(!0);let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,{limit:s=20,startAfter:a,onError:n}=t,l=A(e),i=(0,E.query)(l,(0,E.orderBy)("updatedAt","desc"),(0,E.limit)(s));return a&&(i=(0,E.query)(i,(0,E.startAfter)(a))),(0,E.onSnapshot)(i,e=>{let t=e.docs;r(t.map(e=>(function(e){var t,r,s,a,n,l,i,o,d,c;let u=e.data();return{id:e.id,title:null!=(n=u.title)?n:null,createdAt:null!=(l=null==(r=u.createdAt)||null==(t=r.toDate)?void 0:t.call(r))?l:void 0,updatedAt:null!=(i=null==(a=u.updatedAt)||null==(s=a.toDate)?void 0:s.call(a))?i:void 0,model:null!=(o=u.model)?o:void 0,meta:null!=(d=u.meta)?d:null,lastMessagePreview:null!=(c=u.lastMessagePreview)?c:null}})(e)),t)},e=>{console.error("Failed to list sessions:",e),null==n||n(e)})}(a,{limit:u,onError:()=>c(!1)},e=>{l(e),c(!1),o(t=>{var r,s;return null!=t?t:null!=(s=null==(r=e[0])?void 0:r.id)?s:null})});return()=>{e(),l([])}},[a,u]),(0,s.useEffect)(()=>{if(!a||!i)return void g([]);f(!0);let e=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,{limit:a=50,startAfter:n,onError:l}=r,i=(0,E.getFirestore)((0,C.getFirebaseApp)()),o=(0,E.collection)(i,"users",e,"sessions",t,"messages"),d=(0,E.query)(o,(0,E.orderBy)("createdAt","asc"),(0,E.limit)(a));return n&&(d=(0,E.query)(d,(0,E.startAfter)(n))),(0,E.onSnapshot)(d,e=>{let t=e.docs;s(t.map(e=>(function(e){var t,r,s,a,n,l;let i=e.data();return{id:e.id,role:i.role,content:null!=(s=i.content)?s:"",createdAt:null!=(a=null==(r=i.createdAt)||null==(t=r.toDate)?void 0:t.call(r))?a:void 0,tokensIn:null!=(n=i.tokensIn)?n:void 0,tokensOut:null!=(l=i.tokensOut)?l:void 0}})(e)),t)},e=>{console.error("Failed to subscribe to messages:",e),null==l||l(e)})}(a,i,{limit:F,onError:()=>f(!1)},e=>{g(e),f(!1)});return()=>{e(),g([])}},[a,i,F]),(0,s.useEffect)(()=>{if(!B.current)return;let e=B.current;e.style.height="auto";let t=Math.min(Math.max(e.scrollHeight,48),240);e.style.height="".concat(t,"px"),e.style.overflowY=e.scrollHeight>240?"auto":"hidden"},[I]),(0,s.useEffect)(()=>{var e;null==(e=H.current)||e.scrollIntoView({behavior:"smooth"})},[h,W,q]),(0,s.useEffect)(()=>{a||U(e=>e.length?e:[_])},[a]);let J=(0,s.useMemo)(()=>a&&i?h.length?D(h):[_]:W,[a,i,h,W]),Y=async()=>{if(a)try{let e=await M(a);o(e),V(50),g([])}catch(e){console.error("Failed to create session",e)}},G=async e=>{var t;if(!a)return;let r=null!=(t=e.title)?t:"",s=window.prompt("Rename conversation",r);if(null===s)return;let n=s.trim();if(n)try{await L(a,e.id,n)}catch(e){console.error("Failed to rename session",e)}},$=async e=>{if(a&&window.confirm("Delete this conversation? This will remove all messages."))try{await R(a,e.id),i===e.id&&(o(null),g([]))}catch(e){console.error("Failed to delete session",e)}},K=async()=>{var e,t;let r=I.trim();if(!r)return;if(!a){let t=[...W,{id:"guest-".concat(Date.now()),content:r,sender:"user",timestamp:new Date}];U(t),P(""),z(!0);try{let r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:"guest",messages:t.map(e=>({role:e.sender,content:e.content}))})});if(!r.ok)throw Error("chat_request_failed");let s=null==(e=(await r.json()).reply)?void 0:e.trim(),a={id:"guest-".concat(Date.now()+1),content:s||"Thank you for sharing. I am here to listen and support you.",sender:"assistant",timestamp:new Date};U(e=>[...e,a])}catch(t){console.error("Guest chat request failed",t);let e={id:"guest-".concat(Date.now()+1),content:"I had trouble reaching our support service. Please try again in a moment.",sender:"assistant",timestamp:new Date};U(t=>[...t,e])}finally{z(!1)}return}P(""),z(!0);let s=null!=i?i:null;try{let e;if(s||(s=await M(a),o(s),g([]),V(50)),!s)throw Error("Unable to resolve session.");await T(a,s,"user",r);let n={id:"pending-".concat(Date.now()),content:r,sender:"user",timestamp:new Date},l=[...D(h),n],i=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s,messages:l.map(e=>({role:e.sender,content:e.content}))})});i.ok&&(e=null==(t=(await i.json()).reply)?void 0:t.trim()),await T(a,s,"assistant",e||"Thank you for sharing. I am here to listen and support you.")}catch(e){console.error("Failed to send message",e),a&&s&&await T(a,s,"assistant","I had trouble reaching our support service. Please try again in a moment.")}finally{z(!1)}};return(0,r.jsxs)("div",{className:"flex h-full bg-gradient-to-br from-white to-blue-50/40",children:[a?(0,r.jsxs)("aside",{className:"hidden w-72 border-r border-gray-200 bg-white/70 backdrop-blur-sm lg:flex lg:flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v,{className:"h-4 w-4 text-indigo-500"}),(0,r.jsx)("span",{className:"font-semibold text-gray-700",children:"Conversations"})]}),(0,r.jsxs)("button",{type:"button",onClick:Y,className:"inline-flex items-center gap-1 rounded-lg border border-indigo-200 bg-indigo-50 px-2 py-1 text-xs font-semibold text-indigo-600 hover:bg-indigo-100",children:[(0,r.jsx)(j,{className:"h-3.5 w-3.5"}),"New"]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-2 py-3 space-y-1",children:d&&0===n.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2 py-10 text-sm text-gray-500",children:[(0,r.jsx)(y,{className:"h-5 w-5 animate-spin text-indigo-500"}),"Loading conversationsâ€¦"]}):0===n.length?(0,r.jsx)("div",{className:"rounded-lg bg-indigo-50 p-4 text-xs text-indigo-700",children:"Start a new conversation to save your progress."}):n.map(e=>{var t;let s=e.id===i;return(0,r.jsxs)("div",{className:"group rounded-xl px-3 py-2 transition ".concat(s?"bg-indigo-100/80 border border-indigo-200":"hover:bg-gray-100/60"),children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{o(e.id),V(50)},className:"flex w-full items-start justify-between gap-2 text-left",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:e.title||e.lastMessagePreview||"Untitled conversation"}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500 line-clamp-2",children:e.lastMessagePreview||"No messages yet"})]}),(0,r.jsx)("span",{className:"mt-1 text-[10px] uppercase tracking-wide text-gray-400",children:O(null!=(t=e.updatedAt)?t:e.createdAt)})]}),(0,r.jsxs)("div",{className:"mt-1 hidden items-center justify-end gap-2 group-hover:flex",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>G(e),className:"inline-flex items-center gap-1 rounded-md border border-gray-200 px-1.5 py-1 text-[11px] text-gray-600 hover:bg-gray-100",children:[(0,r.jsx)(w,{className:"h-3 w-3"}),"Rename"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>$(e),className:"inline-flex items-center gap-1 rounded-md border border-red-200 px-1.5 py-1 text-[11px] text-red-600 hover:bg-red-50",children:[(0,r.jsx)(k,{className:"h-3 w-3"}),"Delete"]})]})]},e.id)})}),n.length>=u&&(0,r.jsx)("div",{className:"border-t border-gray-200 p-3",children:(0,r.jsx)("button",{type:"button",onClick:()=>{x(e=>e+20)},className:"w-full rounded-lg border border-indigo-200 px-3 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:"Load more"})})]}):null,(0,r.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-6 py-4",children:(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800",children:"Chat"}),(0,r.jsx)("p",{className:"text-sm text-green-600",children:"Online â€¢ Always here for you"})]})})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:[J.map(e=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"flex items-start gap-3 max-w-3xl ".concat("user"===e.sender?"flex-row-reverse":""),children:["user"===e.sender?(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(S,{className:"h-4 w-4 text-white"})}):(0,r.jsx)("div",{className:"relative flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.30)] ring-1 ring-white/20"}),(0,r.jsxs)("div",{className:"px-4 py-3 rounded-2xl shadow-sm ".concat("user"===e.sender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md":"bg-white border border-gray-200 text-gray-800 rounded-bl-md"),children:[(0,r.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-line",children:e.content}),(0,r.jsx)("p",{className:"text-xs mt-2 ".concat("user"===e.sender?"text-blue-100":"text-gray-500"),children:O(e.timestamp)})]})]})},e.id)),p&&a?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(y,{className:"h-4 w-4 animate-spin text-indigo-500"}),"Loading messagesâ€¦"]}):null,a&&h.length>=F?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("button",{type:"button",onClick:()=>{V(e=>e+50)},className:"inline-flex items-center gap-2 rounded-full border border-indigo-200 px-4 py-2 text-xs font-semibold text-indigo-600 hover:bg-indigo-50",children:[(0,r.jsx)(b,{className:"h-3.5 w-3.5"}),"Load previous messages"]})}):null,q?(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(y,{className:"h-4 w-4 animate-spin text-indigo-500"}),"Lumora is thinkingâ€¦"]}):null,(0,r.jsx)("div",{ref:H})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-white/90 backdrop-blur-sm px-6 py-4",children:(0,r.jsxs)("div",{className:"rounded-2xl border border-gray-200 bg-white shadow-sm",children:[(0,r.jsx)("textarea",{ref:B,value:I,onChange:e=>P(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),K())},placeholder:"Share how you're feeling, ask a question, or tell Lumora what's on your mindâ€¦",className:"w-full resize-none rounded-2xl bg-transparent px-4 py-3 text-sm focus:outline-none"}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-100 px-4 py-2",children:[(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Shift + Enter for a new line"}),(0,r.jsxs)("button",{type:"button",onClick:K,disabled:!I.trim()||q,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-indigo-500 to-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow hover:from-indigo-600 hover:to-indigo-700 disabled:cursor-not-allowed disabled:opacity-60",children:[q?(0,r.jsx)(y,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(N,{className:"h-4 w-4"}),"Send"]})]})]})})]})]})}let V=o("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]),I=o("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),P=o("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),q=o("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),z=o("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),W=o("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),U=o("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),H=o("circle-user-round",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function B(){var e,t,a,n;let{user:l,profile:i,logout:o,guestMode:d}=(0,m.useAuth)(),{requestLogin:x}=g(),[h,p]=(0,s.useState)(!1);if(!l)return(0,r.jsxs)("div",{className:"rounded-xl border border-indigo-100 bg-white/70 p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-indigo-100 text-indigo-700",children:(0,r.jsx)(U,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-indigo-900",children:d?"You're exploring in guest mode":"Welcome to Lumora"}),(0,r.jsx)("p",{className:"text-xs text-indigo-700/80",children:"Sign in to save conversations and track your progress across visits. You can keep exploring without an account, too."})]})]}),(0,r.jsxs)("button",{type:"button",onClick:x,className:"mt-4 inline-flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-indigo-700",children:[(0,r.jsx)(c,{className:"h-4 w-4"}),"Sign in"]})]});let f=(null==i?void 0:i.name)||(null==l?void 0:l.displayName)||(null==l?void 0:l.email)||"Welcome",b=null!=(t=null!=(e=null==l?void 0:l.email)?e:null==i?void 0:i.email)?t:"",y=null!=(a=null==i?void 0:i.accountType)?a:"user",v=function(e,t){var r,s,a;if(e){let r=e.trim().split(/\s+/).slice(0,2);if(r.length>0)return r.map(e=>{var t,r;return null!=(r=null==(t=e[0])?void 0:t.toUpperCase())?r:""}).join("")||(null==t||null==(s=t[0])?void 0:s.toUpperCase())||"U"}return null!=(a=null==t||null==(r=t[0])?void 0:r.toUpperCase())?a:"U"}(null==i?void 0:i.name,null!=(n=null==l?void 0:l.email)?n:void 0),w=async()=>{try{p(!0),await o()}finally{p(!1)}};return(0,r.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 via-white to-purple-50 border border-indigo-100 rounded-xl p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"h-12 w-12 rounded-full bg-indigo-600 text-white flex items-center justify-center text-lg font-semibold shadow-md",children:(null==l?void 0:l.photoURL)?(0,r.jsx)("img",{src:l.photoURL,alt:f,className:"h-full w-full rounded-full object-cover",referrerPolicy:"no-referrer"}):v}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-indigo-900 truncate",children:f}),b&&(0,r.jsx)("p",{className:"text-xs text-indigo-700/70 truncate",title:b,children:b}),(0,r.jsxs)("div",{className:"mt-1 inline-flex items-center gap-1 rounded-full bg-white/70 border border-indigo-100 px-2 py-0.5",children:[(0,r.jsx)(H,{className:"h-3.5 w-3.5 text-indigo-500"}),(0,r.jsx)("span",{className:"text-xs font-medium capitalize text-indigo-700",children:y})]})]})]}),(0,r.jsxs)("button",{type:"button",onClick:w,disabled:h,className:"mt-4 w-full inline-flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-semibold py-2 rounded-lg transition disabled:opacity-70 disabled:cursor-not-allowed",children:[(0,r.jsx)(u,{className:"h-4 w-4"}),h?"Signing outâ€¦":"Log out"]})]})}let J=[{id:"chat",label:"Chat Support",icon:V,color:"text-blue-600",preview:!1},{id:"mood",label:"Mood Tracker",icon:I,color:"text-pink-600",preview:!0},{id:"resources",label:"Resources",icon:P,color:"text-green-600",preview:!0},{id:"dashboard",label:"Dashboard",icon:q,color:"text-purple-600",preview:!0},{id:"crisis",label:"Crisis Support",icon:z,color:"text-red-600",preview:!1}];function Y(e){let{currentView:t,setCurrentView:s,isOpen:a,onClose:n}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("aside",{className:"\n        fixed md:relative inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200\n        transform transition-transform duration-300 ease-in-out\n        ".concat(a?"translate-x-0":"-translate-x-full md:translate-x-0","\n      "),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lumora"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"(Beta)"})]}),(0,r.jsx)("p",{className:"text-sm font-bold text-gray-500 hidden sm:block",children:"Light for the mind"})]})]}),(0,r.jsx)("button",{onClick:n,className:"md:hidden p-1.5 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close menu",children:(0,r.jsx)(W,{className:"w-5 h-5 text-gray-500"})})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:J.map(e=>{let a=e.icon,l=t===e.id;return(0,r.jsxs)("button",{onClick:()=>{s(e.id),n()},className:"\n                    w-full flex items-center justify-between gap-3 px-4 py-3 text-left rounded-xl transition-all duration-200\n                    ".concat(l?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-800","\n                  "),children:[(0,r.jsxs)("span",{className:"flex items-center gap-3",children:[(0,r.jsx)(a,{className:"h-5 w-5 ".concat(l?"text-blue-600":e.color)}),(0,r.jsx)("span",{className:"font-medium",children:e.label})]}),e.preview&&(0,r.jsx)("span",{className:"rounded-full border border-serene-200 bg-serene-50 px-2 py-0.5 text-xs font-semibold text-serene-600",children:"Preview"})]},e.id)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200 space-y-4",children:[(0,r.jsx)(B,{}),(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[(0,r.jsx)("p",{className:"text-sm text-red-800 font-medium mb-1",children:"Emergency?"}),(0,r.jsx)("p",{className:"text-xs text-red-600",children:"If you're in crisis, call 988 (Suicide & Crisis Lifeline) or go to your nearest emergency room."})]})]})]})})})}let G=o("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),$=o("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),K=["ðŸ˜¢","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜Š"],Z=["Very Low","Low","Neutral","Good","Excellent"],Q=["text-red-500","text-orange-500","text-yellow-500","text-blue-500","text-green-500"],X=["Exercise","Meditation","Social Time","Work","Sleep","Nature","Reading","Music"];function ee(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(""),[l,i]=(0,s.useState)([]),[o]=(0,s.useState)([{date:"2024-01-15",mood:4,note:"Great day with friends",activities:["Social Time","Exercise"]},{date:"2024-01-14",mood:3,note:"Productive work day",activities:["Work","Reading"]},{date:"2024-01-13",mood:2,note:"Feeling a bit overwhelmed",activities:["Work","Music"]},{date:"2024-01-12",mood:4,note:"Relaxing weekend",activities:["Nature","Meditation"]},{date:"2024-01-11",mood:3,note:"Regular day",activities:["Work","Sleep"]}]),d=o.reduce((e,t)=>e+t.mood,0)/o.length;return(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-red-500 rounded-full flex items-center justify-center",children:(0,r.jsx)($,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"How are you feeling today?"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Select your mood:"}),(0,r.jsx)("div",{className:"flex justify-between max-w-md",children:K.map((s,a)=>(0,r.jsx)("button",{onClick:()=>t(a),className:"\n                  w-12 h-12 rounded-full flex items-center justify-center text-2xl transition-all duration-200\n                  ".concat(e===a?"bg-blue-100 ring-2 ring-blue-500 scale-110":"hover:bg-gray-100 hover:scale-105","\n                "),children:s},a))}),null!==e&&(0,r.jsx)("p",{className:"text-sm font-medium mt-2 ".concat(Q[e]),children:Z[e]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"What activities did you do today?"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:X.map(e=>(0,r.jsx)("button",{onClick:()=>{i(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"\n                  px-3 py-1.5 rounded-full text-sm font-medium transition-colors duration-200\n                  ".concat(l.includes(e)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200","\n                "),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add a note (optional):"}),(0,r.jsx)("textarea",{value:a,onChange:e=>n(e.target.value),placeholder:"What made your day special? Any thoughts or feelings you'd like to remember...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),(0,r.jsx)("button",{onClick:()=>{null!==e&&(console.log({mood:e,note:a,activities:l}),t(null),n(""),i([]))},disabled:null===e,className:"w-full sm:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Today's Mood"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(G,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Your Mood Journey"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"7-day average"}),(0,r.jsxs)("p",{className:"text-2xl font-bold ".concat(Q[Math.round(d)]),children:[K[Math.round(d)]," ",Z[Math.round(d)]]})]})]}),(0,r.jsx)("div",{className:"space-y-3",children:o.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[(0,r.jsx)("div",{className:"w-16 text-sm text-gray-600",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,r.jsx)("div",{className:"text-2xl",children:K[e.mood]}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-gray-800",children:e.note}),(0,r.jsx)("div",{className:"flex gap-1 mt-1",children:e.activities.map(e=>(0,r.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full",children:e},e))})]}),(0,r.jsx)("div",{className:"text-sm font-medium ".concat(Q[e.mood]),children:Z[e.mood]})]},t))})]})]})}var et=e.i(2239);e.s(["ERROR_REVALIDATE_EVENT",()=>en,"FOCUS_EVENT",()=>er,"MUTATE_EVENT",()=>ea,"RECONNECT_EVENT",()=>es],11671);let er=0,es=1,ea=2,en=3;var el=Object.prototype.hasOwnProperty;let ei=new WeakMap,eo=()=>{},ed=eo(),ec=Object,eu=e=>e===ed,em=(e,t)=>({...e,...t}),ex={},eh={},eg="undefined",ep=typeof window!=eg,ef=typeof document!=eg,eb=ep&&"Deno"in window,ey=(e,t)=>{let r=ei.get(e);return[()=>!eu(t)&&e.get(t)||ex,s=>{if(!eu(t)){let a=e.get(t);t in eh||(eh[t]=a),r[5](t,em(a,s),a||ex)}},r[6],()=>!eu(t)&&t in eh?eh[t]:!eu(t)&&e.get(t)||ex]},ev=!0,[ew,ej]=ep&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[eo,eo],eN={initFocus:e=>(ef&&document.addEventListener("visibilitychange",e),ew("focus",e),()=>{ef&&document.removeEventListener("visibilitychange",e),ej("focus",e)}),initReconnect:e=>{let t=()=>{ev=!0,e()},r=()=>{ev=!1};return ew("online",t),ew("offline",r),()=>{ej("online",t),ej("offline",r)}}},ek=!s.default.useId,eS=!ep||eb,eC=eS?s.useEffect:s.useLayoutEffect,eE="undefined"!=typeof navigator&&navigator.connection,eA=!eS&&eE&&(["slow-2g","2g"].includes(eE.effectiveType)||eE.saveData),eM=new WeakMap,eT=(e,t)=>e==="[object ".concat(t,"]"),eL=0,eR=e=>{let t,r,s=typeof e,a=ec.prototype.toString.call(e),n=eT(a,"Date"),l=eT(a,"RegExp"),i=eT(a,"Object");if(ec(e)!==e||n||l)t=n?e.toJSON():"symbol"==s?e.toString():"string"==s?JSON.stringify(e):""+e;else{if(t=eM.get(e))return t;if(t=++eL+"~",eM.set(e,t),Array.isArray(e)){for(r=0,t="@";r<e.length;r++)t+=eR(e[r])+",";eM.set(e,t)}if(i){t="#";let s=ec.keys(e).sort();for(;!eu(r=s.pop());)eu(e[r])||(t+=r+":"+eR(e[r])+",");eM.set(e,t)}}return t},e_=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?eR(e):"",t]},eO=0,eD=()=>++eO;async function eF(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[s,a,n,l]=t,i=em({populateCache:!0,throwOnError:!0},"boolean"==typeof l?{revalidate:l}:l||{}),o=i.populateCache,d=i.rollbackOnError,c=i.optimisticData,u=i.throwOnError;if("function"==typeof a){let e=[];for(let t of s.keys())!/^\$(inf|sub)\$/.test(t)&&a(s.get(t)._k)&&e.push(t);return Promise.all(e.map(m))}return m(a);async function m(e){let r,[a]=e_(e);if(!a)return;let[l,m]=ey(s,a),[x,h,g,p]=ei.get(s),f=()=>{let t=x[a];return("function"==typeof i.revalidate?i.revalidate(l().data,e):!1!==i.revalidate)&&(delete g[a],delete p[a],t&&t[0])?t[0](ea).then(()=>l().data):l().data};if(t.length<3)return f();let b=n,y=!1,v=eD();h[a]=[v,0];let w=!eu(c),j=l(),N=j.data,k=j._c,S=eu(k)?N:k;if(w&&m({data:c="function"==typeof c?c(S,N):c,_c:S}),"function"==typeof b)try{b=b(S)}catch(e){r=e,y=!0}if(b&&"function"==typeof b.then){let e;if(b=await b.catch(e=>{r=e,y=!0}),v!==h[a][0]){if(y)throw r;return b}y&&w&&(e=r,"function"==typeof d?d(e):!1!==d)&&(o=!0,m({data:S,_c:ed}))}if(o&&!y&&("function"==typeof o?m({data:o(b,S),error:ed,_c:ed}):m({data:b,error:ed,_c:ed})),h[a][1]=eD(),Promise.resolve(f()).then(()=>{m({_c:ed})}),y){if(u)throw r;return}return b}}let eV=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},eI=(e,t)=>{if(!ei.has(e)){let r=em(eN,t),s=Object.create(null),a=eF.bind(ed,e),n=eo,l=Object.create(null),i=(e,t)=>{let r=l[e]||[];return l[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},o=(t,r,s)=>{e.set(t,r);let a=l[t];if(a)for(let e of a)e(r,s)},d=()=>{if(!ei.has(e)&&(ei.set(e,[s,Object.create(null),Object.create(null),Object.create(null),a,o,i]),!eS)){let t=r.initFocus(setTimeout.bind(ed,eV.bind(ed,s,er))),a=r.initReconnect(setTimeout.bind(ed,eV.bind(ed,s,es)));n=()=>{t&&t(),a&&a(),ei.delete(e)}}};return d(),[e,a,d,n]}return[e,ei.get(e)[4]]},[eP,eq]=eI(new Map),ez=em({onLoadingSlow:eo,onSuccess:eo,onError:eo,onErrorRetry:(e,t,r,s,a)=>{let n=r.errorRetryCount,l=a.retryCount,i=~~((Math.random()+.5)*(1<<(l<8?l:8)))*r.errorRetryInterval;(eu(n)||!(l>n))&&setTimeout(s,i,a)},onDiscarded:eo,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:eA?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:eA?5e3:3e3,compare:function e(t,r){var s,a;if(t===r)return!0;if(t&&r&&(s=t.constructor)===r.constructor){if(s===Date)return t.getTime()===r.getTime();if(s===RegExp)return t.toString()===r.toString();if(s===Array){if((a=t.length)===r.length)for(;a--&&e(t[a],r[a]););return -1===a}if(!s||"object"==typeof t){for(s in a=0,t)if(el.call(t,s)&&++a&&!el.call(r,s)||!(s in r)||!e(t[s],r[s]))return!1;return Object.keys(r).length===a}}return t!=t&&r!=r},isPaused:()=>!1,cache:eP,mutate:eq,fallback:{}},{isOnline:()=>ev,isVisible:()=>{let e=ef&&document.visibilityState;return eu(e)||"hidden"!==e}}),eW=(e,t)=>{let r=em(e,t);if(t){let{use:s,fallback:a}=e,{use:n,fallback:l}=t;s&&n&&(r.use=s.concat(n)),a&&l&&(r.fallback=em(a,l))}return r},eU=(0,s.createContext)({});var eH=e.i(11671);let eB=ep&&window.__SWR_DEVTOOLS_USE__,eJ=(eB?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,s)=>{let a=r&&function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];let[n]=e_(t),[,,,l]=ei.get(eP);if(n.startsWith("$inf$"))return r(...s);let i=l[n];return eu(i)?r(...s):(delete l[n],i)};return e(t,a,s)});eB&&(window.__SWR_DEVTOOLS_REACT__=s.default);let eY=()=>{},eG=eY();new WeakMap;let e$=s.default.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),eK={dedupe:!0},eZ=Promise.resolve(ed);ec.defineProperty(e=>{let{value:t}=e,r=(0,s.useContext)(eU),a="function"==typeof t,n=(0,s.useMemo)(()=>a?t(r):t,[a,r,t]),l=(0,s.useMemo)(()=>a?n:eW(r,n),[a,r,n]),i=n&&n.provider,o=(0,s.useRef)(ed);i&&!o.current&&(o.current=eI(i(l.cache||eP),n));let d=o.current;return d&&(l.cache=d[0],l.mutate=d[1]),eC(()=>{if(d)return d[2]&&d[2](),d[3]},[]),(0,s.createElement)(eU.Provider,em(e,{value:l}))},"defaultValue",{value:ez});let eQ=(t=(e,t,r)=>{let{cache:a,compare:n,suspense:l,fallbackData:i,revalidateOnMount:o,revalidateIfStale:d,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:m,keepPreviousData:x}=r,[h,g,p,f]=ei.get(a),[b,y]=e_(e),v=(0,s.useRef)(!1),w=(0,s.useRef)(!1),j=(0,s.useRef)(b),N=(0,s.useRef)(t),k=(0,s.useRef)(r),S=()=>k.current.isVisible()&&k.current.isOnline(),[C,E,A,M]=ey(a,b),T=(0,s.useRef)({}).current,L=eu(i)?eu(r.fallback)?ed:r.fallback[b]:i,R=(e,t)=>{for(let r in T)if("data"===r){if(!n(e[r],t[r])&&(!eu(e[r])||!n(z,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},_=(0,s.useMemo)(()=>{let e=!!b&&!!t&&(eu(o)?!k.current.isPaused()&&!l&&!1!==d:o),r=t=>{let r=em(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},s=C(),a=M(),n=r(s),i=s===a?n:r(a),c=n;return[()=>{let e=r(C());return R(e,c)?(c.data=e.data,c.isLoading=e.isLoading,c.isValidating=e.isValidating,c.error=e.error,c):(c=e,e)},()=>i]},[a,b]),O=(0,et.useSyncExternalStore)((0,s.useCallback)(e=>A(b,(t,r)=>{R(r,t)||e()}),[a,b]),_[0],_[1]),D=!v.current,F=h[b]&&h[b].length>0,V=O.data,I=eu(V)?L&&"function"==typeof L.then?e$(L):L:V,P=O.error,q=(0,s.useRef)(I),z=x?eu(V)?eu(q.current)?I:q.current:V:I,W=(!F||!!eu(P))&&(D&&!eu(o)?o:!k.current.isPaused()&&(l?!eu(I)&&d:eu(I)||d)),U=!!(b&&t&&D&&W),H=eu(O.isValidating)?U:O.isValidating,B=eu(O.isLoading)?U:O.isLoading,J=(0,s.useCallback)(async e=>{let t,s,a=N.current;if(!b||!a||w.current||k.current.isPaused())return!1;let l=!0,i=e||{},o=!p[b]||!i.dedupe,d=()=>ek?!w.current&&b===j.current&&v.current:b===j.current,c={isValidating:!1,isLoading:!1},u=()=>{E(c)},m=()=>{let e=p[b];e&&e[1]===s&&delete p[b]},x={isValidating:!0};eu(C().data)&&(x.isLoading=!0);try{if(o&&(E(x),r.loadingTimeout&&eu(C().data)&&setTimeout(()=>{l&&d()&&k.current.onLoadingSlow(b,r)},r.loadingTimeout),p[b]=[a(y),eD()]),[t,s]=p[b],t=await t,o&&setTimeout(m,r.dedupingInterval),!p[b]||p[b][1]!==s)return o&&d()&&k.current.onDiscarded(b),!1;c.error=ed;let e=g[b];if(!eu(e)&&(s<=e[0]||s<=e[1]||0===e[1]))return u(),o&&d()&&k.current.onDiscarded(b),!1;let i=C().data;c.data=n(i,t)?i:t,o&&d()&&k.current.onSuccess(t,b,r)}catch(r){m();let e=k.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,o&&d())&&(e.onError(r,b,e),(!0===t||"function"==typeof t&&t(r))&&(!k.current.revalidateOnFocus||!k.current.revalidateOnReconnect||S())&&e.onErrorRetry(r,b,e,e=>{let t=h[b];t&&t[0]&&t[0](eH.ERROR_REVALIDATE_EVENT,e)},{retryCount:(i.retryCount||0)+1,dedupe:!0}))}return l=!1,u(),!0},[b,a]),Y=(0,s.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return eF(a,j.current,...t)},[]);if(eC(()=>{N.current=t,k.current=r,eu(V)||(q.current=V)}),eC(()=>{if(!b)return;let e=J.bind(ed,eK),t=0;k.current.revalidateOnFocus&&(t=Date.now()+k.current.focusThrottleInterval);let r=((e,t,r)=>{let s=t[e]||(t[e]=[]);return s.push(r),()=>{let e=s.indexOf(r);e>=0&&(s[e]=s[s.length-1],s.pop())}})(b,h,function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r==eH.FOCUS_EVENT){let r=Date.now();k.current.revalidateOnFocus&&r>t&&S()&&(t=r+k.current.focusThrottleInterval,e())}else if(r==eH.RECONNECT_EVENT)k.current.revalidateOnReconnect&&S()&&e();else if(r==eH.MUTATE_EVENT)return J();else if(r==eH.ERROR_REVALIDATE_EVENT)return J(s)});return w.current=!1,j.current=b,v.current=!0,E({_k:y}),W&&!p[b]&&(eu(I)||eS?e():(e=>ep&&typeof window.requestAnimationFrame!=eg?window.requestAnimationFrame(e):setTimeout(e,1))(e)),()=>{w.current=!0,r()}},[b]),eC(()=>{let e;function t(){let t="function"==typeof c?c(C().data):c;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!C().error&&(u||k.current.isVisible())&&(m||k.current.isOnline())?J(eK).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[c,u,m,b]),(0,s.useDebugValue)(z),l){let e=b&&eu(I);if(!ek&&eS&&e)throw Error("Fallback data is required when using Suspense in SSR.");e&&(N.current=t,k.current=r,w.current=!1);let s=f[b];if(e$(!eu(s)&&e?Y(s):eZ),!eu(P)&&e)throw P;let a=e?J(eK):eZ;!eu(z)&&e&&(a.status="fulfilled",a.value=!0),e$(a)}return{mutate:Y,get data(){return T.data=!0,z},get error(){return T.error=!0,P},get isValidating(){return T.isValidating=!0,H},get isLoading(){return T.isLoading=!0,B}}},function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];let n=(()=>{let e=(0,s.useContext)(eU);return(0,s.useMemo)(()=>em(ez,e),[e])})(),[l,i,o]="function"==typeof r[1]?[r[0],r[1],r[2]||{}]:[r[0],null,(null===r[1]?r[2]:r[1])||{}],d=eW(n,o),c=t,{use:u}=d,m=(u||[]).concat(eJ);for(let e=m.length;e--;)c=m[e](c);return c(l,i||d.fetcher||null,d)}),eX=o("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),e0=o("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),e1=o("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),e2=o("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),e5=o("heart-handshake",[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]]),e4=o("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),e6=e=>fetch(e).then(e=>e.json());function e3(e){var t;let{onNavigateToCrisis:s}=e,{data:a,isLoading:n,error:l}=eQ("/api/resources",e6,{refreshInterval:3e5}),i=null!=(t=null==a?void 0:a.contacts)?t:[];return(0,r.jsxs)("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[(0,r.jsxs)("section",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(e5,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Support & Resources"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Connect with caring professionals and on-campus services ready to help."})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"These contacts are provided by your counseling center. Reach out to schedule an appointment, ask a question, or learn about available support options."})]}),n&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,t)=>(0,r.jsx)("div",{className:"h-40 bg-gradient-to-br from-gray-100 to-gray-200 animate-pulse rounded-2xl"},t))}),l&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 rounded-2xl p-4",children:"We could not load the resource list right now. Please try again in a few minutes."}),!n&&!l&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.map((e,t)=>(0,r.jsxs)("article",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200 p-6 space-y-4",children:[(0,r.jsxs)("header",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:e.name}),e.hours&&(0,r.jsxs)("div",{className:"mt-1 inline-flex items-center gap-2 text-sm text-gray-500",children:[(0,r.jsx)(b,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:e.hours})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600",children:[e.phone&&(0,r.jsxs)("a",{href:"tel:".concat(e.phone),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-blue-50 text-blue-700 font-medium hover:bg-blue-100 transition-colors",children:[(0,r.jsx)(eX,{className:"h-4 w-4"}),"Call ",e.phone]}),e.email&&(0,r.jsxs)("a",{href:"mailto:".concat(e.email),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-green-50 text-green-700 font-medium hover:bg-green-100 transition-colors",children:[(0,r.jsx)(e0,{className:"h-4 w-4"}),"Email Support"]}),e.locationUrl&&(0,r.jsxs)("a",{href:e.locationUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-purple-50 text-purple-700 font-medium hover:bg-purple-100 transition-colors",children:[(0,r.jsx)(e1,{className:"h-4 w-4"}),"Visit Website",(0,r.jsx)(e2,{className:"h-3 w-3"})]})]})]},"".concat(e.name,"-").concat(t))),0===i.length&&(0,r.jsx)("div",{className:"col-span-full bg-white border border-dashed border-gray-300 rounded-2xl p-6 text-center text-gray-500",children:"No counseling contacts are available yet. Check back soon or reach out to your counseling center directly."})]}),(0,r.jsxs)("section",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-2xl p-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Need immediate help?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"If you or someone you know is in crisis, visit the Crisis Support tab to find emergency hotlines and safety planning tools."}),(0,r.jsxs)("button",{type:"button",onClick:s,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-200 disabled:opacity-50",disabled:!s,children:["Explore Crisis Support",(0,r.jsx)(e4,{className:"h-4 w-4"})]})]})]})}let e8=o("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),e7=o("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),e9=o("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function te(){let e=[{day:"Mon",mood:3,activities:2},{day:"Tue",mood:4,activities:3},{day:"Wed",mood:2,activities:1},{day:"Thu",mood:4,activities:4},{day:"Fri",mood:5,activities:3},{day:"Sat",mood:4,activities:5},{day:"Sun",mood:3,activities:2}],t=Math.max(...e.map(e=>e.activities));return(0,r.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(q,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Your Mental Health Journey"})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Track your progress and celebrate your achievements in mental wellness."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,r.jsx)(G,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Average Mood"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[3.6,"/5"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,r.jsx)(e8,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Current Streak"}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-gray-800",children:[7," days"]})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center",children:(0,r.jsx)(e7,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Total Sessions"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:28})]})]})}),(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center",children:(0,r.jsx)(I,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Activities Done"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:142})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"This Week's Mood"}),(0,r.jsx)("div",{className:"space-y-4",children:e.map((e,s)=>{var a;return(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-12 text-sm font-medium text-gray-600",children:e.day}),(0,r.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex-1 bg-gray-200 rounded-full h-3 relative overflow-hidden",children:(0,r.jsx)("div",{className:"h-full rounded-full ".concat((a=e.mood)>=4.5?"bg-green-500":a>=3.5?"bg-blue-500":a>=2.5?"bg-yellow-500":a>=1.5?"bg-orange-500":"bg-red-500"," transition-all duration-500"),style:{width:"".concat(e.mood/5*100,"%")}})}),(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-700 w-8",children:[e.mood,"/5"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"flex gap-1",children:Array.from({length:t}).map((t,s)=>(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s<e.activities?"bg-purple-500":"bg-gray-300")},s))}),(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:[e.activities," activities"]})]})]},s)})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(e9,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Achievements"})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{title:"7-Day Streak",description:"Tracked mood for 7 consecutive days",earned:!0},{title:"Mindful Explorer",description:"Completed 5 mindfulness exercises",earned:!0},{title:"Mood Master",description:"Maintained average mood above 3.5 for a week",earned:!0},{title:"Resource Reader",description:"Read 10 mental health articles",earned:!1}].map((e,t)=>(0,r.jsx)("div",{className:"\n                p-4 rounded-xl border-2 transition-all duration-200\n                ".concat(e.earned?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-300":"bg-gray-50 border-gray-200","\n              "),children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"\n                  w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold\n                  ".concat(e.earned?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white":"bg-gray-300 text-gray-600","\n                "),children:"ðŸ†"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold ".concat(e.earned?"text-orange-800":"text-gray-600"),children:e.title}),(0,r.jsx)("p",{className:"text-sm ".concat(e.earned?"text-orange-600":"text-gray-500"),children:e.description})]})]})},t))})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200 p-6 text-center",children:[(0,r.jsx)("p",{className:"text-lg italic text-gray-700 mb-2",children:'"The greatest revolution of our generation is the discovery that human beings, by changing the inner attitudes of their minds, can change the outer aspects of their lives."'}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"â€” William James"})]})]})}let tt=o("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),tr=[{name:"988 Suicide & Crisis Lifeline",description:"Free, confidential support for people in distress and crisis prevention.",phone:"988",text:"Text HOME to 741741",website:"suicidepreventionlifeline.org",hours:"24/7",icon:eX},{name:"Crisis Text Line",description:"Free, 24/7 support via text message for anyone in crisis.",phone:"1-741-741",text:"Text HELLO to 741741",website:"crisistextline.org",hours:"24/7",icon:V},{name:"SAMHSA National Helpline",description:"Treatment referral and information service for mental health and substance use.",phone:"1-800-662-4357",website:"samhsa.gov",hours:"24/7",icon:tt},{name:"Trans Lifeline",description:"Crisis support specifically for transgender individuals.",phone:"877-565-8860",website:"translifeline.org",hours:"24/7",icon:o("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}],ts=[{title:"Immediate Danger",description:"If you are in immediate physical danger, call 911 or go to your nearest emergency room.",color:"bg-red-50 border-red-300 text-red-800"},{title:"Suicidal Thoughts",description:"If you are having thoughts of suicide, call 988 or text HOME to 741741 immediately.",color:"bg-orange-50 border-orange-300 text-orange-800"},{title:"Need to Talk",description:"If you need someone to talk to, reach out to any of the crisis resources below.",color:"bg-blue-50 border-blue-300 text-blue-800"}],ta=["Remove any means of self-harm from your immediate environment","Stay with trusted friends or family members","Avoid alcohol and drugs, which can worsen symptoms","Create a safety plan with specific steps to take during a crisis","Keep crisis hotline numbers easily accessible","Practice grounding techniques like deep breathing or mindfulness"];function tn(e){let{onReturnToChat:t}=e;return(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"bg-red-50 border-2 border-red-300 rounded-2xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-red-500 rounded-full flex items-center justify-center",children:(0,r.jsx)(z,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-red-800",children:"Crisis Support"}),(0,r.jsx)("p",{className:"text-red-700",children:"Immediate help when you need it most"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-red-200",children:[(0,r.jsx)("p",{className:"text-lg font-semibold text-red-800 mb-2",children:"ðŸš¨ If you're in immediate danger, call 988"}),(0,r.jsx)("p",{className:"text-red-700",children:"This page provides crisis resources, but if you're experiencing a medical emergency or are in immediate physical danger, please call emergency services right away."})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"What to Do Right Now"}),(0,r.jsx)("div",{className:"space-y-4",children:ts.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(e.color),children:[(0,r.jsx)("h3",{className:"font-bold text-lg mb-2",children:e.title}),(0,r.jsx)("p",{children:e.description})]},t))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Crisis Hotlines & Resources"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:tr.map((e,t)=>{let s=e.icon;return(0,r.jsx)("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(s,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eX,{className:"h-4 w-4 text-green-600"}),(0,r.jsx)("a",{href:"tel:".concat(e.phone),className:"font-bold text-green-600 hover:text-green-800 text-lg",children:e.phone})]}),e.text&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(V,{className:"h-4 w-4 text-blue-600"}),(0,r.jsx)("span",{className:"text-blue-600 text-sm",children:e.text})]}),e.website&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(tt,{className:"h-4 w-4 text-purple-600"}),(0,r.jsx)("a",{href:"https://".concat(e.website),target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 text-sm",children:e.website})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b,{className:"h-4 w-4 text-gray-500"}),(0,r.jsx)("span",{className:"text-gray-600 text-sm",children:e.hours})]})]})]})]})},t)})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Safety & Coping Strategies"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ta.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("span",{className:"text-white text-sm font-bold",children:t+1})}),(0,r.jsx)("p",{className:"text-gray-700",children:e})]},t))})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl border border-purple-200 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"International Crisis Support"}),(0,r.jsx)("p",{className:"text-gray-700 mb-4",children:"If you're located outside the United States, please visit these resources for crisis support in your country:"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,r.jsx)("a",{href:"https://findahelpline.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium",children:"Find a Helpline (Global)"}),(0,r.jsx)("a",{href:"https://www.iasp.info/resources/Crisis_Centres/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-white border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-purple-700 font-medium",children:"International Association for Suicide Prevention"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Continue Your Journey"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"After getting the support you need, Lumora is here to help you continue your mental health journey."}),(0,r.jsx)("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:"Return to Chat"})]})]})}let tl=e=>new Promise((t,r)=>{if(document.querySelector('script[src="'.concat(e,'"]')))return void t();let s=document.createElement("script");s.src=e,s.async=!0,s.onload=()=>t(),s.onerror=()=>r(Error("Failed to load script: ".concat(e))),document.body.appendChild(s)}),ti=function(e){let{onEnterApp:t}=e,a=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e,t=!0,r=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;return(async()=>{try{var s;let l;if(await (l="https://unpkg.com/aos@2.3.1/dist/aos.css",new Promise((e,t)=>{if(document.querySelector('link[href="'.concat(l,'"]')))return void e();let r=document.createElement("link");r.rel="stylesheet",r.href=l,r.onload=()=>e(),r.onerror=()=>t(Error("Failed to load stylesheet: ".concat(l))),document.head.appendChild(r)})),await tl("https://unpkg.com/aos@2.3.1/dist/aos.js"),await tl("https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"),r||window.THREE||await tl("https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"),r||await tl("https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.waves.min.js"),!t)return;!r&&window.VANTA&&window.THREE&&a.current&&!n.current&&(n.current=window.VANTA.WAVES({el:a.current,color:0xb8a9f5,backgroundColor:0xfdfbff,waveHeight:15,shininess:25,waveSpeed:.5,zoom:.9})),!r&&window.AOS&&window.AOS.init({duration:700,once:!0}),null==(s=window.feather)||s.replace(),e=function(){let e=document.getElementById("early-form");if(!e)return()=>{};let t=document.getElementById("form-status"),r=document.getElementById("submit-btn"),s=async s=>{if(s.preventDefault(),!r||!t)return;t.textContent="",r.disabled=!0,r.style.opacity="0.8";let a=new FormData(e);if(a.get("_gotcha")){r.disabled=!1,r.style.opacity="";return}try{(await fetch("https://formspree.io/f/mzzanbqy",{method:"POST",body:a,headers:{Accept:"application/json"}})).ok?(e.reset(),t.textContent="Thanks! Check your inbox soon."):t.textContent="Something went wrong. Please try again."}catch(e){console.error("Failed to submit early access form",e),t.textContent="Network errorâ€”please try again."}finally{r.disabled=!1,r.style.opacity=""}};return e.addEventListener("submit",s),()=>{e.removeEventListener("submit",s)}}()}catch(e){console.error("Failed to initialise landing page enhancements",e)}})(),()=>{if(t=!1,n.current){var r,s;null==(r=(s=n.current).destroy)||r.call(s),n.current=null}null==e||e()}},[]),(0,r.jsxs)("div",{className:"min-h-screen font-sans antialiased bg-gradient-to-br from-calm-50 via-white to-serene-50",children:[(0,r.jsxs)("div",{ref:a,className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute -bottom-32 -left-32 h-96 w-96 rounded-full bg-gradient-to-tr from-serene-400/20 via-white/10 to-transparent blur-3xl"}),(0,r.jsx)("div",{className:"absolute -bottom-48 -right-24 h-[30rem] w-[30rem] rounded-full bg-accent/30 blur-[160px]"})]}),(0,r.jsx)("nav",{className:"relative z-10 px-6 py-7 flex items-center",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"relative w-12 h-12 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]"}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lumora"}),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:"(Beta)"})]}),(0,r.jsx)("p",{className:"text-sm font-bold text-gray-500 hidden sm:block",children:"Light for the mind"})]})]})}),(0,r.jsx)("div",{className:"relative z-10 max-w-7xl mx-auto px-6 pt-20 pb-32 md:pt-28 md:pb-40 text-center",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-4xl flex-col items-center gap-7",children:[(0,r.jsx)("h1",{className:"text-5xl font-bold leading-tight text-foreground md:text-7xl text-balance","data-aos":"fade-up","data-aos-delay":"60",children:"Light for the mind."}),(0,r.jsx)("p",{className:"max-w-2xl text-lg text-muted-foreground md:text-xl leading-relaxed text-pretty","data-aos":"fade-up","data-aos-delay":"110",children:"A calm space designed to support your mental wellbeing anytime, anywhere."}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-4 sm:flex-row sm:gap-5 mt-2","data-aos":"fade-up","data-aos-delay":"160",children:[(0,r.jsx)("a",{href:"#features",className:"w-full sm:w-auto rounded-full bg-gradient-to-r from-serene-400 to-accent px-9 py-4 text-[15px] font-semibold text-white shadow-lg shadow-serene-400/30 transition-all hover:shadow-xl hover:shadow-serene-400/40 hover:scale-[1.02] active:scale-95",children:"Follow the Signal"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"w-full sm:w-auto rounded-full border-2 border-calm-200/60 bg-white/80 backdrop-blur-sm px-9 py-4 text-[15px] font-semibold text-foreground transition-all hover:bg-white hover:shadow-md hover:scale-105 active:scale-95",children:"Enter the App"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-5 pt-6 text-sm text-muted-foreground md:flex-row md:gap-8","data-aos":"fade-up","data-aos-delay":"200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("span",{className:"h-2 w-2 rounded-full bg-accent"}),"From stress to support. // 2025"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("i",{"data-feather":"shield",className:"h-4 w-4 opacity-70"}),"Private by default, always."]})]})]})})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-b from-serene-50/30 via-accent/5 to-calm-50/40",children:[(0,r.jsx)("section",{id:"features",className:"relative z-10 -mt-16 bg-transparent py-28",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,r.jsxs)("div",{className:"mx-auto max-w-3xl text-center mb-16","data-aos":"fade-up",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-foreground md:text-4xl text-balance",children:"Features that care for you"}),(0,r.jsx)("p",{className:"mt-4 text-lg text-muted-foreground leading-relaxed text-pretty",children:"An AI companion offers personalized support for your mental wellbeing"})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"message-circle",className:"h-6 w-6 text-serene-600"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"Always Available"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Get support whenever you need it, day or night, without waiting for appointments."})]}),(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up","data-aos-delay":"80",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-calm-500/20 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"heart",className:"h-6 w-6 text-serene-600"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"Personalized Support"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Our AI learns about you and adapts to provide the most relevant support for your needs."})]}),(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up","data-aos-delay":"160",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"shield",className:"h-6 w-6 text-success"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"Judgment-Free Zone"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Express yourself freely in a safe, confidential space without fear of judgment."})]}),(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up","data-aos-delay":"160",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/15 to-accent/15 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"activity",className:"h-6 w-6 text-serene"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"Mood Tracking"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Track your emotional patterns and receive insights to better understand your wellbeing."})]}),(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up","data-aos-delay":"160",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-serene-400/20 to-success/10 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"book",className:"h-6 w-6 text-serene"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"Journaling"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Reflect on your feelings with daily journaling prompts that help you process emotions and track growth.                "})]}),(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl bg-white/80 backdrop-blur-sm border border-calm-200/60 p-8 shadow-sm transition-all hover:shadow-xl hover:scale-[1.02] hover:border-serene-400/30","data-aos":"fade-up","data-aos-delay":"160",children:[(0,r.jsx)("div",{className:"mb-7 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-success/20 to-success/10 shadow-sm",children:(0,r.jsx)("i",{"data-feather":"command",className:"h-6 w-6 text-success"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-foreground mb-3",children:"CSUF-CAPS Connection"}),(0,r.jsx)("p",{className:"text-[15px] leading-relaxed text-muted-foreground",children:"Book appointments or reach out directly to CSUF Counseling and Psychological Services from within the app."})]})]})]})}),(0,r.jsxs)("footer",{className:"relative z-10 border-t border-calm-200/60 bg-white/80 backdrop-blur-sm py-16",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col gap-10 px-6 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,r.jsx)("div",{className:"relative w-9 h-9 rounded-full bg-gradient-to-b from-yellow-300 via-purple-400 to-blue-500 shadow-[0_0_40px_10px_rgba(147,112,219,0.3)]"}),(0,r.jsx)("div",{className:"flex flex-col items-center leading-tight",children:(0,r.jsx)("h1",{className:"text-l font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Lumora"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Light for the mind. Becoming."})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-8 text-sm",children:[(0,r.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://linkedin.com/company/lumorawellness/",className:"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105","aria-label":"LinkedIn",children:[(0,r.jsx)("i",{"data-feather":"linkedin",className:"h-4 w-4"}),"LinkedIn"]}),(0,r.jsxs)("a",{href:"mailto:lumoraahelp@gmail.com",className:"flex items-center gap-2.5 text-muted-foreground transition-all hover:text-serene-600 hover:scale-105",children:[(0,r.jsx)("i",{"data-feather":"mail",className:"h-4 w-4"}),"Say hello"]})]})]}),(0,r.jsx)("p",{className:"mt-10 text-center text-xs text-muted-foreground",children:"Â© 2025 Lumora. All rights reserved. "})]})]})]})};e.i(51718);var to=e.i(6973);function td(){return(0,to.getAuth)((0,C.getFirebaseApp)())}async function tc(e){let t=td(),r=await (0,to.createUserWithEmailAndPassword)(t,e.email,e.password);e.name&&await (0,to.updateProfile)(r.user,{displayName:e.name});let s=(0,E.getFirestore)((0,C.getFirebaseApp)()),a=(0,E.doc)(s,"users",r.user.uid);return await (0,E.setDoc)(a,{uid:r.user.uid,email:e.email,name:e.name,age:e.age,gender:e.gender,accountType:e.accountType,createdAt:new Date().toISOString()}),r}async function tu(e,t){let r=td();return(0,to.signInWithEmailAndPassword)(r,e,t)}let tm=[{value:"female",label:"Female"},{value:"male",label:"Male"},{value:"non-binary",label:"Non-binary"},{value:"prefer_not_to_say",label:"Prefer not to say"}],tx=[{value:"user",label:"User"},{value:"therapist",label:"Therapist"}];function th(){var e,t,a,n;let{refreshProfile:l}=(0,m.useAuth)(),[i,o]=(0,s.useState)("login"),[d,c]=(0,s.useState)({email:"",password:"",name:"",age:"",gender:null!=(a=null==(e=tm[0])?void 0:e.value)?a:"",accountType:null!=(n=null==(t=tx[0])?void 0:t.value)?n:"user"}),[u,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),p=()=>{g(null),o(e=>"login"===e?"register":"login")},f=async e=>{e.preventDefault(),x(!0),g(null);try{if(!d.email||!d.password)throw Error("Email and password are required.");if("register"===i){var t;if(!d.name)throw Error("Name is required for registration.");let e=Number(d.age);if(!Number.isFinite(e)||e<=0)throw Error("Please enter a valid age.");if(!d.gender)throw Error("Please select a gender.");await tc({email:d.email,password:d.password,name:d.name,age:e,gender:d.gender,accountType:null!=(t=d.accountType)?t:"user"}),await l();return}await tu(d.email,d.password),await l()}catch(e){g(e instanceof Error?e.message:"Something went wrong. Please try again.")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"max-w-md w-full bg-white/70 backdrop-blur border border-indigo-100 rounded-xl shadow-lg p-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-indigo-900 text-center mb-2",children:"login"===i?"Welcome!":"Create Your Account"}),(0,r.jsx)("p",{className:"text-sm text-indigo-700/80 text-center mb-6",children:"login"===i?"Log in with your email to continue your journey with Lumora.":"Join Lumora to access personalized support and resources."}),(0,r.jsxs)("form",{onSubmit:f,className:"space-y-4",children:["register"===i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Name"}),(0,r.jsx)("input",{type:"text",value:d.name,onChange:e=>c(t=>({...t,name:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"Your full name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Age"}),(0,r.jsx)("input",{type:"number",min:1,value:d.age,onChange:e=>c(t=>({...t,age:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"Your age"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Gender"}),(0,r.jsx)("select",{value:d.gender,onChange:e=>c(t=>({...t,gender:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white",children:tm.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Account Type"}),(0,r.jsx)("select",{value:d.accountType,onChange:e=>c(t=>({...t,accountType:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-white",children:tx.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",value:d.email,onChange:e=>c(t=>({...t,email:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"you@example.com",autoComplete:"email"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-indigo-900 mb-1",children:"Password"}),(0,r.jsx)("input",{type:"password",value:d.password,onChange:e=>c(t=>({...t,password:e.target.value})),className:"w-full rounded-lg border border-indigo-200 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:"Enter a secure password",autoComplete:"login"===i?"current-password":"new-password"})]}),h&&(0,r.jsx)("p",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-3 py-2",children:h}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-indigo-600 text-white py-2 rounded-lg font-semibold hover:bg-indigo-700 transition disabled:opacity-60 disabled:cursor-not-allowed",children:u?"Please waitâ€¦":"login"===i?"Log In":"Register"})]}),(0,r.jsx)("p",{className:"text-sm text-indigo-700/80 text-center mt-6",children:"login"===i?(0,r.jsxs)(r.Fragment,{children:["Need an account?"," ",(0,r.jsx)("button",{type:"button",onClick:p,className:"text-indigo-600 font-medium hover:underline",children:"Register here"})]}):(0,r.jsxs)(r.Fragment,{children:["Already joined Lumora?"," ",(0,r.jsx)("button",{type:"button",onClick:p,className:"text-indigo-600 font-medium hover:underline",children:"Log in instead"})]})})]})}function tg(e){let{children:t}=e,{user:a,loading:n,guestMode:l,enableGuestMode:i}=(0,m.useAuth)(),[o,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(!n){if(a){d(!1),u(!1);return}l||o||(d(!0),u(!0))}},[l,n,o,a]);let x=(0,s.useCallback)(()=>{i(),d(!1),u(!1)},[i]),g=(0,s.useCallback)(()=>{d(!0),u(!0)},[]),p=(0,s.useMemo)(()=>({requestLogin:g}),[g]);return n?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100",children:(0,r.jsx)("div",{className:"text-indigo-700 font-medium",children:"Loading your workspaceâ€¦"})}):(0,r.jsx)(h,{value:p,children:(0,r.jsxs)("div",{className:"relative min-h-screen",children:[t,o&&(0,r.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/40 px-4 py-8 backdrop-blur-sm",children:(0,r.jsx)("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-2xl border border-indigo-100",children:c?(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"mb-4 flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-indigo-900",children:"Sign in to save your progress"}),(0,r.jsx)("p",{className:"text-sm text-indigo-700/80",children:"Your conversations and tools stay synced when you create an account."})]})}),(0,r.jsx)(th,{}),(0,r.jsx)("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-between",children:(0,r.jsx)("button",{type:"button",onClick:x,className:"order-1 inline-flex justify-center rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800 sm:order-2",children:"Continue without saving"})})]}):null})})]})})}function tp(){let[e,t]=(0,s.useState)("chat"),[a,n]=(0,s.useState)(!1);return(0,r.jsxs)("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,r.jsx)(Y,{currentView:e,setCurrentView:t,isOpen:a,onClose:()=>n(!1)}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)(f,{onMenuClick:()=>n(!0),currentView:e}),(0,r.jsx)("main",{className:"flex-1 ".concat("chat"===e?"overflow-hidden":"overflow-y-auto"),children:(()=>{switch(e){case"chat":default:return(0,r.jsx)(F,{});case"mood":return(0,r.jsx)(ee,{});case"resources":return(0,r.jsx)(e3,{onNavigateToCrisis:()=>t("crisis")});case"dashboard":return(0,r.jsx)(te,{});case"crisis":return(0,r.jsx)(tn,{onReturnToChat:()=>t("chat")})}})()})]}),a&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>n(!1)})]})}function tf(){let[e,t]=(0,s.useState)(!0);return e?(0,r.jsx)(ti,{onEnterApp:()=>t(!1)}):(0,r.jsx)(tg,{children:(0,r.jsx)(tp,{})})}function tb(){return(0,r.jsx)(tf,{})}}]);